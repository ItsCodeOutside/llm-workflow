(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function kg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var cc={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function q0(){if(zp)return $o;zp=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(l,s,r){var m=null;if(r!==void 0&&(m=""+r),s.key!==void 0&&(m=""+s.key),"key"in s){r={};for(var h in s)h!=="key"&&(r[h]=s[h])}else r=s;return s=r.ref,{$$typeof:o,type:l,key:m,ref:s!==void 0?s:null,props:r}}return $o.Fragment=e,$o.jsx=t,$o.jsxs=t,$o}var qp;function H0(){return qp||(qp=1,cc.exports=q0()),cc.exports}var C=H0(),fc={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function F0(){if(Hp)return Se;Hp=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function I(M,Y,te){this.props=M,this.context=Y,this.refs=D,this.updater=te||A}I.prototype.isReactComponent={},I.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},I.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function w(){}w.prototype=I.prototype;function k(M,Y,te){this.props=M,this.context=Y,this.refs=D,this.updater=te||A}var z=k.prototype=new w;z.constructor=k,E(z,I.prototype),z.isPureReactComponent=!0;var B=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function j(M,Y,te,ne,X,de){return te=de.ref,{$$typeof:o,type:M,key:Y,ref:te!==void 0?te:null,props:de}}function ie(M,Y){return j(M.type,Y,void 0,void 0,void 0,M.props)}function K(M){return typeof M=="object"&&M!==null&&M.$$typeof===o}function J(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var Me=/\/+/g;function qe(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?J(""+M.key):Y.toString(36)}function nt(){}function Qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(nt,nt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function he(M,Y,te,ne,X){var de=typeof M;(de==="undefined"||de==="boolean")&&(M=null);var re=!1;if(M===null)re=!0;else switch(de){case"bigint":case"string":case"number":re=!0;break;case"object":switch(M.$$typeof){case o:case e:re=!0;break;case v:return re=M._init,he(re(M._payload),Y,te,ne,X)}}if(re)return X=X(M),re=ne===""?"."+qe(M,0):ne,B(X)?(te="",re!=null&&(te=re.replace(Me,"$&/")+"/"),he(X,Y,te,"",function(Mt){return Mt})):X!=null&&(K(X)&&(X=ie(X,te+(X.key==null||M&&M.key===X.key?"":(""+X.key).replace(Me,"$&/")+"/")+re)),Y.push(X)),1;re=0;var Ce=ne===""?".":ne+":";if(B(M))for(var Ie=0;Ie<M.length;Ie++)ne=M[Ie],de=Ce+qe(ne,Ie),re+=he(ne,Y,te,de,X);else if(Ie=S(M),typeof Ie=="function")for(M=Ie.call(M),Ie=0;!(ne=M.next()).done;)ne=ne.value,de=Ce+qe(ne,Ie++),re+=he(ne,Y,te,de,X);else if(de==="object"){if(typeof M.then=="function")return he(Qe(M),Y,te,ne,X);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return re}function q(M,Y,te){if(M==null)return M;var ne=[],X=0;return he(M,ne,"","",function(de){return Y.call(te,de,X++)}),ne}function ee(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function xe(){}return Se.Children={map:q,forEach:function(M,Y,te){q(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return q(M,function(){Y++}),Y},toArray:function(M){return q(M,function(Y){return Y})||[]},only:function(M){if(!K(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Se.Component=I,Se.Fragment=t,Se.Profiler=s,Se.PureComponent=k,Se.StrictMode=l,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ne=E({},M.props),X=M.key,de=void 0;if(Y!=null)for(re in Y.ref!==void 0&&(de=void 0),Y.key!==void 0&&(X=""+Y.key),Y)!$.call(Y,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&Y.ref===void 0||(ne[re]=Y[re]);var re=arguments.length-2;if(re===1)ne.children=te;else if(1<re){for(var Ce=Array(re),Ie=0;Ie<re;Ie++)Ce[Ie]=arguments[Ie+2];ne.children=Ce}return j(M.type,X,void 0,void 0,de,ne)},Se.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:r,_context:M},M},Se.createElement=function(M,Y,te){var ne,X={},de=null;if(Y!=null)for(ne in Y.key!==void 0&&(de=""+Y.key),Y)$.call(Y,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(X[ne]=Y[ne]);var re=arguments.length-2;if(re===1)X.children=te;else if(1<re){for(var Ce=Array(re),Ie=0;Ie<re;Ie++)Ce[Ie]=arguments[Ie+2];X.children=Ce}if(M&&M.defaultProps)for(ne in re=M.defaultProps,re)X[ne]===void 0&&(X[ne]=re[ne]);return j(M,de,void 0,void 0,null,X)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:h,render:M}},Se.isValidElement=K,Se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ee}},Se.memo=function(M,Y){return{$$typeof:p,type:M,compare:Y===void 0?null:Y}},Se.startTransition=function(M){var Y=V.T,te={};V.T=te;try{var ne=M(),X=V.S;X!==null&&X(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(xe,oe)}catch(de){oe(de)}finally{V.T=Y}},Se.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Se.use=function(M){return V.H.use(M)},Se.useActionState=function(M,Y,te){return V.H.useActionState(M,Y,te)},Se.useCallback=function(M,Y){return V.H.useCallback(M,Y)},Se.useContext=function(M){return V.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,Y){return V.H.useDeferredValue(M,Y)},Se.useEffect=function(M,Y,te){var ne=V.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(M,Y)},Se.useId=function(){return V.H.useId()},Se.useImperativeHandle=function(M,Y,te){return V.H.useImperativeHandle(M,Y,te)},Se.useInsertionEffect=function(M,Y){return V.H.useInsertionEffect(M,Y)},Se.useLayoutEffect=function(M,Y){return V.H.useLayoutEffect(M,Y)},Se.useMemo=function(M,Y){return V.H.useMemo(M,Y)},Se.useOptimistic=function(M,Y){return V.H.useOptimistic(M,Y)},Se.useReducer=function(M,Y,te){return V.H.useReducer(M,Y,te)},Se.useRef=function(M){return V.H.useRef(M)},Se.useState=function(M){return V.H.useState(M)},Se.useSyncExternalStore=function(M,Y,te){return V.H.useSyncExternalStore(M,Y,te)},Se.useTransition=function(){return V.H.useTransition()},Se.version="19.1.0",Se}var Fp;function Hc(){return Fp||(Fp=1,fc.exports=F0()),fc.exports}var R=Hc();const Y0=kg(R);var dc={exports:{}},Ko={},mc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function Z0(){return Yp||(Yp=1,function(o){function e(q,ee){var oe=q.length;q.push(ee);e:for(;0<oe;){var xe=oe-1>>>1,M=q[xe];if(0<s(M,ee))q[xe]=ee,q[oe]=M,oe=xe;else break e}}function t(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ee=q[0],oe=q.pop();if(oe!==ee){q[0]=oe;e:for(var xe=0,M=q.length,Y=M>>>1;xe<Y;){var te=2*(xe+1)-1,ne=q[te],X=te+1,de=q[X];if(0>s(ne,oe))X<M&&0>s(de,ne)?(q[xe]=de,q[X]=oe,xe=X):(q[xe]=ne,q[te]=oe,xe=te);else if(X<M&&0>s(de,oe))q[xe]=de,q[X]=oe,xe=X;else break e}}return ee}function s(q,ee){var oe=q.sortIndex-ee.sortIndex;return oe!==0?oe:q.id-ee.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;o.unstable_now=function(){return r.now()}}else{var m=Date,h=m.now();o.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,x=null,S=3,A=!1,E=!1,D=!1,I=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function B(q){for(var ee=t(p);ee!==null;){if(ee.callback===null)l(p);else if(ee.startTime<=q)l(p),ee.sortIndex=ee.expirationTime,e(y,ee);else break;ee=t(p)}}function V(q){if(D=!1,B(q),!E)if(t(y)!==null)E=!0,$||($=!0,qe());else{var ee=t(p);ee!==null&&he(V,ee.startTime-q)}}var $=!1,j=-1,ie=5,K=-1;function J(){return I?!0:!(o.unstable_now()-K<ie)}function Me(){if(I=!1,$){var q=o.unstable_now();K=q;var ee=!0;try{e:{E=!1,D&&(D=!1,k(j),j=-1),A=!0;var oe=S;try{t:{for(B(q),x=t(y);x!==null&&!(x.expirationTime>q&&J());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,S=x.priorityLevel;var M=xe(x.expirationTime<=q);if(q=o.unstable_now(),typeof M=="function"){x.callback=M,B(q),ee=!0;break t}x===t(y)&&l(y),B(q)}else l(y);x=t(y)}if(x!==null)ee=!0;else{var Y=t(p);Y!==null&&he(V,Y.startTime-q),ee=!1}}break e}finally{x=null,S=oe,A=!1}ee=void 0}}finally{ee?qe():$=!1}}}var qe;if(typeof z=="function")qe=function(){z(Me)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Qe=nt.port2;nt.port1.onmessage=Me,qe=function(){Qe.postMessage(null)}}else qe=function(){w(Me,0)};function he(q,ee){j=w(function(){q(o.unstable_now())},ee)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(q){q.callback=null},o.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<q?Math.floor(1e3/q):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(q){switch(S){case 1:case 2:case 3:var ee=3;break;default:ee=S}var oe=S;S=ee;try{return q()}finally{S=oe}},o.unstable_requestPaint=function(){I=!0},o.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=S;S=q;try{return ee()}finally{S=oe}},o.unstable_scheduleCallback=function(q,ee,oe){var xe=o.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?xe+oe:xe):oe=xe,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,q={id:v++,callback:ee,priorityLevel:q,startTime:oe,expirationTime:M,sortIndex:-1},oe>xe?(q.sortIndex=oe,e(p,q),t(y)===null&&q===t(p)&&(D?(k(j),j=-1):D=!0,he(V,oe-xe))):(q.sortIndex=M,e(y,q),E||A||(E=!0,$||($=!0,qe()))),q},o.unstable_shouldYield=J,o.unstable_wrapCallback=function(q){var ee=S;return function(){var oe=S;S=ee;try{return q.apply(this,arguments)}finally{S=oe}}}}(pc)),pc}var Zp;function $0(){return Zp||(Zp=1,mc.exports=Z0()),mc.exports}var hc={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function K0(){if($p)return Ct;$p=1;var o=Hc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var l={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var m=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Ct.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(y,p,null,v)},Ct.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},Ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},Ct.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},Ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:A}):v==="script"&&l.d.X(y,{crossOrigin:x,integrity:S,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},Ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},Ct.requestFormReset=function(y){l.d.r(y)},Ct.unstable_batchedUpdates=function(y,p){return y(p)},Ct.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},Ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ct.version="19.1.0",Ct}var Kp;function J0(){if(Kp)return hc.exports;Kp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),hc.exports=K0(),hc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function X0(){if(Jp)return Ko;Jp=1;var o=$0(),e=Hc(),t=J0();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function m(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function h(n){if(r(n)!==n)throw Error(l(188))}function y(n){var i=n.alternate;if(!i){if(i=r(n),i===null)throw Error(l(188));return i!==n?null:n}for(var a=n,u=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){a=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return h(d),n;if(g===u)return h(d),i;g=g.sibling}throw Error(l(188))}if(a.return!==u.return)a=d,u=g;else{for(var T=!1,_=d.child;_;){if(_===a){T=!0,a=d,u=g;break}if(_===u){T=!0,u=d,a=g;break}_=_.sibling}if(!T){for(_=g.child;_;){if(_===a){T=!0,a=g,u=d;break}if(_===u){T=!0,u=g,a=d;break}_=_.sibling}if(!T)throw Error(l(189))}}if(a.alternate!==u)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),z=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function qe(n){return n===null||typeof n!="object"?null:(n=Me&&n[Me]||n["@@iterator"],typeof n=="function"?n:null)}var nt=Symbol.for("react.client.reference");function Qe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===nt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case I:return"Profiler";case D:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case z:return(n.displayName||"Context")+".Provider";case k:return(n._context.displayName||"Context")+".Consumer";case B:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return i=n.displayName||null,i!==null?i:Qe(n.type)||"Memo";case ie:i=n._payload,n=n._init;try{return Qe(n(i))}catch{}}return null}var he=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},xe=[],M=-1;function Y(n){return{current:n}}function te(n){0>M||(n.current=xe[M],xe[M]=null,M--)}function ne(n,i){M++,xe[M]=n.current,n.current=i}var X=Y(null),de=Y(null),re=Y(null),Ce=Y(null);function Ie(n,i){switch(ne(re,i),ne(de,n),ne(X,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?hp(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=hp(i),n=gp(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(X),ne(X,n)}function Mt(){te(X),te(de),te(re)}function hi(n){n.memoizedState!==null&&ne(Ce,n);var i=X.current,a=gp(i,n.type);i!==a&&(ne(de,n),ne(X,a))}function qi(n){de.current===n&&(te(X),te(de)),Ce.current===n&&(te(Ce),qo._currentValue=oe)}var Hl=Object.prototype.hasOwnProperty,Fl=o.unstable_scheduleCallback,Yl=o.unstable_cancelCallback,Xs=o.unstable_shouldYield,Qs=o.unstable_requestPaint,Bt=o.unstable_now,Ws=o.unstable_getCurrentPriorityLevel,fa=o.unstable_ImmediatePriority,Gn=o.unstable_UserBlockingPriority,Hi=o.unstable_NormalPriority,da=o.unstable_LowPriority,ma=o.unstable_IdlePriority,js=o.log,Zl=o.unstable_setDisableYieldValue,Tn=null,St=null;function an(n){if(typeof js=="function"&&Zl(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Tn,n)}catch{}}var _t=Math.clz32?Math.clz32:pa,er=Math.log,tr=Math.LN2;function pa(n){return n>>>=0,n===0?32:31-(er(n)/tr|0)|0}var Q=256,Oe=4194304;function Ze(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ht(n,i,a){var u=n.pendingLanes;if(u===0)return 0;var d=0,g=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var _=u&134217727;return _!==0?(u=_&~g,u!==0?d=Ze(u):(T&=_,T!==0?d=Ze(T):a||(a=_&~n,a!==0&&(d=Ze(a))))):(_=u&~g,_!==0?d=Ze(_):T!==0?d=Ze(T):a||(a=u&~n,a!==0&&(d=Ze(a)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:d}function at(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function sn(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var n=Q;return Q<<=1,(Q&4194048)===0&&(Q=256),n}function jt(){var n=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),n}function rn(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xn(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function $l(n,i,a,u,d,g){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var _=n.entanglements,N=n.expirationTimes,O=n.hiddenUpdates;for(a=T&~a;0<a;){var H=31-_t(a),Z=1<<H;_[H]=0,N[H]=-1;var P=O[H];if(P!==null)for(O[H]=null,H=0;H<P.length;H++){var G=P[H];G!==null&&(G.lane&=-536870913)}a&=~Z}u!==0&&Kl(n,u,0),g!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=g&~(T&~i))}function Kl(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-_t(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function ha(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var u=31-_t(a),d=1<<u;d&i|n[u]&i&&(n[u]|=i),a&=~d}}function Jl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Xl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ga(){var n=ee.p;return n!==0?n:(n=window.event,n===void 0?32:Lp(n.type))}function Ql(n,i){var a=ee.p;try{return ee.p=n,i()}finally{ee.p=a}}var zt=Math.random().toString(36).slice(2),ut="__reactFiber$"+zt,Tt="__reactProps$"+zt,zn="__reactContainer$"+zt,nr="__reactEvents$"+zt,Iy="__reactListeners$"+zt,Uy="__reactHandles$"+zt,nf="__reactResources$"+zt,Wl="__reactMarker$"+zt;function ir(n){delete n[ut],delete n[Tt],delete n[nr],delete n[Iy],delete n[Uy]}function Fi(n){var i=n[ut];if(i)return i;for(var a=n.parentNode;a;){if(i=a[zn]||a[ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=xp(n);n!==null;){if(a=n[ut])return a;n=xp(n)}return i}n=a,a=n.parentNode}return null}function Yi(n){if(n=n[ut]||n[zn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function jl(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function Zi(n){var i=n[nf];return i||(i=n[nf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(n){n[Wl]=!0}var lf=new Set,of={};function gi(n,i){$i(n,i),$i(n+"Capture",i)}function $i(n,i){for(of[n]=i,n=0;n<i.length;n++)lf.add(i[n])}var ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),af={},sf={};function Ly(n){return Hl.call(sf,n)?!0:Hl.call(af,n)?!1:ky.test(n)?sf[n]=!0:(af[n]=!0,!1)}function ya(n,i,a){if(Ly(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function va(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Cn(n,i,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+u)}}var lr,rf;function Ki(n){if(lr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);lr=i&&i[1]||"",rf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lr+n+rf}var or=!1;function ar(n,i){if(!n||or)return"";or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var P=G}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(G){P=G}n.call(Z.prototype)}}else{try{throw Error()}catch(G){P=G}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&P&&typeof G.stack=="string")return[G.stack,P.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],_=g[1];if(T&&_){var N=T.split(`
`),O=_.split(`
`);for(d=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;if(u===N.length||d===O.length)for(u=N.length-1,d=O.length-1;1<=u&&0<=d&&N[u]!==O[d];)d--;for(;1<=u&&0<=d;u--,d--)if(N[u]!==O[d]){if(u!==1||d!==1)do if(u--,d--,0>d||N[u]!==O[d]){var H=`
`+N[u].replace(" at new "," at ");return n.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",n.displayName)),H}while(1<=u&&0<=d);break}}}finally{or=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ki(a):""}function Oy(n){switch(n.tag){case 26:case 27:case 5:return Ki(n.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return ar(n.type,!1);case 11:return ar(n.type.render,!1);case 1:return ar(n.type,!0);case 31:return Ki("Activity");default:return""}}function uf(n){try{var i="";do i+=Oy(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cf(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vy(n){var i=cf(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){u=""+T,g.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ta(n){n._valueTracker||(n._valueTracker=Vy(n))}function ff(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),u="";return n&&(u=cf(n)?n.checked?"true":"false":n.value),n=u,n!==a?(i.setValue(n),!0):!1}function xa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Py=/[\n"\\]/g;function Ht(n){return n.replace(Py,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function sr(n,i,a,u,d,g,T,_){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+qt(i)):n.value!==""+qt(i)&&(n.value=""+qt(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?rr(n,T,qt(i)):a!=null?rr(n,T,qt(a)):u!=null&&n.removeAttribute("value"),d==null&&g!=null&&(n.defaultChecked=!!g),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+qt(_):n.removeAttribute("name")}function df(n,i,a,u,d,g,T,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,_||i===n.value||(n.value=i),n.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=_?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function rr(n,i,a){i==="number"&&xa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ji(n,i,a,u){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&u&&(n[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function mf(n,i,a){if(i!=null&&(i=""+qt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+qt(a):""}function pf(n,i,a,u){if(i==null){if(u!=null){if(a!=null)throw Error(l(92));if(he(u)){if(1<u.length)throw Error(l(93));u=u[0]}a=u}a==null&&(a=""),i=a}a=qt(i),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Xi(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var By=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(n,i,a){var u=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,a):typeof a!="number"||a===0||By.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function gf(n,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&a[d]!==u&&hf(n,d,u)}else for(var g in i)i.hasOwnProperty(g)&&hf(n,g,i[g])}function ur(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(n){return zy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var cr=null;function fr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qi=null,Wi=null;function yf(n){var i=Yi(n);if(i&&(n=i.stateNode)){var a=n[Tt]||null;e:switch(n=i.stateNode,i.type){case"input":if(sr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var u=a[i];if(u!==n&&u.form===n.form){var d=u[Tt]||null;if(!d)throw Error(l(90));sr(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)u=a[i],u.form===n.form&&ff(u)}break e;case"textarea":mf(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ji(n,!!a.multiple,i,!1)}}}var dr=!1;function vf(n,i,a){if(dr)return n(i,a);dr=!0;try{var u=n(i);return u}finally{if(dr=!1,(Qi!==null||Wi!==null)&&(as(),Qi&&(i=Qi,n=Wi,Wi=Qi=null,yf(i),n)))for(i=0;i<n.length;i++)yf(n[i])}}function eo(n,i){var a=n.stateNode;if(a===null)return null;var u=a[Tt]||null;if(u===null)return null;a=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Sn)try{var to={};Object.defineProperty(to,"passive",{get:function(){mr=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{mr=!1}var qn=null,pr=null,Sa=null;function Tf(){if(Sa)return Sa;var n,i=pr,a=i.length,u,d="value"in qn?qn.value:qn.textContent,g=d.length;for(n=0;n<a&&i[n]===d[n];n++);var T=a-n;for(u=1;u<=T&&i[a-u]===d[g-u];u++);return Sa=d.slice(n,1<u?1-u:void 0)}function _a(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ea(){return!0}function xf(){return!1}function Rt(n){function i(a,u,d,g,T){this._reactName=a,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(a=n[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ea:xf,this.isPropagationStopped=xf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),i}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=Rt(yi),no=v({},yi,{view:0,detail:0}),qy=Rt(no),hr,gr,io,Na=v({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==io&&(io&&n.type==="mousemove"?(hr=n.screenX-io.screenX,gr=n.screenY-io.screenY):gr=hr=0,io=n),hr)},movementY:function(n){return"movementY"in n?n.movementY:gr}}),Cf=Rt(Na),Hy=v({},Na,{dataTransfer:0}),Fy=Rt(Hy),Yy=v({},no,{relatedTarget:0}),yr=Rt(Yy),Zy=v({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),$y=Rt(Zy),Ky=v({},yi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jy=Rt(Ky),Xy=v({},yi,{data:0}),Sf=Rt(Xy),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=jy[n])?!!i[n]:!1}function vr(){return ev}var tv=v({},no,{key:function(n){if(n.key){var i=Qy[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_a(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(n){return n.type==="keypress"?_a(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_a(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nv=Rt(tv),iv=v({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=Rt(iv),lv=v({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),ov=Rt(lv),av=v({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Rt(av),rv=v({},Na,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=Rt(rv),cv=v({},yi,{newState:0,oldState:0}),fv=Rt(cv),dv=[9,13,27,32],Tr=Sn&&"CompositionEvent"in window,lo=null;Sn&&"documentMode"in document&&(lo=document.documentMode);var mv=Sn&&"TextEvent"in window&&!lo,Ef=Sn&&(!Tr||lo&&8<lo&&11>=lo),Af=" ",Nf=!1;function Mf(n,i){switch(n){case"keyup":return dv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ji=!1;function pv(n,i){switch(n){case"compositionend":return Rf(i);case"keypress":return i.which!==32?null:(Nf=!0,Af);case"textInput":return n=i.data,n===Af&&Nf?null:n;default:return null}}function hv(n,i){if(ji)return n==="compositionend"||!Tr&&Mf(n,i)?(n=Tf(),Sa=pr=qn=null,ji=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ef&&i.locale!=="ko"?null:i.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!gv[n.type]:i==="textarea"}function wf(n,i,a,u){Qi?Wi?Wi.push(u):Wi=[u]:Qi=u,i=ds(i,"onChange"),0<i.length&&(a=new Aa("onChange","change",null,a,u),n.push({event:a,listeners:i}))}var oo=null,ao=null;function yv(n){cp(n,0)}function Ma(n){var i=jl(n);if(ff(i))return n}function Df(n,i){if(n==="change")return i}var If=!1;if(Sn){var xr;if(Sn){var Cr="oninput"in document;if(!Cr){var Uf=document.createElement("div");Uf.setAttribute("oninput","return;"),Cr=typeof Uf.oninput=="function"}xr=Cr}else xr=!1;If=xr&&(!document.documentMode||9<document.documentMode)}function kf(){oo&&(oo.detachEvent("onpropertychange",Lf),ao=oo=null)}function Lf(n){if(n.propertyName==="value"&&Ma(ao)){var i=[];wf(i,ao,n,fr(n)),vf(yv,i)}}function vv(n,i,a){n==="focusin"?(kf(),oo=i,ao=a,oo.attachEvent("onpropertychange",Lf)):n==="focusout"&&kf()}function Tv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ma(ao)}function xv(n,i){if(n==="click")return Ma(i)}function Cv(n,i){if(n==="input"||n==="change")return Ma(i)}function Sv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var It=typeof Object.is=="function"?Object.is:Sv;function so(n,i){if(It(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),u=Object.keys(i);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var d=a[u];if(!Hl.call(i,d)||!It(n[d],i[d]))return!1}return!0}function Of(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vf(n,i){var a=Of(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=i&&u>=i)return{node:a,offset:i-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Of(a)}}function Pf(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Pf(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Bf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=xa(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=xa(n.document)}return i}function Sr(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var _v=Sn&&"documentMode"in document&&11>=document.documentMode,el=null,_r=null,ro=null,Er=!1;function Gf(n,i,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Er||el==null||el!==xa(u)||(u=el,"selectionStart"in u&&Sr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ro&&so(ro,u)||(ro=u,u=ds(_r,"onSelect"),0<u.length&&(i=new Aa("onSelect","select",null,i,a),n.push({event:i,listeners:u}),i.target=el)))}function vi(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var tl={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Ar={},zf={};Sn&&(zf=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Ti(n){if(Ar[n])return Ar[n];if(!tl[n])return n;var i=tl[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in zf)return Ar[n]=i[a];return n}var qf=Ti("animationend"),Hf=Ti("animationiteration"),Ff=Ti("animationstart"),Ev=Ti("transitionrun"),Av=Ti("transitionstart"),Nv=Ti("transitioncancel"),Yf=Ti("transitionend"),Zf=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nr.push("scrollEnd");function en(n,i){Zf.set(n,i),gi(i,[n])}var $f=new WeakMap;function Ft(n,i){if(typeof n=="object"&&n!==null){var a=$f.get(n);return a!==void 0?a:(i={value:n,source:i,stack:uf(i)},$f.set(n,i),i)}return{value:n,source:i,stack:uf(i)}}var Yt=[],nl=0,Mr=0;function Ra(){for(var n=nl,i=Mr=nl=0;i<n;){var a=Yt[i];Yt[i++]=null;var u=Yt[i];Yt[i++]=null;var d=Yt[i];Yt[i++]=null;var g=Yt[i];if(Yt[i++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Kf(a,d,g)}}function ba(n,i,a,u){Yt[nl++]=n,Yt[nl++]=i,Yt[nl++]=a,Yt[nl++]=u,Mr|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Rr(n,i,a,u){return ba(n,i,a,u),wa(n)}function il(n,i){return ba(n,null,null,i),wa(n)}function Kf(n,i,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var d=!1,g=n.return;g!==null;)g.childLanes|=a,u=g.alternate,u!==null&&(u.childLanes|=a),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(d=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,d&&i!==null&&(d=31-_t(a),n=g.hiddenUpdates,u=n[d],u===null?n[d]=[i]:u.push(i),i.lane=a|536870912),g):null}function wa(n){if(50<ko)throw ko=0,ku=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var ll={};function Mv(n,i,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(n,i,a,u){return new Mv(n,i,a,u)}function br(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _n(n,i){var a=n.alternate;return a===null?(a=Ut(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Jf(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Da(n,i,a,u,d,g){var T=0;if(u=n,typeof n=="function")br(n)&&(T=1);else if(typeof n=="string")T=b0(n,a,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case K:return n=Ut(31,a,i,d),n.elementType=K,n.lanes=g,n;case E:return xi(a.children,d,g,i);case D:T=8,d|=24;break;case I:return n=Ut(12,a,i,d|2),n.elementType=I,n.lanes=g,n;case V:return n=Ut(13,a,i,d),n.elementType=V,n.lanes=g,n;case $:return n=Ut(19,a,i,d),n.elementType=$,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case z:T=10;break e;case k:T=9;break e;case B:T=11;break e;case j:T=14;break e;case ie:T=16,u=null;break e}T=29,a=Error(l(130,n===null?"null":typeof n,"")),u=null}return i=Ut(T,a,i,d),i.elementType=n,i.type=u,i.lanes=g,i}function xi(n,i,a,u){return n=Ut(7,n,u,i),n.lanes=a,n}function wr(n,i,a){return n=Ut(6,n,null,i),n.lanes=a,n}function Dr(n,i,a){return i=Ut(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var ol=[],al=0,Ia=null,Ua=0,Zt=[],$t=0,Ci=null,En=1,An="";function Si(n,i){ol[al++]=Ua,ol[al++]=Ia,Ia=n,Ua=i}function Xf(n,i,a){Zt[$t++]=En,Zt[$t++]=An,Zt[$t++]=Ci,Ci=n;var u=En;n=An;var d=32-_t(u)-1;u&=~(1<<d),a+=1;var g=32-_t(i)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,En=1<<32-_t(i)+d|a<<d|u,An=g+n}else En=1<<g|a<<d|u,An=n}function Ir(n){n.return!==null&&(Si(n,1),Xf(n,1,0))}function Ur(n){for(;n===Ia;)Ia=ol[--al],ol[al]=null,Ua=ol[--al],ol[al]=null;for(;n===Ci;)Ci=Zt[--$t],Zt[$t]=null,An=Zt[--$t],Zt[$t]=null,En=Zt[--$t],Zt[$t]=null}var Et=null,We=null,Le=!1,_i=null,un=!1,kr=Error(l(519));function Ei(n){var i=Error(l(418,""));throw fo(Ft(i,n)),kr}function Qf(n){var i=n.stateNode,a=n.type,u=n.memoizedProps;switch(i[ut]=n,i[Tt]=u,a){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(a=0;a<Oo.length;a++)be(Oo[a],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),df(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ta(i);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),pf(i,u.value,u.defaultValue,u.children),Ta(i)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||u.suppressHydrationWarning===!0||pp(i.textContent,a)?(u.popover!=null&&(be("beforetoggle",i),be("toggle",i)),u.onScroll!=null&&be("scroll",i),u.onScrollEnd!=null&&be("scrollend",i),u.onClick!=null&&(i.onclick=ms),i=!0):i=!1,i||Ei(n)}function Wf(n){for(Et=n.return;Et;)switch(Et.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Et=Et.return}}function uo(n){if(n!==Et)return!1;if(!Le)return Wf(n),Le=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Xu(n.type,n.memoizedProps)),a=!a),a&&We&&Ei(n),Wf(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){We=nn(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}We=null}}else i===27?(i=We,li(n.type)?(n=ec,ec=null,We=n):We=i):We=Et?nn(n.stateNode.nextSibling):null;return!0}function co(){We=Et=null,Le=!1}function jf(){var n=_i;return n!==null&&(Dt===null?Dt=n:Dt.push.apply(Dt,n),_i=null),n}function fo(n){_i===null?_i=[n]:_i.push(n)}var Lr=Y(null),Ai=null,Nn=null;function Hn(n,i,a){ne(Lr,i._currentValue),i._currentValue=a}function Mn(n){n._currentValue=Lr.current,te(Lr)}function Or(n,i,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===a)break;n=n.return}}function Vr(n,i,a,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=d;for(var N=0;N<i.length;N++)if(_.context===i[N]){g.lanes|=a,_=g.alternate,_!==null&&(_.lanes|=a),Or(g.return,a,n),u||(T=null);break e}g=_.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(l(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),Or(T,a,n),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===n){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function mo(n,i,a,u){n=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var _=d.type;It(d.pendingProps.value,T.value)||(n!==null?n.push(_):n=[_])}}else if(d===Ce.current){if(T=d.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(qo):n=[qo])}d=d.return}n!==null&&Vr(i,n,a,u),i.flags|=262144}function ka(n){for(n=n.firstContext;n!==null;){if(!It(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ni(n){Ai=n,Nn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xt(n){return ed(Ai,n)}function La(n,i){return Ai===null&&Ni(n),ed(n,i)}function ed(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Nn===null){if(n===null)throw Error(l(308));Nn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Nn=Nn.next=i;return a}var Rv=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},bv=o.unstable_scheduleCallback,wv=o.unstable_NormalPriority,st={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pr(){return{controller:new Rv,data:new Map,refCount:0}}function po(n){n.refCount--,n.refCount===0&&bv(wv,function(){n.controller.abort()})}var ho=null,Br=0,sl=0,rl=null;function Dv(n,i){if(ho===null){var a=ho=[];Br=0,sl=zu(),rl={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Br++,i.then(td,td),i}function td(){if(--Br===0&&ho!==null){rl!==null&&(rl.status="fulfilled");var n=ho;ho=null,sl=0,rl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function Iv(n,i){var a=[],u={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),u}var nd=q.S;q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Dv(n,i),nd!==null&&nd(n,i)};var Mi=Y(null);function Gr(){var n=Mi.current;return n!==null?n:Fe.pooledCache}function Oa(n,i){i===null?ne(Mi,Mi.current):ne(Mi,i.pool)}function id(){var n=Gr();return n===null?null:{parent:st._currentValue,pool:n}}var go=Error(l(460)),ld=Error(l(474)),Va=Error(l(542)),zr={then:function(){}};function od(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Pa(){}function ad(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Pa,Pa),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rd(n),n;default:if(typeof i.status=="string")i.then(Pa,Pa);else{if(n=Fe,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rd(n),n}throw yo=i,go}}var yo=null;function sd(){if(yo===null)throw Error(l(459));var n=yo;return yo=null,n}function rd(n){if(n===go||n===Va)throw Error(l(483))}var Fn=!1;function qr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hr(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Yn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(n,i,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=wa(n),Kf(n,null,a),i}return ba(n,u,i,a),wa(n)}function vo(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,ha(n,a)}}function Fr(n,i){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Yr=!1;function To(){if(Yr){var n=rl;if(n!==null)throw n}}function xo(n,i,a,u){Yr=!1;var d=n.updateQueue;Fn=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var N=_,O=N.next;N.next=null,T===null?g=O:T.next=O,T=N;var H=n.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==T&&(_===null?H.firstBaseUpdate=O:_.next=O,H.lastBaseUpdate=N))}if(g!==null){var Z=d.baseState;T=0,H=O=N=null,_=g;do{var P=_.lane&-536870913,G=P!==_.lane;if(G?(De&P)===P:(u&P)===P){P!==0&&P===sl&&(Yr=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ge=n,me=_;P=i;var ze=a;switch(me.tag){case 1:if(ge=me.payload,typeof ge=="function"){Z=ge.call(ze,Z,P);break e}Z=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=me.payload,P=typeof ge=="function"?ge.call(ze,Z,P):ge,P==null)break e;Z=v({},Z,P);break e;case 2:Fn=!0}}P=_.callback,P!==null&&(n.flags|=64,G&&(n.flags|=8192),G=d.callbacks,G===null?d.callbacks=[P]:G.push(P))}else G={lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(O=H=G,N=Z):H=H.next=G,T|=P;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;G=_,_=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);H===null&&(N=Z),d.baseState=N,d.firstBaseUpdate=O,d.lastBaseUpdate=H,g===null&&(d.shared.lanes=0),ei|=T,n.lanes=T,n.memoizedState=Z}}function ud(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function cd(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)ud(a[n],i)}var ul=Y(null),Ba=Y(0);function fd(n,i){n=kn,ne(Ba,n),ne(ul,i),kn=n|i.baseLanes}function Zr(){ne(Ba,kn),ne(ul,ul.current)}function $r(){kn=Ba.current,te(ul),te(Ba)}var $n=0,Ae=null,Be=null,it=null,Ga=!1,cl=!1,Ri=!1,za=0,Co=0,fl=null,Uv=0;function et(){throw Error(l(321))}function Kr(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!It(n[a],i[a]))return!1;return!0}function Jr(n,i,a,u,d,g){return $n=g,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=n===null||n.memoizedState===null?Kd:Jd,Ri=!1,g=a(u,d),Ri=!1,cl&&(g=md(i,a,u,d)),dd(n),g}function dd(n){q.H=$a;var i=Be!==null&&Be.next!==null;if($n=0,it=Be=Ae=null,Ga=!1,Co=0,fl=null,i)throw Error(l(300));n===null||ft||(n=n.dependencies,n!==null&&ka(n)&&(ft=!0))}function md(n,i,a,u){Ae=n;var d=0;do{if(cl&&(fl=null),Co=0,cl=!1,25<=d)throw Error(l(301));if(d+=1,it=Be=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}q.H=Gv,g=i(a,u)}while(cl);return g}function kv(){var n=q.H,i=n.useState()[0];return i=typeof i.then=="function"?So(i):i,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(Ae.flags|=1024),i}function Xr(){var n=za!==0;return za=0,n}function Qr(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function Wr(n){if(Ga){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ga=!1}$n=0,it=Be=Ae=null,cl=!1,Co=za=0,fl=null}function bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ae.memoizedState=it=n:it=it.next=n,it}function lt(){if(Be===null){var n=Ae.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var i=it===null?Ae.memoizedState:it.next;if(i!==null)it=i,Be=n;else{if(n===null)throw Ae.alternate===null?Error(l(467)):Error(l(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},it===null?Ae.memoizedState=it=n:it=it.next=n}return it}function jr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var i=Co;return Co+=1,fl===null&&(fl=[]),n=ad(fl,n,i),i=Ae,(it===null?i.memoizedState:it.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Kd:Jd),n}function qa(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===z)return xt(n)}throw Error(l(438,String(n)))}function eu(n){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jr(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),u=0;u<n;u++)a[u]=J;return i.index++,a}function Rn(n,i){return typeof i=="function"?i(n):i}function Ha(n){var i=lt();return tu(i,Be,n)}function tu(n,i,a){var u=n.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=a;var d=n.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}i.baseQueue=d=g,u.pending=null}if(g=n.baseState,d===null)n.memoizedState=g;else{i=d.next;var _=T=null,N=null,O=i,H=!1;do{var Z=O.lane&-536870913;if(Z!==O.lane?(De&Z)===Z:($n&Z)===Z){var P=O.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Z===sl&&(H=!0);else if(($n&P)===P){O=O.next,P===sl&&(H=!0);continue}else Z={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},N===null?(_=N=Z,T=g):N=N.next=Z,Ae.lanes|=P,ei|=P;Z=O.action,Ri&&a(g,Z),g=O.hasEagerState?O.eagerState:a(g,Z)}else P={lane:Z,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},N===null?(_=N=P,T=g):N=N.next=P,Ae.lanes|=Z,ei|=Z;O=O.next}while(O!==null&&O!==i);if(N===null?T=g:N.next=_,!It(g,n.memoizedState)&&(ft=!0,H&&(a=rl,a!==null)))throw a;n.memoizedState=g,n.baseState=T,n.baseQueue=N,u.lastRenderedState=g}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function nu(n){var i=lt(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=n;var u=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do g=n(g,T.action),T=T.next;while(T!==d);It(g,i.memoizedState)||(ft=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,u]}function pd(n,i,a){var u=Ae,d=lt(),g=Le;if(g){if(a===void 0)throw Error(l(407));a=a()}else a=i();var T=!It((Be||d).memoizedState,a);T&&(d.memoizedState=a,ft=!0),d=d.queue;var _=yd.bind(null,u,d,n);if(_o(2048,8,_,[n]),d.getSnapshot!==i||T||it!==null&&it.memoizedState.tag&1){if(u.flags|=2048,dl(9,Fa(),gd.bind(null,u,d,a,i),null),Fe===null)throw Error(l(349));g||($n&124)!==0||hd(u,i,a)}return a}function hd(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=jr(),Ae.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function gd(n,i,a,u){i.value=a,i.getSnapshot=u,vd(i)&&Td(n)}function yd(n,i,a){return a(function(){vd(i)&&Td(n)})}function vd(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!It(n,a)}catch{return!0}}function Td(n){var i=il(n,2);i!==null&&Pt(i,n,2)}function iu(n){var i=bt();if(typeof n=="function"){var a=n;if(n=a(),Ri){an(!0);try{a()}finally{an(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:n},i}function xd(n,i,a,u){return n.baseState=a,tu(n,Be,typeof u=="function"?u:Rn)}function Lv(n,i,a,u,d){if(Za(n))throw Error(l(485));if(n=i.action,n!==null){var g={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};q.T!==null?a(!0):g.isTransition=!1,u(g),a=i.pending,a===null?(g.next=i.pending=g,Cd(i,g)):(g.next=a.next,i.pending=a.next=g)}}function Cd(n,i){var a=i.action,u=i.payload,d=n.state;if(i.isTransition){var g=q.T,T={};q.T=T;try{var _=a(d,u),N=q.S;N!==null&&N(T,_),Sd(n,i,_)}catch(O){lu(n,i,O)}finally{q.T=g}}else try{g=a(d,u),Sd(n,i,g)}catch(O){lu(n,i,O)}}function Sd(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){_d(n,i,u)},function(u){return lu(n,i,u)}):_d(n,i,a)}function _d(n,i,a){i.status="fulfilled",i.value=a,Ed(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Cd(n,a)))}function lu(n,i,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=a,Ed(i),i=i.next;while(i!==u)}n.action=null}function Ed(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ad(n,i){return i}function Nd(n,i){if(Le){var a=Fe.formState;if(a!==null){e:{var u=Ae;if(Le){if(We){t:{for(var d=We,g=un;d.nodeType!==8;){if(!g){d=null;break t}if(d=nn(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){We=nn(d.nextSibling),u=d.data==="F!";break e}}Ei(u)}u=!1}u&&(i=a[0])}}return a=bt(),a.memoizedState=a.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ad,lastRenderedState:i},a.queue=u,a=Yd.bind(null,Ae,u),u.dispatch=a,u=iu(!1),g=uu.bind(null,Ae,!1,u.queue),u=bt(),d={state:i,dispatch:null,action:n,pending:null},u.queue=d,a=Lv.bind(null,Ae,d,g,a),d.dispatch=a,u.memoizedState=n,[i,a,!1]}function Md(n){var i=lt();return Rd(i,Be,n)}function Rd(n,i,a){if(i=tu(n,i,Ad)[0],n=Ha(Rn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=So(i)}catch(T){throw T===go?Va:T}else u=i;i=lt();var d=i.queue,g=d.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,dl(9,Fa(),Ov.bind(null,d,a),null)),[u,g,n]}function Ov(n,i){n.action=i}function bd(n){var i=lt(),a=Be;if(a!==null)return Rd(i,a,n);lt(),i=i.memoizedState,a=lt();var u=a.queue.dispatch;return a.memoizedState=n,[i,u,!1]}function dl(n,i,a,u){return n={tag:n,create:a,deps:u,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=jr(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,i.lastEffect=n),n}function Fa(){return{destroy:void 0,resource:void 0}}function wd(){return lt().memoizedState}function Ya(n,i,a,u){var d=bt();u=u===void 0?null:u,Ae.flags|=n,d.memoizedState=dl(1|i,Fa(),a,u)}function _o(n,i,a,u){var d=lt();u=u===void 0?null:u;var g=d.memoizedState.inst;Be!==null&&u!==null&&Kr(u,Be.memoizedState.deps)?d.memoizedState=dl(i,g,a,u):(Ae.flags|=n,d.memoizedState=dl(1|i,g,a,u))}function Dd(n,i){Ya(8390656,8,n,i)}function Id(n,i){_o(2048,8,n,i)}function Ud(n,i){return _o(4,2,n,i)}function kd(n,i){return _o(4,4,n,i)}function Ld(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Od(n,i,a){a=a!=null?a.concat([n]):null,_o(4,4,Ld.bind(null,i,n),a)}function ou(){}function Vd(n,i){var a=lt();i=i===void 0?null:i;var u=a.memoizedState;return i!==null&&Kr(i,u[1])?u[0]:(a.memoizedState=[n,i],n)}function Pd(n,i){var a=lt();i=i===void 0?null:i;var u=a.memoizedState;if(i!==null&&Kr(i,u[1]))return u[0];if(u=n(),Ri){an(!0);try{n()}finally{an(!1)}}return a.memoizedState=[u,i],u}function au(n,i,a){return a===void 0||($n&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=zm(),Ae.lanes|=n,ei|=n,a)}function Bd(n,i,a,u){return It(a,i)?a:ul.current!==null?(n=au(n,a,u),It(n,i)||(ft=!0),n):($n&42)===0?(ft=!0,n.memoizedState=a):(n=zm(),Ae.lanes|=n,ei|=n,i)}function Gd(n,i,a,u,d){var g=ee.p;ee.p=g!==0&&8>g?g:8;var T=q.T,_={};q.T=_,uu(n,!1,i,a);try{var N=d(),O=q.S;if(O!==null&&O(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=Iv(N,u);Eo(n,i,H,Vt(n))}else Eo(n,i,u,Vt(n))}catch(Z){Eo(n,i,{then:function(){},status:"rejected",reason:Z},Vt())}finally{ee.p=g,q.T=T}}function Vv(){}function su(n,i,a,u){if(n.tag!==5)throw Error(l(476));var d=zd(n).queue;Gd(n,d,i,oe,a===null?Vv:function(){return qd(n),a(u)})}function zd(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:oe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function qd(n){var i=zd(n).next.queue;Eo(n,i,{},Vt())}function ru(){return xt(qo)}function Hd(){return lt().memoizedState}function Fd(){return lt().memoizedState}function Pv(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vt();n=Yn(a);var u=Zn(i,n,a);u!==null&&(Pt(u,i,a),vo(u,i,a)),i={cache:Pr()},n.payload=i;return}i=i.return}}function Bv(n,i,a){var u=Vt();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Za(n)?Zd(i,a):(a=Rr(n,i,a,u),a!==null&&(Pt(a,n,u),$d(a,i,u)))}function Yd(n,i,a){var u=Vt();Eo(n,i,a,u)}function Eo(n,i,a,u){var d={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Za(n))Zd(i,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,_=g(T,a);if(d.hasEagerState=!0,d.eagerState=_,It(_,T))return ba(n,i,d,0),Fe===null&&Ra(),!1}catch{}finally{}if(a=Rr(n,i,d,u),a!==null)return Pt(a,n,u),$d(a,i,u),!0}return!1}function uu(n,i,a,u){if(u={lane:2,revertLane:zu(),action:u,hasEagerState:!1,eagerState:null,next:null},Za(n)){if(i)throw Error(l(479))}else i=Rr(n,a,u,2),i!==null&&Pt(i,n,2)}function Za(n){var i=n.alternate;return n===Ae||i!==null&&i===Ae}function Zd(n,i){cl=Ga=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function $d(n,i,a){if((a&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,a|=u,i.lanes=a,ha(n,a)}}var $a={readContext:xt,use:qa,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},Kd={readContext:xt,use:qa,useCallback:function(n,i){return bt().memoizedState=[n,i===void 0?null:i],n},useContext:xt,useEffect:Dd,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Ya(4194308,4,Ld.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Ya(4194308,4,n,i)},useInsertionEffect:function(n,i){Ya(4,2,n,i)},useMemo:function(n,i){var a=bt();i=i===void 0?null:i;var u=n();if(Ri){an(!0);try{n()}finally{an(!1)}}return a.memoizedState=[u,i],u},useReducer:function(n,i,a){var u=bt();if(a!==void 0){var d=a(i);if(Ri){an(!0);try{a(i)}finally{an(!1)}}}else d=i;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=Bv.bind(null,Ae,n),[u.memoizedState,n]},useRef:function(n){var i=bt();return n={current:n},i.memoizedState=n},useState:function(n){n=iu(n);var i=n.queue,a=Yd.bind(null,Ae,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:ou,useDeferredValue:function(n,i){var a=bt();return au(a,n,i)},useTransition:function(){var n=iu(!1);return n=Gd.bind(null,Ae,n.queue,!0,!1),bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var u=Ae,d=bt();if(Le){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Fe===null)throw Error(l(349));(De&124)!==0||hd(u,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Dd(yd.bind(null,u,g,n),[n]),u.flags|=2048,dl(9,Fa(),gd.bind(null,u,g,a,i),null),a},useId:function(){var n=bt(),i=Fe.identifierPrefix;if(Le){var a=An,u=En;a=(u&~(1<<32-_t(u)-1)).toString(32)+a,i="«"+i+"R"+a,a=za++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Uv++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:ru,useFormState:Nd,useActionState:Nd,useOptimistic:function(n){var i=bt();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=uu.bind(null,Ae,!0,a),a.dispatch=i,[n,i]},useMemoCache:eu,useCacheRefresh:function(){return bt().memoizedState=Pv.bind(null,Ae)}},Jd={readContext:xt,use:qa,useCallback:Vd,useContext:xt,useEffect:Id,useImperativeHandle:Od,useInsertionEffect:Ud,useLayoutEffect:kd,useMemo:Pd,useReducer:Ha,useRef:wd,useState:function(){return Ha(Rn)},useDebugValue:ou,useDeferredValue:function(n,i){var a=lt();return Bd(a,Be.memoizedState,n,i)},useTransition:function(){var n=Ha(Rn)[0],i=lt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:pd,useId:Hd,useHostTransitionStatus:ru,useFormState:Md,useActionState:Md,useOptimistic:function(n,i){var a=lt();return xd(a,Be,n,i)},useMemoCache:eu,useCacheRefresh:Fd},Gv={readContext:xt,use:qa,useCallback:Vd,useContext:xt,useEffect:Id,useImperativeHandle:Od,useInsertionEffect:Ud,useLayoutEffect:kd,useMemo:Pd,useReducer:nu,useRef:wd,useState:function(){return nu(Rn)},useDebugValue:ou,useDeferredValue:function(n,i){var a=lt();return Be===null?au(a,n,i):Bd(a,Be.memoizedState,n,i)},useTransition:function(){var n=nu(Rn)[0],i=lt().memoizedState;return[typeof n=="boolean"?n:So(n),i]},useSyncExternalStore:pd,useId:Hd,useHostTransitionStatus:ru,useFormState:bd,useActionState:bd,useOptimistic:function(n,i){var a=lt();return Be!==null?xd(a,Be,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:eu,useCacheRefresh:Fd},ml=null,Ao=0;function Ka(n){var i=Ao;return Ao+=1,ml===null&&(ml=[]),ad(ml,n,i)}function No(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ja(n,i){throw i.$$typeof===x?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Xd(n){var i=n._init;return i(n._payload)}function Qd(n){function i(U,b){if(n){var L=U.deletions;L===null?(U.deletions=[b],U.flags|=16):L.push(b)}}function a(U,b){if(!n)return null;for(;b!==null;)i(U,b),b=b.sibling;return null}function u(U){for(var b=new Map;U!==null;)U.key!==null?b.set(U.key,U):b.set(U.index,U),U=U.sibling;return b}function d(U,b){return U=_n(U,b),U.index=0,U.sibling=null,U}function g(U,b,L){return U.index=L,n?(L=U.alternate,L!==null?(L=L.index,L<b?(U.flags|=67108866,b):L):(U.flags|=67108866,b)):(U.flags|=1048576,b)}function T(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function _(U,b,L,F){return b===null||b.tag!==6?(b=wr(L,U.mode,F),b.return=U,b):(b=d(b,L),b.return=U,b)}function N(U,b,L,F){var ae=L.type;return ae===E?H(U,b,L.props.children,F,L.key):b!==null&&(b.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ie&&Xd(ae)===b.type)?(b=d(b,L.props),No(b,L),b.return=U,b):(b=Da(L.type,L.key,L.props,null,U.mode,F),No(b,L),b.return=U,b)}function O(U,b,L,F){return b===null||b.tag!==4||b.stateNode.containerInfo!==L.containerInfo||b.stateNode.implementation!==L.implementation?(b=Dr(L,U.mode,F),b.return=U,b):(b=d(b,L.children||[]),b.return=U,b)}function H(U,b,L,F,ae){return b===null||b.tag!==7?(b=xi(L,U.mode,F,ae),b.return=U,b):(b=d(b,L),b.return=U,b)}function Z(U,b,L){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=wr(""+b,U.mode,L),b.return=U,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case S:return L=Da(b.type,b.key,b.props,null,U.mode,L),No(L,b),L.return=U,L;case A:return b=Dr(b,U.mode,L),b.return=U,b;case ie:var F=b._init;return b=F(b._payload),Z(U,b,L)}if(he(b)||qe(b))return b=xi(b,U.mode,L,null),b.return=U,b;if(typeof b.then=="function")return Z(U,Ka(b),L);if(b.$$typeof===z)return Z(U,La(U,b),L);Ja(U,b)}return null}function P(U,b,L,F){var ae=b!==null?b.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ae!==null?null:_(U,b,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===ae?N(U,b,L,F):null;case A:return L.key===ae?O(U,b,L,F):null;case ie:return ae=L._init,L=ae(L._payload),P(U,b,L,F)}if(he(L)||qe(L))return ae!==null?null:H(U,b,L,F,null);if(typeof L.then=="function")return P(U,b,Ka(L),F);if(L.$$typeof===z)return P(U,b,La(U,L),F);Ja(U,L)}return null}function G(U,b,L,F,ae){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,_(b,U,""+F,ae);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case S:return U=U.get(F.key===null?L:F.key)||null,N(b,U,F,ae);case A:return U=U.get(F.key===null?L:F.key)||null,O(b,U,F,ae);case ie:var Ne=F._init;return F=Ne(F._payload),G(U,b,L,F,ae)}if(he(F)||qe(F))return U=U.get(L)||null,H(b,U,F,ae,null);if(typeof F.then=="function")return G(U,b,L,Ka(F),ae);if(F.$$typeof===z)return G(U,b,L,La(b,F),ae);Ja(b,F)}return null}function ge(U,b,L,F){for(var ae=null,Ne=null,fe=b,pe=b=0,mt=null;fe!==null&&pe<L.length;pe++){fe.index>pe?(mt=fe,fe=null):mt=fe.sibling;var Ue=P(U,fe,L[pe],F);if(Ue===null){fe===null&&(fe=mt);break}n&&fe&&Ue.alternate===null&&i(U,fe),b=g(Ue,b,pe),Ne===null?ae=Ue:Ne.sibling=Ue,Ne=Ue,fe=mt}if(pe===L.length)return a(U,fe),Le&&Si(U,pe),ae;if(fe===null){for(;pe<L.length;pe++)fe=Z(U,L[pe],F),fe!==null&&(b=g(fe,b,pe),Ne===null?ae=fe:Ne.sibling=fe,Ne=fe);return Le&&Si(U,pe),ae}for(fe=u(fe);pe<L.length;pe++)mt=G(fe,U,pe,L[pe],F),mt!==null&&(n&&mt.alternate!==null&&fe.delete(mt.key===null?pe:mt.key),b=g(mt,b,pe),Ne===null?ae=mt:Ne.sibling=mt,Ne=mt);return n&&fe.forEach(function(ui){return i(U,ui)}),Le&&Si(U,pe),ae}function me(U,b,L,F){if(L==null)throw Error(l(151));for(var ae=null,Ne=null,fe=b,pe=b=0,mt=null,Ue=L.next();fe!==null&&!Ue.done;pe++,Ue=L.next()){fe.index>pe?(mt=fe,fe=null):mt=fe.sibling;var ui=P(U,fe,Ue.value,F);if(ui===null){fe===null&&(fe=mt);break}n&&fe&&ui.alternate===null&&i(U,fe),b=g(ui,b,pe),Ne===null?ae=ui:Ne.sibling=ui,Ne=ui,fe=mt}if(Ue.done)return a(U,fe),Le&&Si(U,pe),ae;if(fe===null){for(;!Ue.done;pe++,Ue=L.next())Ue=Z(U,Ue.value,F),Ue!==null&&(b=g(Ue,b,pe),Ne===null?ae=Ue:Ne.sibling=Ue,Ne=Ue);return Le&&Si(U,pe),ae}for(fe=u(fe);!Ue.done;pe++,Ue=L.next())Ue=G(fe,U,pe,Ue.value,F),Ue!==null&&(n&&Ue.alternate!==null&&fe.delete(Ue.key===null?pe:Ue.key),b=g(Ue,b,pe),Ne===null?ae=Ue:Ne.sibling=Ue,Ne=Ue);return n&&fe.forEach(function(z0){return i(U,z0)}),Le&&Si(U,pe),ae}function ze(U,b,L,F){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var ae=L.key;b!==null;){if(b.key===ae){if(ae=L.type,ae===E){if(b.tag===7){a(U,b.sibling),F=d(b,L.props.children),F.return=U,U=F;break e}}else if(b.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===ie&&Xd(ae)===b.type){a(U,b.sibling),F=d(b,L.props),No(F,L),F.return=U,U=F;break e}a(U,b);break}else i(U,b);b=b.sibling}L.type===E?(F=xi(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=Da(L.type,L.key,L.props,null,U.mode,F),No(F,L),F.return=U,U=F)}return T(U);case A:e:{for(ae=L.key;b!==null;){if(b.key===ae)if(b.tag===4&&b.stateNode.containerInfo===L.containerInfo&&b.stateNode.implementation===L.implementation){a(U,b.sibling),F=d(b,L.children||[]),F.return=U,U=F;break e}else{a(U,b);break}else i(U,b);b=b.sibling}F=Dr(L,U.mode,F),F.return=U,U=F}return T(U);case ie:return ae=L._init,L=ae(L._payload),ze(U,b,L,F)}if(he(L))return ge(U,b,L,F);if(qe(L)){if(ae=qe(L),typeof ae!="function")throw Error(l(150));return L=ae.call(L),me(U,b,L,F)}if(typeof L.then=="function")return ze(U,b,Ka(L),F);if(L.$$typeof===z)return ze(U,b,La(U,L),F);Ja(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,b!==null&&b.tag===6?(a(U,b.sibling),F=d(b,L),F.return=U,U=F):(a(U,b),F=wr(L,U.mode,F),F.return=U,U=F),T(U)):a(U,b)}return function(U,b,L,F){try{Ao=0;var ae=ze(U,b,L,F);return ml=null,ae}catch(fe){if(fe===go||fe===Va)throw fe;var Ne=Ut(29,fe,null,U.mode);return Ne.lanes=F,Ne.return=U,Ne}finally{}}}var pl=Qd(!0),Wd=Qd(!1),Kt=Y(null),cn=null;function Kn(n){var i=n.alternate;ne(rt,rt.current&1),ne(Kt,n),cn===null&&(i===null||ul.current!==null||i.memoizedState!==null)&&(cn=n)}function jd(n){if(n.tag===22){if(ne(rt,rt.current),ne(Kt,n),cn===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(cn=n)}}else Jn()}function Jn(){ne(rt,rt.current),ne(Kt,Kt.current)}function bn(n){te(Kt),cn===n&&(cn=null),te(rt)}var rt=Y(0);function Xa(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ju(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function cu(n,i,a,u){i=n.memoizedState,a=a(u,i),a=a==null?i:v({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fu={enqueueSetState:function(n,i,a){n=n._reactInternals;var u=Vt(),d=Yn(u);d.payload=i,a!=null&&(d.callback=a),i=Zn(n,d,u),i!==null&&(Pt(i,n,u),vo(i,n,u))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var u=Vt(),d=Yn(u);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Zn(n,d,u),i!==null&&(Pt(i,n,u),vo(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Vt(),u=Yn(a);u.tag=2,i!=null&&(u.callback=i),i=Zn(n,u,a),i!==null&&(Pt(i,n,a),vo(i,n,a))}};function em(n,i,a,u,d,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,T):i.prototype&&i.prototype.isPureReactComponent?!so(a,u)||!so(d,g):!0}function tm(n,i,a,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,u),i.state!==n&&fu.enqueueReplaceState(i,i.state,null)}function bi(n,i){var a=i;if("ref"in i){a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}if(n=n.defaultProps){a===i&&(a=v({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Qa=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function nm(n){Qa(n)}function im(n){console.error(n)}function lm(n){Qa(n)}function Wa(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function om(n,i,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function du(n,i,a){return a=Yn(a),a.tag=3,a.payload={element:null},a.callback=function(){Wa(n,i)},a}function am(n){return n=Yn(n),n.tag=3,n}function sm(n,i,a,u){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;n.payload=function(){return d(g)},n.callback=function(){om(i,a,u)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){om(i,a,u),typeof d!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function zv(n,i,a,u,d){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=a.alternate,i!==null&&mo(i,a,d,!0),a=Kt.current,a!==null){switch(a.tag){case 13:return cn===null?Ou():a.alternate===null&&je===0&&(je=3),a.flags&=-257,a.flags|=65536,a.lanes=d,u===zr?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([u]):i.add(u),Pu(n,u,d)),!1;case 22:return a.flags|=65536,u===zr?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([u]):a.add(u)),Pu(n,u,d)),!1}throw Error(l(435,a.tag))}return Pu(n,u,d),Ou(),!1}if(Le)return i=Kt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==kr&&(n=Error(l(422),{cause:u}),fo(Ft(n,a)))):(u!==kr&&(i=Error(l(423),{cause:u}),fo(Ft(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=Ft(u,a),d=du(n.stateNode,u,d),Fr(n,d),je!==4&&(je=2)),!1;var g=Error(l(520),{cause:u});if(g=Ft(g,a),Uo===null?Uo=[g]:Uo.push(g),je!==4&&(je=2),i===null)return!0;u=Ft(u,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=du(a.stateNode,u,n),Fr(a,n),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ti===null||!ti.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=am(d),sm(d,n,a,u),Fr(a,d),!1}a=a.return}while(a!==null);return!1}var rm=Error(l(461)),ft=!1;function gt(n,i,a,u){i.child=n===null?Wd(i,null,a,u):pl(i,n.child,a,u)}function um(n,i,a,u,d){a=a.render;var g=i.ref;if("ref"in u){var T={};for(var _ in u)_!=="ref"&&(T[_]=u[_])}else T=u;return Ni(i),u=Jr(n,i,a,T,g,d),_=Xr(),n!==null&&!ft?(Qr(n,i,d),wn(n,i,d)):(Le&&_&&Ir(i),i.flags|=1,gt(n,i,u,d),i.child)}function cm(n,i,a,u,d){if(n===null){var g=a.type;return typeof g=="function"&&!br(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,fm(n,i,g,u,d)):(n=Da(a.type,null,u,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!xu(n,d)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:so,a(T,u)&&n.ref===i.ref)return wn(n,i,d)}return i.flags|=1,n=_n(g,u),n.ref=i.ref,n.return=i,i.child=n}function fm(n,i,a,u,d){if(n!==null){var g=n.memoizedProps;if(so(g,u)&&n.ref===i.ref)if(ft=!1,i.pendingProps=u=g,xu(n,d))(n.flags&131072)!==0&&(ft=!0);else return i.lanes=n.lanes,wn(n,i,d)}return mu(n,i,a,u,d)}function dm(n,i,a){var u=i.pendingProps,d=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|a:a,n!==null){for(d=i.child=n.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return mm(n,i,u,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Oa(i,g!==null?g.cachePool:null),g!==null?fd(i,g):Zr(),jd(i);else return i.lanes=i.childLanes=536870912,mm(n,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(Oa(i,g.cachePool),fd(i,g),Jn(),i.memoizedState=null):(n!==null&&Oa(i,null),Zr(),Jn());return gt(n,i,d,a),i.child}function mm(n,i,a,u){var d=Gr();return d=d===null?null:{parent:st._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},n!==null&&Oa(i,null),Zr(),jd(i),n!==null&&mo(n,i,u,!0),null}function ja(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function mu(n,i,a,u,d){return Ni(i),a=Jr(n,i,a,u,void 0,d),u=Xr(),n!==null&&!ft?(Qr(n,i,d),wn(n,i,d)):(Le&&u&&Ir(i),i.flags|=1,gt(n,i,a,d),i.child)}function pm(n,i,a,u,d,g){return Ni(i),i.updateQueue=null,a=md(i,u,a,d),dd(n),u=Xr(),n!==null&&!ft?(Qr(n,i,g),wn(n,i,g)):(Le&&u&&Ir(i),i.flags|=1,gt(n,i,a,g),i.child)}function hm(n,i,a,u,d){if(Ni(i),i.stateNode===null){var g=ll,T=a.contextType;typeof T=="object"&&T!==null&&(g=xt(T)),g=new a(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fu,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},qr(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?xt(T):ll,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(cu(i,a,T,u),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&fu.enqueueReplaceState(g,g.state,null),xo(i,u,g,d),To(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){g=i.stateNode;var _=i.memoizedProps,N=bi(a,_);g.props=N;var O=g.context,H=a.contextType;T=ll,typeof H=="object"&&H!==null&&(T=xt(H));var Z=a.getDerivedStateFromProps;H=typeof Z=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||O!==T)&&tm(i,g,u,T),Fn=!1;var P=i.memoizedState;g.state=P,xo(i,u,g,d),To(),O=i.memoizedState,_||P!==O||Fn?(typeof Z=="function"&&(cu(i,a,Z,u),O=i.memoizedState),(N=Fn||em(i,a,N,u,P,O,T))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=O),g.props=u,g.state=O,g.context=T,u=N):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,Hr(n,i),T=i.memoizedProps,H=bi(a,T),g.props=H,Z=i.pendingProps,P=g.context,O=a.contextType,N=ll,typeof O=="object"&&O!==null&&(N=xt(O)),_=a.getDerivedStateFromProps,(O=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==Z||P!==N)&&tm(i,g,u,N),Fn=!1,P=i.memoizedState,g.state=P,xo(i,u,g,d),To();var G=i.memoizedState;T!==Z||P!==G||Fn||n!==null&&n.dependencies!==null&&ka(n.dependencies)?(typeof _=="function"&&(cu(i,a,_,u),G=i.memoizedState),(H=Fn||em(i,a,H,u,P,G,N)||n!==null&&n.dependencies!==null&&ka(n.dependencies))?(O||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,G,N),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,G,N)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=G),g.props=u,g.state=G,g.context=N,u=H):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),u=!1)}return g=u,ja(n,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&u?(i.child=pl(i,n.child,null,d),i.child=pl(i,null,a,d)):gt(n,i,a,d),i.memoizedState=g.state,n=i.child):n=wn(n,i,d),n}function gm(n,i,a,u){return co(),i.flags|=256,gt(n,i,a,u),i.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(n){return{baseLanes:n,cachePool:id()}}function gu(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Jt),n}function ym(n,i,a){var u=i.pendingProps,d=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=n!==null&&n.memoizedState===null?!1:(rt.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Le){if(d?Kn(i):Jn(),Le){var _=We,N;if(N=_){e:{for(N=_,_=un;N.nodeType!==8;){if(!_){_=null;break e}if(N=nn(N.nextSibling),N===null){_=null;break e}}_=N}_!==null?(i.memoizedState={dehydrated:_,treeContext:Ci!==null?{id:En,overflow:An}:null,retryLane:536870912,hydrationErrors:null},N=Ut(18,null,null,0),N.stateNode=_,N.return=i,i.child=N,Et=i,We=null,N=!0):N=!1}N||Ei(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return ju(_)?i.lanes=32:i.lanes=536870912,null;bn(i)}return _=u.children,u=u.fallback,d?(Jn(),d=i.mode,_=es({mode:"hidden",children:_},d),u=xi(u,d,a,null),_.return=i,u.return=i,_.sibling=u,i.child=_,d=i.child,d.memoizedState=hu(a),d.childLanes=gu(n,T,a),i.memoizedState=pu,u):(Kn(i),yu(i,_))}if(N=n.memoizedState,N!==null&&(_=N.dehydrated,_!==null)){if(g)i.flags&256?(Kn(i),i.flags&=-257,i=vu(n,i,a)):i.memoizedState!==null?(Jn(),i.child=n.child,i.flags|=128,i=null):(Jn(),d=u.fallback,_=i.mode,u=es({mode:"visible",children:u.children},_),d=xi(d,_,a,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,pl(i,n.child,null,a),u=i.child,u.memoizedState=hu(a),u.childLanes=gu(n,T,a),i.memoizedState=pu,i=d);else if(Kn(i),ju(_)){if(T=_.nextSibling&&_.nextSibling.dataset,T)var O=T.dgst;T=O,u=Error(l(419)),u.stack="",u.digest=T,fo({value:u,source:null,stack:null}),i=vu(n,i,a)}else if(ft||mo(n,i,a,!1),T=(a&n.childLanes)!==0,ft||T){if(T=Fe,T!==null&&(u=a&-a,u=(u&42)!==0?1:Jl(u),u=(u&(T.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,il(n,u),Pt(T,n,u),rm;_.data==="$?"||Ou(),i=vu(n,i,a)}else _.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,We=nn(_.nextSibling),Et=i,Le=!0,_i=null,un=!1,n!==null&&(Zt[$t++]=En,Zt[$t++]=An,Zt[$t++]=Ci,En=n.id,An=n.overflow,Ci=i),i=yu(i,u.children),i.flags|=4096);return i}return d?(Jn(),d=u.fallback,_=i.mode,N=n.child,O=N.sibling,u=_n(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,O!==null?d=_n(O,d):(d=xi(d,_,a,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,_=n.child.memoizedState,_===null?_=hu(a):(N=_.cachePool,N!==null?(O=st._currentValue,N=N.parent!==O?{parent:O,pool:O}:N):N=id(),_={baseLanes:_.baseLanes|a,cachePool:N}),d.memoizedState=_,d.childLanes=gu(n,T,a),i.memoizedState=pu,u):(Kn(i),a=n.child,n=a.sibling,a=_n(a,{mode:"visible",children:u.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function yu(n,i){return i=es({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function es(n,i){return n=Ut(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vu(n,i,a){return pl(i,n.child,null,a),n=yu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function vm(n,i,a){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Or(n.return,i,a)}function Tu(n,i,a,u,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=a,g.tailMode=d)}function Tm(n,i,a){var u=i.pendingProps,d=u.revealOrder,g=u.tail;if(gt(n,i,u.children,a),u=rt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vm(n,a,i);else if(n.tag===19)vm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ne(rt,u),d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Xa(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Tu(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Xa(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Tu(i,!0,a,null,g);break;case"together":Tu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function wn(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ei|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(mo(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,a=_n(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=_n(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function xu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ka(n)))}function qv(n,i,a){switch(i.tag){case 3:Ie(i,i.stateNode.containerInfo),Hn(i,st,n.memoizedState.cache),co();break;case 27:case 5:hi(i);break;case 4:Ie(i,i.stateNode.containerInfo);break;case 10:Hn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Kn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ym(n,i,a):(Kn(i),n=wn(n,i,a),n!==null?n.sibling:null);Kn(i);break;case 19:var d=(n.flags&128)!==0;if(u=(a&i.childLanes)!==0,u||(mo(n,i,a,!1),u=(a&i.childLanes)!==0),d){if(u)return Tm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ne(rt,rt.current),u)break;return null;case 22:case 23:return i.lanes=0,dm(n,i,a);case 24:Hn(i,st,n.memoizedState.cache)}return wn(n,i,a)}function xm(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)ft=!0;else{if(!xu(n,a)&&(i.flags&128)===0)return ft=!1,qv(n,i,a);ft=(n.flags&131072)!==0}else ft=!1,Le&&(i.flags&1048576)!==0&&Xf(i,Ua,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")br(u)?(n=bi(u,n),i.tag=1,i=hm(null,i,u,n,a)):(i.tag=0,i=mu(null,i,u,n,a));else{if(u!=null){if(d=u.$$typeof,d===B){i.tag=11,i=um(null,i,u,n,a);break e}else if(d===j){i.tag=14,i=cm(null,i,u,n,a);break e}}throw i=Qe(u)||u,Error(l(306,i,""))}}return i;case 0:return mu(n,i,i.type,i.pendingProps,a);case 1:return u=i.type,d=bi(u,i.pendingProps),hm(n,i,u,d,a);case 3:e:{if(Ie(i,i.stateNode.containerInfo),n===null)throw Error(l(387));u=i.pendingProps;var g=i.memoizedState;d=g.element,Hr(n,i),xo(i,u,null,a);var T=i.memoizedState;if(u=T.cache,Hn(i,st,u),u!==g.cache&&Vr(i,[st],a,!0),To(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=gm(n,i,u,a);break e}else if(u!==d){d=Ft(Error(l(424)),i),fo(d),i=gm(n,i,u,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=nn(n.firstChild),Et=i,Le=!0,_i=null,un=!0,a=Wd(i,null,u,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(co(),u===d){i=wn(n,i,a);break e}gt(n,i,u,a)}i=i.child}return i;case 26:return ja(n,i),n===null?(a=Ep(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,n=i.pendingProps,u=ps(re.current).createElement(a),u[ut]=i,u[Tt]=n,vt(u,a,n),ct(u),i.stateNode=u):i.memoizedState=Ep(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return hi(i),n===null&&Le&&(u=i.stateNode=Cp(i.type,i.pendingProps,re.current),Et=i,un=!0,d=We,li(i.type)?(ec=d,We=nn(u.firstChild)):We=d),gt(n,i,i.pendingProps.children,a),ja(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Le&&((d=u=We)&&(u=g0(u,i.type,i.pendingProps,un),u!==null?(i.stateNode=u,Et=i,We=nn(u.firstChild),un=!1,d=!0):d=!1),d||Ei(i)),hi(i),d=i.type,g=i.pendingProps,T=n!==null?n.memoizedProps:null,u=g.children,Xu(d,g)?u=null:T!==null&&Xu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=Jr(n,i,kv,null,null,a),qo._currentValue=d),ja(n,i),gt(n,i,u,a),i.child;case 6:return n===null&&Le&&((n=a=We)&&(a=y0(a,i.pendingProps,un),a!==null?(i.stateNode=a,Et=i,We=null,n=!0):n=!1),n||Ei(i)),null;case 13:return ym(n,i,a);case 4:return Ie(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=pl(i,null,u,a):gt(n,i,u,a),i.child;case 11:return um(n,i,i.type,i.pendingProps,a);case 7:return gt(n,i,i.pendingProps,a),i.child;case 8:return gt(n,i,i.pendingProps.children,a),i.child;case 12:return gt(n,i,i.pendingProps.children,a),i.child;case 10:return u=i.pendingProps,Hn(i,i.type,u.value),gt(n,i,u.children,a),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Ni(i),d=xt(d),u=u(d),i.flags|=1,gt(n,i,u,a),i.child;case 14:return cm(n,i,i.type,i.pendingProps,a);case 15:return fm(n,i,i.type,i.pendingProps,a);case 19:return Tm(n,i,a);case 31:return u=i.pendingProps,a=i.mode,u={mode:u.mode,children:u.children},n===null?(a=es(u,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=_n(n.child,u),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return dm(n,i,a);case 24:return Ni(i),u=xt(st),n===null?(d=Gr(),d===null&&(d=Fe,g=Pr(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),i.memoizedState={parent:u,cache:d},qr(i),Hn(i,st,d)):((n.lanes&a)!==0&&(Hr(n,i),xo(i,null,null,a),To()),d=n.memoizedState,g=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Hn(i,st,u)):(u=g.cache,Hn(i,st,u),u!==d.cache&&Vr(i,[st],a,!0))),gt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Dn(n){n.flags|=4}function Cm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!bp(i)){if(i=Kt.current,i!==null&&((De&4194048)===De?cn!==null:(De&62914560)!==De&&(De&536870912)===0||i!==cn))throw yo=zr,ld;n.flags|=8192}}function ts(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?jt():536870912,n.lanes|=i,vl|=i)}function Mo(n,i){if(!Le)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=a,i}function Hv(n,i,a){var u=i.pendingProps;switch(Ur(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return a=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Mn(st),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(uo(i)?Dn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,jf())),Je(i),null;case 26:return a=i.memoizedState,n===null?(Dn(i),a!==null?(Je(i),Cm(i,a)):(Je(i),i.flags&=-16777217)):a?a!==n.memoizedState?(Dn(i),Je(i),Cm(i,a)):(Je(i),i.flags&=-16777217):(n.memoizedProps!==u&&Dn(i),Je(i),i.flags&=-16777217),null;case 27:qi(i),a=re.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Dn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Je(i),null}n=X.current,uo(i)?Qf(i):(n=Cp(d,u,a),i.stateNode=n,Dn(i))}return Je(i),null;case 5:if(qi(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Dn(i);else{if(!u){if(i.stateNode===null)throw Error(l(166));return Je(i),null}if(n=X.current,uo(i))Qf(i);else{switch(d=ps(re.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(a,{is:u.is}):d.createElement(a)}}n[ut]=i,n[Tt]=u;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(vt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Dn(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Dn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(l(166));if(n=re.current,uo(i)){if(n=i.stateNode,a=i.memoizedProps,u=null,d=Et,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[ut]=i,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||pp(n.nodeValue,a)),n||Ei(i)}else n=ps(n).createTextNode(u),n[ut]=i,i.stateNode=n}return Je(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=uo(i),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(l(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[ut]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),d=!1}else d=jf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(bn(i),i):(bn(i),null)}if(bn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),ts(i,i.updateQueue),Je(i),null;case 4:return Mt(),n===null&&Yu(i.stateNode.containerInfo),Je(i),null;case 10:return Mn(i.type),Je(i),null;case 19:if(te(rt),d=i.memoizedState,d===null)return Je(i),null;if(u=(i.flags&128)!==0,g=d.rendering,g===null)if(u)Mo(d,!1);else{if(je!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=Xa(n),g!==null){for(i.flags|=128,Mo(d,!1),n=g.updateQueue,i.updateQueue=n,ts(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Jf(a,n),a=a.sibling;return ne(rt,rt.current&1|2),i.child}n=n.sibling}d.tail!==null&&Bt()>ls&&(i.flags|=128,u=!0,Mo(d,!1),i.lanes=4194304)}else{if(!u)if(n=Xa(g),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,ts(i,n),Mo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Le)return Je(i),null}else 2*Bt()-d.renderingStartTime>ls&&a!==536870912&&(i.flags|=128,u=!0,Mo(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(n=d.last,n!==null?n.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Bt(),i.sibling=null,n=rt.current,ne(rt,u?n&1|2:n&1),i):(Je(i),null);case 22:case 23:return bn(i),$r(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(a&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),a=i.updateQueue,a!==null&&ts(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==a&&(i.flags|=2048),n!==null&&te(Mi),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mn(st),Je(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function Fv(n,i){switch(Ur(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Mn(st),Mt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return qi(i),null;case 13:if(bn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));co()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return te(rt),null;case 4:return Mt(),null;case 10:return Mn(i.type),null;case 22:case 23:return bn(i),$r(),n!==null&&te(Mi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Mn(st),null;case 25:return null;default:return null}}function Sm(n,i){switch(Ur(i),i.tag){case 3:Mn(st),Mt();break;case 26:case 27:case 5:qi(i);break;case 4:Mt();break;case 13:bn(i);break;case 19:te(rt);break;case 10:Mn(i.type);break;case 22:case 23:bn(i),$r(),n!==null&&te(Mi);break;case 24:Mn(st)}}function Ro(n,i){try{var a=i.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var d=u.next;a=d;do{if((a.tag&n)===n){u=void 0;var g=a.create,T=a.inst;u=g(),T.destroy=u}a=a.next}while(a!==d)}}catch(_){He(i,i.return,_)}}function Xn(n,i,a){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&n)===n){var T=u.inst,_=T.destroy;if(_!==void 0){T.destroy=void 0,d=i;var N=a,O=_;try{O()}catch(H){He(d,N,H)}}}u=u.next}while(u!==g)}}catch(H){He(i,i.return,H)}}function _m(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{cd(i,a)}catch(u){He(n,n.return,u)}}}function Em(n,i,a){a.props=bi(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){He(n,i,u)}}function bo(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(d){He(n,i,d)}}function fn(n,i){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(d){He(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){He(n,i,d)}else a.current=null}function Am(n){var i=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(d){He(n,n.return,d)}}function Cu(n,i,a){try{var u=n.stateNode;f0(u,n.type,a,i),u[Tt]=i}catch(d){He(n,n.return,d)}}function Nm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&li(n.type)||n.tag===4}function Su(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Nm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&li(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function _u(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ms));else if(u!==4&&(u===27&&li(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(_u(n,i,a),n=n.sibling;n!==null;)_u(n,i,a),n=n.sibling}function ns(n,i,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(u!==4&&(u===27&&li(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(ns(n,i,a),n=n.sibling;n!==null;)ns(n,i,a),n=n.sibling}function Mm(n){var i=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);vt(i,u,a),i[ut]=n,i[Tt]=a}catch(g){He(n,n.return,g)}}var In=!1,tt=!1,Eu=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Yv(n,i){if(n=n.containerInfo,Ku=xs,n=Bf(n),Sr(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var T=0,_=-1,N=-1,O=0,H=0,Z=n,P=null;t:for(;;){for(var G;Z!==a||d!==0&&Z.nodeType!==3||(_=T+d),Z!==g||u!==0&&Z.nodeType!==3||(N=T+u),Z.nodeType===3&&(T+=Z.nodeValue.length),(G=Z.firstChild)!==null;)P=Z,Z=G;for(;;){if(Z===n)break t;if(P===a&&++O===d&&(_=T),P===g&&++H===u&&(N=T),(G=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=G}a=_===-1||N===-1?null:{start:_,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ju={focusedElem:n,selectionRange:a},xs=!1,dt=i;dt!==null;)if(i=dt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,dt=n;else for(;dt!==null;){switch(i=dt,g=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,a=i,d=g.memoizedProps,g=g.memoizedState,u=a.stateNode;try{var ge=bi(a.type,d,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(me){He(a,a.return,me)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)Wu(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wu(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,dt=n;break}dt=i.return}}function bm(n,i,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(n,a),u&4&&Ro(5,a);break;case 1:if(Qn(n,a),u&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){He(a,a.return,T)}else{var d=bi(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){He(a,a.return,T)}}u&64&&_m(a),u&512&&bo(a,a.return);break;case 3:if(Qn(n,a),u&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cd(n,i)}catch(T){He(a,a.return,T)}}break;case 27:i===null&&u&4&&Mm(a);case 26:case 5:Qn(n,a),i===null&&u&4&&Am(a),u&512&&bo(a,a.return);break;case 12:Qn(n,a);break;case 13:Qn(n,a),u&4&&Im(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=e0.bind(null,a),v0(n,a))));break;case 22:if(u=a.memoizedState!==null||In,!u){i=i!==null&&i.memoizedState!==null||tt,d=In;var g=tt;In=u,(tt=i)&&!g?Wn(n,a,(a.subtreeFlags&8772)!==0):Qn(n,a),In=d,tt=g}break;case 30:break;default:Qn(n,a)}}function wm(n){var i=n.alternate;i!==null&&(n.alternate=null,wm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&ir(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ke=null,wt=!1;function Un(n,i,a){for(a=a.child;a!==null;)Dm(n,i,a),a=a.sibling}function Dm(n,i,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Tn,a)}catch{}switch(a.tag){case 26:tt||fn(a,i),Un(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||fn(a,i);var u=Ke,d=wt;li(a.type)&&(Ke=a.stateNode,wt=!1),Un(n,i,a),Po(a.stateNode),Ke=u,wt=d;break;case 5:tt||fn(a,i);case 6:if(u=Ke,d=wt,Ke=null,Un(n,i,a),Ke=u,wt=d,Ke!==null)if(wt)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(g){He(a,i,g)}else try{Ke.removeChild(a.stateNode)}catch(g){He(a,i,g)}break;case 18:Ke!==null&&(wt?(n=Ke,Tp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Zo(n)):Tp(Ke,a.stateNode));break;case 4:u=Ke,d=wt,Ke=a.stateNode.containerInfo,wt=!0,Un(n,i,a),Ke=u,wt=d;break;case 0:case 11:case 14:case 15:tt||Xn(2,a,i),tt||Xn(4,a,i),Un(n,i,a);break;case 1:tt||(fn(a,i),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Em(a,i,u)),Un(n,i,a);break;case 21:Un(n,i,a);break;case 22:tt=(u=tt)||a.memoizedState!==null,Un(n,i,a),tt=u;break;default:Un(n,i,a)}}function Im(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zo(n)}catch(a){He(i,i.return,a)}}function Zv(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Rm),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Rm),i;default:throw Error(l(435,n.tag))}}function Au(n,i){var a=Zv(n);i.forEach(function(u){var d=t0.bind(null,n,u);a.has(u)||(a.add(u),u.then(d,d))})}function kt(n,i){var a=i.deletions;if(a!==null)for(var u=0;u<a.length;u++){var d=a[u],g=n,T=i,_=T;e:for(;_!==null;){switch(_.tag){case 27:if(li(_.type)){Ke=_.stateNode,wt=!1;break e}break;case 5:Ke=_.stateNode,wt=!1;break e;case 3:case 4:Ke=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if(Ke===null)throw Error(l(160));Dm(g,T,d),Ke=null,wt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Um(i,n),i=i.sibling}var tn=null;function Um(n,i){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:kt(i,n),Lt(n),u&4&&(Xn(3,n,n.return),Ro(3,n),Xn(5,n,n.return));break;case 1:kt(i,n),Lt(n),u&512&&(tt||a===null||fn(a,a.return)),u&64&&In&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var d=tn;if(kt(i,n),Lt(n),u&512&&(tt||a===null||fn(a,a.return)),u&4){var g=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Wl]||g[ut]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),vt(g,u,a),g[ut]=n,ct(g),u=g;break e;case"link":var T=Mp("link","href",d).get(u+(a.href||""));if(T){for(var _=0;_<T.length;_++)if(g=T[_],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(_,1);break t}}g=d.createElement(u),vt(g,u,a),d.head.appendChild(g);break;case"meta":if(T=Mp("meta","content",d).get(u+(a.content||""))){for(_=0;_<T.length;_++)if(g=T[_],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(_,1);break t}}g=d.createElement(u),vt(g,u,a),d.head.appendChild(g);break;default:throw Error(l(468,u))}g[ut]=n,ct(g),u=g}n.stateNode=u}else Rp(d,n.type,n.stateNode);else n.stateNode=Np(d,u,n.memoizedProps);else g!==u?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,u===null?Rp(d,n.type,n.stateNode):Np(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Cu(n,n.memoizedProps,a.memoizedProps)}break;case 27:kt(i,n),Lt(n),u&512&&(tt||a===null||fn(a,a.return)),a!==null&&u&4&&Cu(n,n.memoizedProps,a.memoizedProps);break;case 5:if(kt(i,n),Lt(n),u&512&&(tt||a===null||fn(a,a.return)),n.flags&32){d=n.stateNode;try{Xi(d,"")}catch(G){He(n,n.return,G)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Cu(n,d,a!==null?a.memoizedProps:d)),u&1024&&(Eu=!0);break;case 6:if(kt(i,n),Lt(n),u&4){if(n.stateNode===null)throw Error(l(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(G){He(n,n.return,G)}}break;case 3:if(ys=null,d=tn,tn=hs(i.containerInfo),kt(i,n),tn=d,Lt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Zo(i.containerInfo)}catch(G){He(n,n.return,G)}Eu&&(Eu=!1,km(n));break;case 4:u=tn,tn=hs(n.stateNode.containerInfo),kt(i,n),Lt(n),tn=u;break;case 12:kt(i,n),Lt(n);break;case 13:kt(i,n),Lt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Du=Bt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Au(n,u)));break;case 22:d=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,O=In,H=tt;if(In=O||d,tt=H||N,kt(i,n),tt=H,In=O,Lt(n),u&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||N||In||tt||wi(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(g=N.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{_=N.stateNode;var Z=N.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;_.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(G){He(N,N.return,G)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(G){He(N,N.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Au(n,a))));break;case 19:kt(i,n),Lt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Au(n,u)));break;case 30:break;case 21:break;default:kt(i,n),Lt(n)}}function Lt(n){var i=n.flags;if(i&2){try{for(var a,u=n.return;u!==null;){if(Nm(u)){a=u;break}u=u.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var d=a.stateNode,g=Su(n);ns(n,g,d);break;case 5:var T=a.stateNode;a.flags&32&&(Xi(T,""),a.flags&=-33);var _=Su(n);ns(n,_,T);break;case 3:case 4:var N=a.stateNode.containerInfo,O=Su(n);_u(n,O,N);break;default:throw Error(l(161))}}catch(H){He(n,n.return,H)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function km(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;km(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Qn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)bm(n,i.alternate,i),i=i.sibling}function wi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Xn(4,i,i.return),wi(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Em(i,i.return,a),wi(i);break;case 27:Po(i.stateNode);case 26:case 5:fn(i,i.return),wi(i);break;case 22:i.memoizedState===null&&wi(i);break;case 30:wi(i);break;default:wi(i)}n=n.sibling}}function Wn(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=n,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:Wn(d,g,a),Ro(4,g);break;case 1:if(Wn(d,g,a),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(O){He(u,u.return,O)}if(u=g,d=u.updateQueue,d!==null){var _=u.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)ud(N[d],_)}catch(O){He(u,u.return,O)}}a&&T&64&&_m(g),bo(g,g.return);break;case 27:Mm(g);case 26:case 5:Wn(d,g,a),a&&u===null&&T&4&&Am(g),bo(g,g.return);break;case 12:Wn(d,g,a);break;case 13:Wn(d,g,a),a&&T&4&&Im(d,g);break;case 22:g.memoizedState===null&&Wn(d,g,a),bo(g,g.return);break;case 30:break;default:Wn(d,g,a)}i=i.sibling}}function Nu(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&po(a))}function Mu(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&po(n))}function dn(n,i,a,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lm(n,i,a,u),i=i.sibling}function Lm(n,i,a,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:dn(n,i,a,u),d&2048&&Ro(9,i);break;case 1:dn(n,i,a,u);break;case 3:dn(n,i,a,u),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&po(n)));break;case 12:if(d&2048){dn(n,i,a,u),n=i.stateNode;try{var g=i.memoizedProps,T=g.id,_=g.onPostCommit;typeof _=="function"&&_(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){He(i,i.return,N)}}else dn(n,i,a,u);break;case 13:dn(n,i,a,u);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?dn(n,i,a,u):wo(n,i):g._visibility&2?dn(n,i,a,u):(g._visibility|=2,hl(n,i,a,u,(i.subtreeFlags&10256)!==0)),d&2048&&Nu(T,i);break;case 24:dn(n,i,a,u),d&2048&&Mu(i.alternate,i);break;default:dn(n,i,a,u)}}function hl(n,i,a,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=n,T=i,_=a,N=u,O=T.flags;switch(T.tag){case 0:case 11:case 15:hl(g,T,_,N,d),Ro(8,T);break;case 23:break;case 22:var H=T.stateNode;T.memoizedState!==null?H._visibility&2?hl(g,T,_,N,d):wo(g,T):(H._visibility|=2,hl(g,T,_,N,d)),d&&O&2048&&Nu(T.alternate,T);break;case 24:hl(g,T,_,N,d),d&&O&2048&&Mu(T.alternate,T);break;default:hl(g,T,_,N,d)}i=i.sibling}}function wo(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,u=i,d=u.flags;switch(u.tag){case 22:wo(a,u),d&2048&&Nu(u.alternate,u);break;case 24:wo(a,u),d&2048&&Mu(u.alternate,u);break;default:wo(a,u)}i=i.sibling}}var Do=8192;function gl(n){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)Om(n),n=n.sibling}function Om(n){switch(n.tag){case 26:gl(n),n.flags&Do&&n.memoizedState!==null&&D0(tn,n.memoizedState,n.memoizedProps);break;case 5:gl(n);break;case 3:case 4:var i=tn;tn=hs(n.stateNode.containerInfo),gl(n),tn=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Do,Do=16777216,gl(n),Do=i):gl(n));break;default:gl(n)}}function Vm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Io(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];dt=u,Bm(u,n)}Vm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pm(n),n=n.sibling}function Pm(n){switch(n.tag){case 0:case 11:case 15:Io(n),n.flags&2048&&Xn(9,n,n.return);break;case 3:Io(n);break;case 12:Io(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,is(n)):Io(n);break;default:Io(n)}}function is(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];dt=u,Bm(u,n)}Vm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Xn(8,i,i.return),is(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,is(i));break;default:is(i)}n=n.sibling}}function Bm(n,i){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:Xn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:po(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,dt=u;else e:for(a=n;dt!==null;){u=dt;var d=u.sibling,g=u.return;if(wm(u),u===a){dt=null;break e}if(d!==null){d.return=g,dt=d;break e}dt=g}}}var $v={getCacheForType:function(n){var i=xt(st),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},Kv=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Fe=null,Re=null,De=0,Pe=0,Ot=null,jn=!1,yl=!1,Ru=!1,kn=0,je=0,ei=0,Di=0,bu=0,Jt=0,vl=0,Uo=null,Dt=null,wu=!1,Du=0,ls=1/0,os=null,ti=null,yt=0,ni=null,Tl=null,xl=0,Iu=0,Uu=null,Gm=null,ko=0,ku=null;function Vt(){if((Ve&2)!==0&&De!==0)return De&-De;if(q.T!==null){var n=sl;return n!==0?n:zu()}return ga()}function zm(){Jt===0&&(Jt=(De&536870912)===0||Le?Gt():536870912);var n=Kt.current;return n!==null&&(n.flags|=32),Jt}function Pt(n,i,a){(n===Fe&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)&&(Cl(n,0),ii(n,De,Jt,!1)),xn(n,a),((Ve&2)===0||n!==Fe)&&(n===Fe&&((Ve&2)===0&&(Di|=a),je===4&&ii(n,De,Jt,!1)),mn(n))}function qm(n,i,a){if((Ve&6)!==0)throw Error(l(327));var u=!a&&(i&124)===0&&(i&n.expiredLanes)===0||at(n,i),d=u?Qv(n,i):Vu(n,i,!0),g=u;do{if(d===0){yl&&!u&&ii(n,i,0,!1);break}else{if(a=n.current.alternate,g&&!Jv(a)){d=Vu(n,i,!1),g=!1;continue}if(d===2){if(g=i,n.errorRecoveryDisabledLanes&g)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var _=n;d=Uo;var N=_.current.memoizedState.isDehydrated;if(N&&(Cl(_,T).flags|=256),T=Vu(_,T,!1),T!==2){if(Ru&&!N){_.errorRecoveryDisabledLanes|=g,Di|=g,d=4;break e}g=Dt,Dt=d,g!==null&&(Dt===null?Dt=g:Dt.push.apply(Dt,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Cl(n,0),ii(n,i,0,!0);break}e:{switch(u=n,g=d,g){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:ii(u,i,Jt,!jn);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(d=Du+300-Bt(),10<d)){if(ii(u,i,Jt,!jn),ht(u,0,!0)!==0)break e;u.timeoutHandle=yp(Hm.bind(null,u,a,Dt,os,wu,i,Jt,Di,vl,jn,g,2,-0,0),d);break e}Hm(u,a,Dt,os,wu,i,Jt,Di,vl,jn,g,0,-0,0)}}break}while(!0);mn(n)}function Hm(n,i,a,u,d,g,T,_,N,O,H,Z,P,G){if(n.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(zo={stylesheets:null,count:0,unsuspend:w0},Om(i),Z=I0(),Z!==null)){n.cancelPendingCommit=Z(Xm.bind(null,n,i,g,a,u,d,T,_,N,H,1,P,G)),ii(n,g,T,!O);return}Xm(n,i,g,a,u,d,T,_,N)}function Jv(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var d=a[u],g=d.getSnapshot;d=d.value;try{if(!It(g(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ii(n,i,a,u){i&=~bu,i&=~Di,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var d=i;0<d;){var g=31-_t(d),T=1<<g;u[g]=-1,d&=~T}a!==0&&Kl(n,a,i)}function as(){return(Ve&6)===0?(Lo(0),!1):!0}function Lu(){if(Re!==null){if(Pe===0)var n=Re.return;else n=Re,Nn=Ai=null,Wr(n),ml=null,Ao=0,n=Re;for(;n!==null;)Sm(n.alternate,n),n=n.return;Re=null}}function Cl(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,m0(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Lu(),Fe=n,Re=a=_n(n.current,null),De=i,Pe=0,Ot=null,jn=!1,yl=at(n,i),Ru=!1,vl=Jt=bu=Di=ei=je=0,Dt=Uo=null,wu=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var d=31-_t(u),g=1<<d;i|=n[d],u&=~g}return kn=i,Ra(),a}function Fm(n,i){Ae=null,q.H=$a,i===go||i===Va?(i=sd(),Pe=3):i===ld?(i=sd(),Pe=4):Pe=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ot=i,Re===null&&(je=1,Wa(n,Ft(i,n.current)))}function Ym(){var n=q.H;return q.H=$a,n===null?$a:n}function Zm(){var n=q.A;return q.A=$v,n}function Ou(){je=4,jn||(De&4194048)!==De&&Kt.current!==null||(yl=!0),(ei&134217727)===0&&(Di&134217727)===0||Fe===null||ii(Fe,De,Jt,!1)}function Vu(n,i,a){var u=Ve;Ve|=2;var d=Ym(),g=Zm();(Fe!==n||De!==i)&&(os=null,Cl(n,i)),i=!1;var T=je;e:do try{if(Pe!==0&&Re!==null){var _=Re,N=Ot;switch(Pe){case 8:Lu(),T=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(i=!0);var O=Pe;if(Pe=0,Ot=null,Sl(n,_,N,O),a&&yl){T=0;break e}break;default:O=Pe,Pe=0,Ot=null,Sl(n,_,N,O)}}Xv(),T=je;break}catch(H){Fm(n,H)}while(!0);return i&&n.shellSuspendCounter++,Nn=Ai=null,Ve=u,q.H=d,q.A=g,Re===null&&(Fe=null,De=0,Ra()),T}function Xv(){for(;Re!==null;)$m(Re)}function Qv(n,i){var a=Ve;Ve|=2;var u=Ym(),d=Zm();Fe!==n||De!==i?(os=null,ls=Bt()+500,Cl(n,i)):yl=at(n,i);e:do try{if(Pe!==0&&Re!==null){i=Re;var g=Ot;t:switch(Pe){case 1:Pe=0,Ot=null,Sl(n,i,g,1);break;case 2:case 9:if(od(g)){Pe=0,Ot=null,Km(i);break}i=function(){Pe!==2&&Pe!==9||Fe!==n||(Pe=7),mn(n)},g.then(i,i);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:od(g)?(Pe=0,Ot=null,Km(i)):(Pe=0,Ot=null,Sl(n,i,g,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var _=Re;if(!T||bp(T)){Pe=0,Ot=null;var N=_.sibling;if(N!==null)Re=N;else{var O=_.return;O!==null?(Re=O,ss(O)):Re=null}break t}}Pe=0,Ot=null,Sl(n,i,g,5);break;case 6:Pe=0,Ot=null,Sl(n,i,g,6);break;case 8:Lu(),je=6;break e;default:throw Error(l(462))}}Wv();break}catch(H){Fm(n,H)}while(!0);return Nn=Ai=null,q.H=u,q.A=d,Ve=a,Re!==null?0:(Fe=null,De=0,Ra(),je)}function Wv(){for(;Re!==null&&!Xs();)$m(Re)}function $m(n){var i=xm(n.alternate,n,kn);n.memoizedProps=n.pendingProps,i===null?ss(n):Re=i}function Km(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=pm(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=pm(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Wr(i);default:Sm(a,i),i=Re=Jf(i,kn),i=xm(a,i,kn)}n.memoizedProps=n.pendingProps,i===null?ss(n):Re=i}function Sl(n,i,a,u){Nn=Ai=null,Wr(i),ml=null,Ao=0;var d=i.return;try{if(zv(n,d,i,a,De)){je=1,Wa(n,Ft(a,n.current)),Re=null;return}}catch(g){if(d!==null)throw Re=d,g;je=1,Wa(n,Ft(a,n.current)),Re=null;return}i.flags&32768?(Le||u===1?n=!0:yl||(De&536870912)!==0?n=!1:(jn=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Jm(i,n)):ss(i)}function ss(n){var i=n;do{if((i.flags&32768)!==0){Jm(i,jn);return}n=i.return;var a=Hv(i.alternate,i,kn);if(a!==null){Re=a;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=n}while(i!==null);je===0&&(je=5)}function Jm(n,i){do{var a=Fv(n.alternate,n);if(a!==null){a.flags&=32767,Re=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Re=n;return}Re=n=a}while(n!==null);je=6,Re=null}function Xm(n,i,a,u,d,g,T,_,N){n.cancelPendingCommit=null;do rs();while(yt!==0);if((Ve&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(g=i.lanes|i.childLanes,g|=Mr,$l(n,a,g,T,_,N),n===Fe&&(Re=Fe=null,De=0),Tl=i,ni=n,xl=a,Iu=g,Uu=d,Gm=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,n0(Hi,function(){return tp(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=q.T,q.T=null,d=ee.p,ee.p=2,T=Ve,Ve|=4;try{Yv(n,i,a)}finally{Ve=T,ee.p=d,q.T=u}}yt=1,Qm(),Wm(),jm()}}function Qm(){if(yt===1){yt=0;var n=ni,i=Tl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var u=ee.p;ee.p=2;var d=Ve;Ve|=4;try{Um(i,n);var g=Ju,T=Bf(n.containerInfo),_=g.focusedElem,N=g.selectionRange;if(T!==_&&_&&_.ownerDocument&&Pf(_.ownerDocument.documentElement,_)){if(N!==null&&Sr(_)){var O=N.start,H=N.end;if(H===void 0&&(H=O),"selectionStart"in _)_.selectionStart=O,_.selectionEnd=Math.min(H,_.value.length);else{var Z=_.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var G=P.getSelection(),ge=_.textContent.length,me=Math.min(N.start,ge),ze=N.end===void 0?me:Math.min(N.end,ge);!G.extend&&me>ze&&(T=ze,ze=me,me=T);var U=Vf(_,me),b=Vf(_,ze);if(U&&b&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==b.node||G.focusOffset!==b.offset)){var L=Z.createRange();L.setStart(U.node,U.offset),G.removeAllRanges(),me>ze?(G.addRange(L),G.extend(b.node,b.offset)):(L.setEnd(b.node,b.offset),G.addRange(L))}}}}for(Z=[],G=_;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Z.length;_++){var F=Z[_];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}xs=!!Ku,Ju=Ku=null}finally{Ve=d,ee.p=u,q.T=a}}n.current=i,yt=2}}function Wm(){if(yt===2){yt=0;var n=ni,i=Tl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var u=ee.p;ee.p=2;var d=Ve;Ve|=4;try{bm(n,i.alternate,i)}finally{Ve=d,ee.p=u,q.T=a}}yt=3}}function jm(){if(yt===4||yt===3){yt=0,Qs();var n=ni,i=Tl,a=xl,u=Gm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yt=5:(yt=0,Tl=ni=null,ep(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ti=null),Xl(a),i=i.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Tn,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=q.T,d=ee.p,ee.p=2,q.T=null;try{for(var g=n.onRecoverableError,T=0;T<u.length;T++){var _=u[T];g(_.value,{componentStack:_.stack})}}finally{q.T=i,ee.p=d}}(xl&3)!==0&&rs(),mn(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===ku?ko++:(ko=0,ku=n):ko=0,Lo(0)}}function ep(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,po(i)))}function rs(n){return Qm(),Wm(),jm(),tp()}function tp(){if(yt!==5)return!1;var n=ni,i=Iu;Iu=0;var a=Xl(xl),u=q.T,d=ee.p;try{ee.p=32>a?32:a,q.T=null,a=Uu,Uu=null;var g=ni,T=xl;if(yt=0,Tl=ni=null,xl=0,(Ve&6)!==0)throw Error(l(331));var _=Ve;if(Ve|=4,Pm(g.current),Lm(g,g.current,T,a),Ve=_,Lo(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Tn,g)}catch{}return!0}finally{ee.p=d,q.T=u,ep(n,i)}}function np(n,i,a){i=Ft(a,i),i=du(n.stateNode,i,2),n=Zn(n,i,2),n!==null&&(xn(n,2),mn(n))}function He(n,i,a){if(n.tag===3)np(n,n,a);else for(;i!==null;){if(i.tag===3){np(i,n,a);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ti===null||!ti.has(u))){n=Ft(a,n),a=am(2),u=Zn(i,a,2),u!==null&&(sm(a,u,i,n),xn(u,2),mn(u));break}}i=i.return}}function Pu(n,i,a){var u=n.pingCache;if(u===null){u=n.pingCache=new Kv;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(a)||(Ru=!0,d.add(a),n=jv.bind(null,n,i,a),i.then(n,n))}function jv(n,i,a){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Fe===n&&(De&a)===a&&(je===4||je===3&&(De&62914560)===De&&300>Bt()-Du?(Ve&2)===0&&Cl(n,0):bu|=a,vl===De&&(vl=0)),mn(n)}function ip(n,i){i===0&&(i=jt()),n=il(n,i),n!==null&&(xn(n,i),mn(n))}function e0(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),ip(n,a)}function t0(n,i){var a=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(i),ip(n,a)}function n0(n,i){return Fl(n,i)}var us=null,_l=null,Bu=!1,cs=!1,Gu=!1,Ii=0;function mn(n){n!==_l&&n.next===null&&(_l===null?us=_l=n:_l=_l.next=n),cs=!0,Bu||(Bu=!0,l0())}function Lo(n,i){if(!Gu&&cs){Gu=!0;do for(var a=!1,u=us;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,_=u.pingedLanes;g=(1<<31-_t(42|n)+1)-1,g&=d&~(T&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,sp(u,g))}else g=De,g=ht(u,u===Fe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||at(u,g)||(a=!0,sp(u,g));u=u.next}while(a);Gu=!1}}function i0(){lp()}function lp(){cs=Bu=!1;var n=0;Ii!==0&&(d0()&&(n=Ii),Ii=0);for(var i=Bt(),a=null,u=us;u!==null;){var d=u.next,g=op(u,i);g===0?(u.next=null,a===null?us=d:a.next=d,d===null&&(_l=a)):(a=u,(n!==0||(g&3)!==0)&&(cs=!0)),u=d}Lo(n)}function op(n,i){for(var a=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var T=31-_t(g),_=1<<T,N=d[T];N===-1?((_&a)===0||(_&u)!==0)&&(d[T]=sn(_,i)):N<=i&&(n.expiredLanes|=_),g&=~_}if(i=Fe,a=De,a=ht(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===i&&(Pe===2||Pe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Yl(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||at(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(u!==null&&Yl(u),Xl(a)){case 2:case 8:a=Gn;break;case 32:a=Hi;break;case 268435456:a=ma;break;default:a=Hi}return u=ap.bind(null,n),a=Fl(a,u),n.callbackPriority=i,n.callbackNode=a,i}return u!==null&&u!==null&&Yl(u),n.callbackPriority=2,n.callbackNode=null,2}function ap(n,i){if(yt!==0&&yt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(rs()&&n.callbackNode!==a)return null;var u=De;return u=ht(n,n===Fe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(qm(n,u,i),op(n,Bt()),n.callbackNode!=null&&n.callbackNode===a?ap.bind(null,n):null)}function sp(n,i){if(rs())return null;qm(n,i,!0)}function l0(){p0(function(){(Ve&6)!==0?Fl(fa,i0):lp()})}function zu(){return Ii===0&&(Ii=Gt()),Ii}function rp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ca(""+n)}function up(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function o0(n,i,a,u,d){if(i==="submit"&&a&&a.stateNode===d){var g=rp((d[Tt]||null).action),T=u.submitter;T&&(i=(i=T[Tt]||null)?rp(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var _=new Aa("action","action",null,u,d);n.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ii!==0){var N=T?up(d,T):new FormData(d);su(a,{pending:!0,data:N,method:d.method,action:g},null,N)}}else typeof g=="function"&&(_.preventDefault(),N=T?up(d,T):new FormData(d),su(a,{pending:!0,data:N,method:d.method,action:g},g,N))},currentTarget:d}]})}}for(var qu=0;qu<Nr.length;qu++){var Hu=Nr[qu],a0=Hu.toLowerCase(),s0=Hu[0].toUpperCase()+Hu.slice(1);en(a0,"on"+s0)}en(qf,"onAnimationEnd"),en(Hf,"onAnimationIteration"),en(Ff,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Ev,"onTransitionRun"),en(Av,"onTransitionStart"),en(Nv,"onTransitionCancel"),en(Yf,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function cp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],d=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var T=u.length-1;0<=T;T--){var _=u[T],N=_.instance,O=_.currentTarget;if(_=_.listener,N!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=O;try{g(d)}catch(H){Qa(H)}d.currentTarget=null,g=N}else for(T=0;T<u.length;T++){if(_=u[T],N=_.instance,O=_.currentTarget,_=_.listener,N!==g&&d.isPropagationStopped())break e;g=_,d.currentTarget=O;try{g(d)}catch(H){Qa(H)}d.currentTarget=null,g=N}}}}function be(n,i){var a=i[nr];a===void 0&&(a=i[nr]=new Set);var u=n+"__bubble";a.has(u)||(fp(i,n,2,!1),a.add(u))}function Fu(n,i,a){var u=0;i&&(u|=4),fp(a,n,u,i)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Yu(n){if(!n[fs]){n[fs]=!0,lf.forEach(function(a){a!=="selectionchange"&&(r0.has(a)||Fu(a,!1,n),Fu(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[fs]||(i[fs]=!0,Fu("selectionchange",!1,i))}}function fp(n,i,a,u){switch(Lp(i)){case 2:var d=L0;break;case 8:d=O0;break;default:d=oc}a=d.bind(null,i,a,n),d=void 0,!mr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Zu(n,i,a,u,d){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var _=u.stateNode.containerInfo;if(_===d)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;_!==null;){if(T=Fi(_),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=g=T;continue e}_=_.parentNode}}u=u.return}vf(function(){var O=g,H=fr(a),Z=[];e:{var P=Zf.get(n);if(P!==void 0){var G=Aa,ge=n;switch(n){case"keypress":if(_a(a)===0)break e;case"keydown":case"keyup":G=nv;break;case"focusin":ge="focus",G=yr;break;case"focusout":ge="blur",G=yr;break;case"beforeblur":case"afterblur":G=yr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ov;break;case qf:case Hf:case Ff:G=$y;break;case Yf:G=sv;break;case"scroll":case"scrollend":G=qy;break;case"wheel":G=uv;break;case"copy":case"cut":case"paste":G=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=_f;break;case"toggle":case"beforetoggle":G=fv}var me=(i&4)!==0,ze=!me&&(n==="scroll"||n==="scrollend"),U=me?P!==null?P+"Capture":null:P;me=[];for(var b=O,L;b!==null;){var F=b;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=eo(b,U),F!=null&&me.push(Vo(b,F,L))),ze)break;b=b.return}0<me.length&&(P=new G(P,ge,null,a,H),Z.push({event:P,listeners:me}))}}if((i&7)===0){e:{if(P=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",P&&a!==cr&&(ge=a.relatedTarget||a.fromElement)&&(Fi(ge)||ge[zn]))break e;if((G||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,G?(ge=a.relatedTarget||a.toElement,G=O,ge=ge?Fi(ge):null,ge!==null&&(ze=r(ge),me=ge.tag,ge!==ze||me!==5&&me!==27&&me!==6)&&(ge=null)):(G=null,ge=O),G!==ge)){if(me=Cf,F="onMouseLeave",U="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(me=_f,F="onPointerLeave",U="onPointerEnter",b="pointer"),ze=G==null?P:jl(G),L=ge==null?P:jl(ge),P=new me(F,b+"leave",G,a,H),P.target=ze,P.relatedTarget=L,F=null,Fi(H)===O&&(me=new me(U,b+"enter",ge,a,H),me.target=L,me.relatedTarget=ze,F=me),ze=F,G&&ge)t:{for(me=G,U=ge,b=0,L=me;L;L=El(L))b++;for(L=0,F=U;F;F=El(F))L++;for(;0<b-L;)me=El(me),b--;for(;0<L-b;)U=El(U),L--;for(;b--;){if(me===U||U!==null&&me===U.alternate)break t;me=El(me),U=El(U)}me=null}else me=null;G!==null&&dp(Z,P,G,me,!1),ge!==null&&ze!==null&&dp(Z,ze,ge,me,!0)}}e:{if(P=O?jl(O):window,G=P.nodeName&&P.nodeName.toLowerCase(),G==="select"||G==="input"&&P.type==="file")var ae=Df;else if(bf(P))if(If)ae=Cv;else{ae=Tv;var Ne=vv}else G=P.nodeName,!G||G.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&ur(O.elementType)&&(ae=Df):ae=xv;if(ae&&(ae=ae(n,O))){wf(Z,ae,a,H);break e}Ne&&Ne(n,P,O),n==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&rr(P,"number",P.value)}switch(Ne=O?jl(O):window,n){case"focusin":(bf(Ne)||Ne.contentEditable==="true")&&(el=Ne,_r=O,ro=null);break;case"focusout":ro=_r=el=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Gf(Z,a,H);break;case"selectionchange":if(_v)break;case"keydown":case"keyup":Gf(Z,a,H)}var fe;if(Tr)e:{switch(n){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ji?Mf(n,a)&&(pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(Ef&&a.locale!=="ko"&&(ji||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ji&&(fe=Tf()):(qn=H,pr="value"in qn?qn.value:qn.textContent,ji=!0)),Ne=ds(O,pe),0<Ne.length&&(pe=new Sf(pe,n,null,a,H),Z.push({event:pe,listeners:Ne}),fe?pe.data=fe:(fe=Rf(a),fe!==null&&(pe.data=fe)))),(fe=mv?pv(n,a):hv(n,a))&&(pe=ds(O,"onBeforeInput"),0<pe.length&&(Ne=new Sf("onBeforeInput","beforeinput",null,a,H),Z.push({event:Ne,listeners:pe}),Ne.data=fe)),o0(Z,n,O,a,H)}cp(Z,i)})}function Vo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function ds(n,i){for(var a=i+"Capture",u=[];n!==null;){var d=n,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=eo(n,a),d!=null&&u.unshift(Vo(n,d,g)),d=eo(n,i),d!=null&&u.push(Vo(n,d,g))),n.tag===3)return u;n=n.return}return[]}function El(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function dp(n,i,a,u,d){for(var g=i._reactName,T=[];a!==null&&a!==u;){var _=a,N=_.alternate,O=_.stateNode;if(_=_.tag,N!==null&&N===u)break;_!==5&&_!==26&&_!==27||O===null||(N=O,d?(O=eo(a,g),O!=null&&T.unshift(Vo(a,O,N))):d||(O=eo(a,g),O!=null&&T.push(Vo(a,O,N)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var u0=/\r\n?/g,c0=/\u0000|\uFFFD/g;function mp(n){return(typeof n=="string"?n:""+n).replace(u0,`
`).replace(c0,"")}function pp(n,i){return i=mp(i),mp(n)===i}function ms(){}function Ge(n,i,a,u,d,g){switch(a){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Xi(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Xi(n,""+u);break;case"className":va(n,"class",u);break;case"tabIndex":va(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":va(n,a,u);break;case"style":gf(n,u,g);break;case"data":if(i!=="object"){va(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ca(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Ge(n,i,"name",d.name,d,null),Ge(n,i,"formEncType",d.formEncType,d,null),Ge(n,i,"formMethod",d.formMethod,d,null),Ge(n,i,"formTarget",d.formTarget,d,null)):(Ge(n,i,"encType",d.encType,d,null),Ge(n,i,"method",d.method,d,null),Ge(n,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ca(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=ms);break;case"onScroll":u!=null&&be("scroll",n);break;case"onScrollEnd":u!=null&&be("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ca(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":be("beforetoggle",n),be("toggle",n),ya(n,"popover",u);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ya(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gy.get(a)||a,ya(n,a,u))}}function $u(n,i,a,u,d,g){switch(a){case"style":gf(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(a=u.__html,a!=null){if(d.children!=null)throw Error(l(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Xi(n,u):(typeof u=="number"||typeof u=="bigint")&&Xi(n,""+u);break;case"onScroll":u!=null&&be("scroll",n);break;case"onScrollEnd":u!=null&&be("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ms);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!of.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),g=n[Tt]||null,g=g!=null?g[a]:null,typeof g=="function"&&n.removeEventListener(i,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,u,d);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):ya(n,a,u)}}}function vt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",n),be("load",n);var u=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ge(n,i,g,T,a,null)}}d&&Ge(n,i,"srcSet",a.srcSet,a,null),u&&Ge(n,i,"src",a.src,a,null);return;case"input":be("invalid",n);var _=g=T=d=null,N=null,O=null;for(u in a)if(a.hasOwnProperty(u)){var H=a[u];if(H!=null)switch(u){case"name":d=H;break;case"type":T=H;break;case"checked":N=H;break;case"defaultChecked":O=H;break;case"value":g=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,i));break;default:Ge(n,i,u,H,a,null)}}df(n,g,_,N,O,T,d,!1),Ta(n);return;case"select":be("invalid",n),u=T=g=null;for(d in a)if(a.hasOwnProperty(d)&&(_=a[d],_!=null))switch(d){case"value":g=_;break;case"defaultValue":T=_;break;case"multiple":u=_;default:Ge(n,i,d,_,a,null)}i=g,a=T,n.multiple=!!u,i!=null?Ji(n,!!u,i,!1):a!=null&&Ji(n,!!u,a,!0);return;case"textarea":be("invalid",n),g=d=u=null;for(T in a)if(a.hasOwnProperty(T)&&(_=a[T],_!=null))switch(T){case"value":u=_;break;case"defaultValue":d=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Ge(n,i,T,_,a,null)}pf(n,u,d,g),Ta(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ge(n,i,N,u,a,null)}return;case"dialog":be("beforetoggle",n),be("toggle",n),be("cancel",n),be("close",n);break;case"iframe":case"object":be("load",n);break;case"video":case"audio":for(u=0;u<Oo.length;u++)be(Oo[u],n);break;case"image":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"embed":case"source":case"link":be("error",n),be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ge(n,i,O,u,a,null)}return;default:if(ur(i)){for(H in a)a.hasOwnProperty(H)&&(u=a[H],u!==void 0&&$u(n,i,H,u,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(u=a[_],u!=null&&Ge(n,i,_,u,a,null))}function f0(n,i,a,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,_=null,N=null,O=null,H=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=Z;default:u.hasOwnProperty(G)||Ge(n,i,G,null,u,Z)}}for(var P in u){var G=u[P];if(Z=a[P],u.hasOwnProperty(P)&&(G!=null||Z!=null))switch(P){case"type":g=G;break;case"name":d=G;break;case"checked":O=G;break;case"defaultChecked":H=G;break;case"value":T=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,i));break;default:G!==Z&&Ge(n,i,P,G,u,Z)}}sr(n,T,_,N,O,H,g,d);return;case"select":G=T=_=P=null;for(g in a)if(N=a[g],a.hasOwnProperty(g)&&N!=null)switch(g){case"value":break;case"multiple":G=N;default:u.hasOwnProperty(g)||Ge(n,i,g,null,u,N)}for(d in u)if(g=u[d],N=a[d],u.hasOwnProperty(d)&&(g!=null||N!=null))switch(d){case"value":P=g;break;case"defaultValue":_=g;break;case"multiple":T=g;default:g!==N&&Ge(n,i,d,g,u,N)}i=_,a=T,u=G,P!=null?Ji(n,!!a,P,!1):!!u!=!!a&&(i!=null?Ji(n,!!a,i,!0):Ji(n,!!a,a?[]:"",!1));return;case"textarea":G=P=null;for(_ in a)if(d=a[_],a.hasOwnProperty(_)&&d!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(n,i,_,null,u,d)}for(T in u)if(d=u[T],g=a[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":P=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==g&&Ge(n,i,T,d,u,g)}mf(n,P,G);return;case"option":for(var ge in a)if(P=a[ge],a.hasOwnProperty(ge)&&P!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:Ge(n,i,ge,null,u,P)}for(N in u)if(P=u[N],G=a[N],u.hasOwnProperty(N)&&P!==G&&(P!=null||G!=null))switch(N){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ge(n,i,N,P,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)P=a[me],a.hasOwnProperty(me)&&P!=null&&!u.hasOwnProperty(me)&&Ge(n,i,me,null,u,P);for(O in u)if(P=u[O],G=a[O],u.hasOwnProperty(O)&&P!==G&&(P!=null||G!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,i));break;default:Ge(n,i,O,P,u,G)}return;default:if(ur(i)){for(var ze in a)P=a[ze],a.hasOwnProperty(ze)&&P!==void 0&&!u.hasOwnProperty(ze)&&$u(n,i,ze,void 0,u,P);for(H in u)P=u[H],G=a[H],!u.hasOwnProperty(H)||P===G||P===void 0&&G===void 0||$u(n,i,H,P,u,G);return}}for(var U in a)P=a[U],a.hasOwnProperty(U)&&P!=null&&!u.hasOwnProperty(U)&&Ge(n,i,U,null,u,P);for(Z in u)P=u[Z],G=a[Z],!u.hasOwnProperty(Z)||P===G||P==null&&G==null||Ge(n,i,Z,P,u,G)}var Ku=null,Ju=null;function ps(n){return n.nodeType===9?n:n.ownerDocument}function hp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gp(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Xu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qu=null;function d0(){var n=window.event;return n&&n.type==="popstate"?n===Qu?!1:(Qu=n,!0):(Qu=null,!1)}var yp=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,vp=typeof Promise=="function"?Promise:void 0,p0=typeof queueMicrotask=="function"?queueMicrotask:typeof vp<"u"?function(n){return vp.resolve(null).then(n).catch(h0)}:yp;function h0(n){setTimeout(function(){throw n})}function li(n){return n==="head"}function Tp(n,i){var a=i,u=0,d=0;do{var g=a.nextSibling;if(n.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<u&&8>u){a=u;var T=n.ownerDocument;if(a&1&&Po(T.documentElement),a&2&&Po(T.body),a&4)for(a=T.head,Po(a),T=a.firstChild;T;){var _=T.nextSibling,N=T.nodeName;T[Wl]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=_}}if(d===0){n.removeChild(g),Zo(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:u=a.charCodeAt(0)-48;else u=0;a=g}while(a);Zo(i)}function Wu(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wu(a),ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function g0(n,i,a,u){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Wl])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=nn(n.nextSibling),n===null)break}return null}function y0(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=nn(n.nextSibling),n===null))return null;return n}function ju(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function v0(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var u=function(){i(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function nn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var ec=null;function xp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function Cp(n,i,a){switch(i=ps(a),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function Po(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);ir(n)}var Xt=new Map,Sp=new Set;function hs(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ln=ee.d;ee.d={f:T0,r:x0,D:C0,C:S0,L:_0,m:E0,X:N0,S:A0,M:M0};function T0(){var n=Ln.f(),i=as();return n||i}function x0(n){var i=Yi(n);i!==null&&i.tag===5&&i.type==="form"?qd(i):Ln.r(n)}var Al=typeof document>"u"?null:document;function _p(n,i,a){var u=Al;if(u&&typeof i=="string"&&i){var d=Ht(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Sp.has(d)||(Sp.add(d),n={rel:n,crossOrigin:a,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),vt(i,"link",n),ct(i),u.head.appendChild(i)))}}function C0(n){Ln.D(n),_p("dns-prefetch",n,null)}function S0(n,i){Ln.C(n,i),_p("preconnect",n,i)}function _0(n,i,a){Ln.L(n,i,a);var u=Al;if(u&&n&&i){var d='link[rel="preload"][as="'+Ht(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Ht(a.imageSizes)+'"]')):d+='[href="'+Ht(n)+'"]';var g=d;switch(i){case"style":g=Nl(n);break;case"script":g=Ml(n)}Xt.has(g)||(n=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Xt.set(g,n),u.querySelector(d)!==null||i==="style"&&u.querySelector(Bo(g))||i==="script"&&u.querySelector(Go(g))||(i=u.createElement("link"),vt(i,"link",n),ct(i),u.head.appendChild(i)))}}function E0(n,i){Ln.m(n,i);var a=Al;if(a&&n){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Ht(u)+'"][href="'+Ht(n)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ml(n)}if(!Xt.has(g)&&(n=v({rel:"modulepreload",href:n},i),Xt.set(g,n),a.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Go(g)))return}u=a.createElement("link"),vt(u,"link",n),ct(u),a.head.appendChild(u)}}}function A0(n,i,a){Ln.S(n,i,a);var u=Al;if(u&&n){var d=Zi(u).hoistableStyles,g=Nl(n);i=i||"default";var T=d.get(g);if(!T){var _={loading:0,preload:null};if(T=u.querySelector(Bo(g)))_.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Xt.get(g))&&tc(n,a);var N=T=u.createElement("link");ct(N),vt(N,"link",n),N._p=new Promise(function(O,H){N.onload=O,N.onerror=H}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,gs(T,i,u)}T={type:"stylesheet",instance:T,count:1,state:_},d.set(g,T)}}}function N0(n,i){Ln.X(n,i);var a=Al;if(a&&n){var u=Zi(a).hoistableScripts,d=Ml(n),g=u.get(d);g||(g=a.querySelector(Go(d)),g||(n=v({src:n,async:!0},i),(i=Xt.get(d))&&nc(n,i),g=a.createElement("script"),ct(g),vt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function M0(n,i){Ln.M(n,i);var a=Al;if(a&&n){var u=Zi(a).hoistableScripts,d=Ml(n),g=u.get(d);g||(g=a.querySelector(Go(d)),g||(n=v({src:n,async:!0,type:"module"},i),(i=Xt.get(d))&&nc(n,i),g=a.createElement("script"),ct(g),vt(g,"link",n),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function Ep(n,i,a,u){var d=(d=re.current)?hs(d):null;if(!d)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Nl(a.href),a=Zi(d).hoistableStyles,u=a.get(i),u||(u={type:"style",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Nl(a.href);var g=Zi(d).hoistableStyles,T=g.get(n);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,T),(g=d.querySelector(Bo(n)))&&!g._p&&(T.instance=g,T.state.loading=5),Xt.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(n,a),g||R0(d,n,a,T.state))),i&&u===null)throw Error(l(528,""));return T}if(i&&u!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ml(a),a=Zi(d).hoistableScripts,u=a.get(i),u||(u={type:"script",instance:null,count:0,state:null},a.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function Nl(n){return'href="'+Ht(n)+'"'}function Bo(n){return'link[rel="stylesheet"]['+n+"]"}function Ap(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function R0(n,i,a,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),vt(i,"link",a),ct(i),n.head.appendChild(i))}function Ml(n){return'[src="'+Ht(n)+'"]'}function Go(n){return"script[async]"+n}function Np(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(u)return i.instance=u,ct(u),u;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ct(u),vt(u,"style",d),gs(u,a.precedence,n),i.instance=u;case"stylesheet":d=Nl(a.href);var g=n.querySelector(Bo(d));if(g)return i.state.loading|=4,i.instance=g,ct(g),g;u=Ap(a),(d=Xt.get(d))&&tc(u,d),g=(n.ownerDocument||n).createElement("link"),ct(g);var T=g;return T._p=new Promise(function(_,N){T.onload=_,T.onerror=N}),vt(g,"link",u),i.state.loading|=4,gs(g,a.precedence,n),i.instance=g;case"script":return g=Ml(a.src),(d=n.querySelector(Go(g)))?(i.instance=d,ct(d),d):(u=a,(d=Xt.get(g))&&(u=v({},a),nc(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),ct(d),vt(d,"link",u),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,gs(u,a.precedence,n));return i.instance}function gs(n,i,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var _=u[T];if(_.dataset.precedence===i)g=_;else if(g!==d)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function tc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function nc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ys=null;function Mp(n,i,a){if(ys===null){var u=new Map,d=ys=new Map;d.set(a,u)}else d=ys,u=d.get(a),u||(u=new Map,d.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var g=a[d];if(!(g[Wl]||g[ut]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=n+T;var _=u.get(T);_?_.push(g):u.set(T,[g])}}return u}function Rp(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function b0(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zo=null;function w0(){}function D0(n,i,a){if(zo===null)throw Error(l(475));var u=zo;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Nl(a.href),g=n.querySelector(Bo(d));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=vs.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=g,ct(g);return}g=n.ownerDocument||n,a=Ap(a),(d=Xt.get(d))&&tc(a,d),g=g.createElement("link"),ct(g);var T=g;T._p=new Promise(function(_,N){T.onload=_,T.onerror=N}),vt(g,"link",a),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=vs.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function I0(){if(zo===null)throw Error(l(475));var n=zo;return n.stylesheets&&n.count===0&&ic(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&ic(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function vs(){if(this.count--,this.count===0){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ts=null;function ic(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ts=new Map,i.forEach(U0,n),Ts=null,vs.call(n))}function U0(n,i){if(!(i.state.loading&4)){var a=Ts.get(n);if(a)var u=a.get(null);else{a=new Map,Ts.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),u=T)}u&&a.set(null,u)}d=i.instance,T=d.getAttribute("data-precedence"),g=a.get(T)||u,g===u&&a.set(null,d),a.set(T,d),this.count++,u=vs.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var qo={$$typeof:z,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function k0(n,i,a,u,d,g,T,_){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function wp(n,i,a,u,d,g,T,_,N,O,H,Z){return n=new k0(n,i,a,T,_,N,O,Z),i=1,g===!0&&(i|=24),g=Ut(3,null,null,i),n.current=g,g.stateNode=n,i=Pr(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:a,cache:i},qr(g),n}function Dp(n){return n?(n=ll,n):ll}function Ip(n,i,a,u,d,g){d=Dp(d),u.context===null?u.context=d:u.pendingContext=d,u=Yn(i),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=Zn(n,u,i),a!==null&&(Pt(a,n,i),vo(a,n,i))}function Up(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function lc(n,i){Up(n,i),(n=n.alternate)&&Up(n,i)}function kp(n){if(n.tag===13){var i=il(n,67108864);i!==null&&Pt(i,n,67108864),lc(n,67108864)}}var xs=!0;function L0(n,i,a,u){var d=q.T;q.T=null;var g=ee.p;try{ee.p=2,oc(n,i,a,u)}finally{ee.p=g,q.T=d}}function O0(n,i,a,u){var d=q.T;q.T=null;var g=ee.p;try{ee.p=8,oc(n,i,a,u)}finally{ee.p=g,q.T=d}}function oc(n,i,a,u){if(xs){var d=ac(u);if(d===null)Zu(n,i,u,Cs,a),Op(n,u);else if(P0(d,n,i,a,u))u.stopPropagation();else if(Op(n,u),i&4&&-1<V0.indexOf(n)){for(;d!==null;){var g=Yi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ze(g.pendingLanes);if(T!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;T;){var N=1<<31-_t(T);_.entanglements[1]|=N,T&=~N}mn(g),(Ve&6)===0&&(ls=Bt()+500,Lo(0))}}break;case 13:_=il(g,2),_!==null&&Pt(_,g,2),as(),lc(g,2)}if(g=ac(u),g===null&&Zu(n,i,u,Cs,a),g===d)break;d=g}d!==null&&u.stopPropagation()}else Zu(n,i,u,null,a)}}function ac(n){return n=fr(n),sc(n)}var Cs=null;function sc(n){if(Cs=null,n=Fi(n),n!==null){var i=r(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Cs=n,null}function Lp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ws()){case fa:return 2;case Gn:return 8;case Hi:case da:return 32;case ma:return 268435456;default:return 32}default:return 32}}var rc=!1,oi=null,ai=null,si=null,Ho=new Map,Fo=new Map,ri=[],V0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(n,i){switch(n){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Ho.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(i.pointerId)}}function Yo(n,i,a,u,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Yi(i),i!==null&&kp(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function P0(n,i,a,u,d){switch(i){case"focusin":return oi=Yo(oi,n,i,a,u,d),!0;case"dragenter":return ai=Yo(ai,n,i,a,u,d),!0;case"mouseover":return si=Yo(si,n,i,a,u,d),!0;case"pointerover":var g=d.pointerId;return Ho.set(g,Yo(Ho.get(g)||null,n,i,a,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Fo.set(g,Yo(Fo.get(g)||null,n,i,a,u,d)),!0}return!1}function Vp(n){var i=Fi(n.target);if(i!==null){var a=r(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){n.blockedOn=i,Ql(n.priority,function(){if(a.tag===13){var u=Vt();u=Jl(u);var d=il(a,u);d!==null&&Pt(d,a,u),lc(a,u)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ss(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=ac(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);cr=u,a.target.dispatchEvent(u),cr=null}else return i=Yi(a),i!==null&&kp(i),n.blockedOn=a,!1;i.shift()}return!0}function Pp(n,i,a){Ss(n)&&a.delete(i)}function B0(){rc=!1,oi!==null&&Ss(oi)&&(oi=null),ai!==null&&Ss(ai)&&(ai=null),si!==null&&Ss(si)&&(si=null),Ho.forEach(Pp),Fo.forEach(Pp)}function _s(n,i){n.blockedOn===i&&(n.blockedOn=null,rc||(rc=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,B0)))}var Es=null;function Bp(n){Es!==n&&(Es=n,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Es===n&&(Es=null);for(var i=0;i<n.length;i+=3){var a=n[i],u=n[i+1],d=n[i+2];if(typeof u!="function"){if(sc(u||a)===null)continue;break}var g=Yi(a);g!==null&&(n.splice(i,3),i-=3,su(g,{pending:!0,data:d,method:a.method,action:u},u,d))}}))}function Zo(n){function i(N){return _s(N,n)}oi!==null&&_s(oi,n),ai!==null&&_s(ai,n),si!==null&&_s(si,n),Ho.forEach(i),Fo.forEach(i);for(var a=0;a<ri.length;a++){var u=ri[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ri.length&&(a=ri[0],a.blockedOn===null);)Vp(a),a.blockedOn===null&&ri.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var d=a[u],g=a[u+1],T=d[Tt]||null;if(typeof g=="function")T||Bp(a);else if(T){var _=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Tt]||null)_=T.formAction;else if(sc(d)!==null)continue}else _=T.action;typeof _=="function"?a[u+1]=_:(a.splice(u,3),u-=3),Bp(a)}}}function uc(n){this._internalRoot=n}As.prototype.render=uc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,u=Vt();Ip(a,u,n,i,null,null)},As.prototype.unmount=uc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ip(n.current,2,null,n,null,null),as(),i[zn]=null}};function As(n){this._internalRoot=n}As.prototype.unstable_scheduleHydration=function(n){if(n){var i=ga();n={blockedOn:null,target:n,priority:i};for(var a=0;a<ri.length&&i!==0&&i<ri[a].priority;a++);ri.splice(a,0,n),a===0&&Vp(n)}};var Gp=e.version;if(Gp!=="19.1.0")throw Error(l(527,Gp,"19.1.0"));ee.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=y(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var G0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{Tn=Ns.inject(G0),St=Ns}catch{}}return Ko.createRoot=function(n,i){if(!s(n))throw Error(l(299));var a=!1,u="",d=nm,g=im,T=lm,_=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=wp(n,1,!1,null,null,a,u,d,g,T,_,null),n[zn]=i.current,Yu(n),new uc(i)},Ko.hydrateRoot=function(n,i,a){if(!s(n))throw Error(l(299));var u=!1,d="",g=nm,T=im,_=lm,N=null,O=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(O=a.formState)),i=wp(n,1,!0,i,a??null,u,d,g,T,_,N,O),i.context=Dp(null),a=i.current,u=Vt(),u=Jl(u),d=Yn(u),d.callback=null,Zn(a,d,u),a=u,i.current.lanes=a,xn(i,a),mn(i),n[zn]=i.current,Yu(n),new As(i)},Ko.version="19.1.0",Ko}var Xp;function Q0(){if(Xp)return dc.exports;Xp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),dc.exports=X0(),dc.exports}var W0=Q0();const j0=kg(W0);var Jo={},Qp;function eT(){if(Qp)return Jo;Qp=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.parse=m,Jo.serialize=p;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function m(S,A){const E=new r,D=S.length;if(D<2)return E;const I=(A==null?void 0:A.decode)||v;let w=0;do{const k=S.indexOf("=",w);if(k===-1)break;const z=S.indexOf(";",w),B=z===-1?D:z;if(k>B){w=S.lastIndexOf(";",k-1)+1;continue}const V=h(S,w,k),$=y(S,k,V),j=S.slice(V,$);if(E[j]===void 0){let ie=h(S,k+1,B),K=y(S,B,ie);const J=I(S.slice(ie,K));E[j]=J}w=B+1}while(w<D);return E}function h(S,A,E){do{const D=S.charCodeAt(A);if(D!==32&&D!==9)return A}while(++A<E);return E}function y(S,A,E){for(;A>E;){const D=S.charCodeAt(--A);if(D!==32&&D!==9)return A+1}return E}function p(S,A,E){const D=(E==null?void 0:E.encode)||encodeURIComponent;if(!o.test(S))throw new TypeError(`argument name is invalid: ${S}`);const I=D(A);if(!e.test(I))throw new TypeError(`argument val is invalid: ${A}`);let w=S+"="+I;if(!E)return w;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);w+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);w+="; Domain="+E.domain}if(E.path){if(!l.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);w+="; Path="+E.path}if(E.expires){if(!x(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);w+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(w+="; HttpOnly"),E.secure&&(w+="; Secure"),E.partitioned&&(w+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return w}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function x(S){return s.call(S)==="[object Date]"}return Jo}eT();var Wp="popstate";function tT(o={}){function e(s,r){let{pathname:m="/",search:h="",hash:y=""}=Gi(s.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),Sc("",{pathname:m,search:h,hash:y},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let m=s.document.querySelector("base"),h="";if(m&&m.getAttribute("href")){let y=s.location.href,p=y.indexOf("#");h=p===-1?y:y.slice(0,p)}return h+"#"+(typeof r=="string"?r:ta(r))}function l(s,r){on(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return iT(e,t,l,o)}function Xe(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function on(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nT(){return Math.random().toString(36).substring(2,10)}function jp(o,e){return{usr:o.state,key:o.key,idx:e}}function Sc(o,e,t=null,l){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof e=="string"?Gi(e):e,state:t,key:e&&e.key||l||nT()}}function ta({pathname:o="/",search:e="",hash:t=""}){return e&&e!=="?"&&(o+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(o+=t.charAt(0)==="#"?t:"#"+t),o}function Gi(o){let e={};if(o){let t=o.indexOf("#");t>=0&&(e.hash=o.substring(t),o=o.substring(0,t));let l=o.indexOf("?");l>=0&&(e.search=o.substring(l),o=o.substring(0,l)),o&&(e.pathname=o)}return e}function iT(o,e,t,l={}){let{window:s=document.defaultView,v5Compat:r=!1}=l,m=s.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function x(){h="POP";let I=v(),w=I==null?null:I-p;p=I,y&&y({action:h,location:D.location,delta:w})}function S(I,w){h="PUSH";let k=Sc(D.location,I,w);t&&t(k,I),p=v()+1;let z=jp(k,p),B=D.createHref(k);try{m.pushState(z,"",B)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(B)}r&&y&&y({action:h,location:D.location,delta:1})}function A(I,w){h="REPLACE";let k=Sc(D.location,I,w);t&&t(k,I),p=v();let z=jp(k,p),B=D.createHref(k);m.replaceState(z,"",B),r&&y&&y({action:h,location:D.location,delta:0})}function E(I){return lT(I)}let D={get action(){return h},get location(){return o(s,m)},listen(I){if(y)throw new Error("A history only accepts one active listener");return s.addEventListener(Wp,x),y=I,()=>{s.removeEventListener(Wp,x),y=null}},createHref(I){return e(s,I)},createURL:E,encodeLocation(I){let w=E(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:S,replace:A,go(I){return m.go(I)}};return D}function lT(o,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(t,"No window.location.(origin|href) available to create URL");let l=typeof o=="string"?o:ta(o);return l=l.replace(/ $/,"%20"),!e&&l.startsWith("//")&&(l=t+l),new URL(l,t)}function Lg(o,e,t="/"){return oT(o,e,t,!1)}function oT(o,e,t,l){let s=typeof e=="string"?Gi(e):e,r=Vn(s.pathname||"/",t);if(r==null)return null;let m=Og(o);aT(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=yT(r);h=hT(m[y],p,l)}return h}function Og(o,e=[],t=[],l=""){let s=(r,m,h)=>{let y={relativePath:h===void 0?r.path||"":h,caseSensitive:r.caseSensitive===!0,childrenIndex:m,route:r};y.relativePath.startsWith("/")&&(Xe(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length));let p=On([l,y.relativePath]),v=t.concat(y);r.children&&r.children.length>0&&(Xe(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Og(r.children,e,v,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:mT(p,r.index),routesMeta:v})};return o.forEach((r,m)=>{var h;if(r.path===""||!((h=r.path)!=null&&h.includes("?")))s(r,m);else for(let y of Vg(r.path))s(r,m,y)}),e}function Vg(o){let e=o.split("/");if(e.length===0)return[];let[t,...l]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(l.length===0)return s?[r,""]:[r];let m=Vg(l.join("/")),h=[];return h.push(...m.map(y=>y===""?r:[r,y].join("/"))),s&&h.push(...m),h.map(y=>o.startsWith("/")&&y===""?"/":y)}function aT(o){o.sort((e,t)=>e.score!==t.score?t.score-e.score:pT(e.routesMeta.map(l=>l.childrenIndex),t.routesMeta.map(l=>l.childrenIndex)))}var sT=/^:[\w-]+$/,rT=3,uT=2,cT=1,fT=10,dT=-2,eh=o=>o==="*";function mT(o,e){let t=o.split("/"),l=t.length;return t.some(eh)&&(l+=dT),e&&(l+=uT),t.filter(s=>!eh(s)).reduce((s,r)=>s+(sT.test(r)?rT:r===""?cT:fT),l)}function pT(o,e){return o.length===e.length&&o.slice(0,-1).every((l,s)=>l===e[s])?o[o.length-1]-e[e.length-1]:0}function hT(o,e,t=!1){let{routesMeta:l}=o,s={},r="/",m=[];for(let h=0;h<l.length;++h){let y=l[h],p=h===l.length-1,v=r==="/"?e:e.slice(r.length)||"/",x=Ls({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),S=y.route;if(!x&&p&&t&&!l[l.length-1].route.index&&(x=Ls({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(s,x.params),m.push({params:s,pathname:On([r,x.pathname]),pathnameBase:CT(On([r,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(r=On([r,x.pathnameBase]))}return m}function Ls(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[t,l]=gT(o.path,o.caseSensitive,o.end),s=e.match(t);if(!s)return null;let r=s[0],m=r.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:l.reduce((p,{paramName:v,isOptional:x},S)=>{if(v==="*"){let E=h[S]||"";m=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const A=h[S];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:m,pattern:o}}function gT(o,e=!1,t=!0){on(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let l=[],s="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(l.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(l.push({paramName:"*"}),s+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":o!==""&&o!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),l]}function yT(o){try{return o.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),o}}function Vn(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,l=o.charAt(t);return l&&l!=="/"?null:o.slice(t)||"/"}function vT(o,e="/"){let{pathname:t,search:l="",hash:s=""}=typeof o=="string"?Gi(o):o;return{pathname:t?t.startsWith("/")?t:TT(t,e):e,search:ST(l),hash:_T(s)}}function TT(o,e){let t=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function gc(o,e,t,l){return`Cannot include a '${o}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xT(o){return o.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Pg(o){let e=xT(o);return e.map((t,l)=>l===e.length-1?t.pathname:t.pathnameBase)}function Bg(o,e,t,l=!1){let s;typeof o=="string"?s=Gi(o):(s={...o},Xe(!s.pathname||!s.pathname.includes("?"),gc("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),gc("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),gc("#","search","hash",s)));let r=o===""||s.pathname==="",m=r?"/":s.pathname,h;if(m==null)h=t;else{let x=e.length-1;if(!l&&m.startsWith("..")){let S=m.split("/");for(;S[0]==="..";)S.shift(),x-=1;s.pathname=S.join("/")}h=x>=0?e[x]:"/"}let y=vT(s,h),p=m&&m!=="/"&&m.endsWith("/"),v=(r||m===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var On=o=>o.join("/").replace(/\/\/+/g,"/"),CT=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),ST=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,_T=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function ET(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Gg=["POST","PUT","PATCH","DELETE"];new Set(Gg);var AT=["GET",...Gg];new Set(AT);var Gl=R.createContext(null);Gl.displayName="DataRouter";var Ys=R.createContext(null);Ys.displayName="DataRouterState";var zg=R.createContext({isTransitioning:!1});zg.displayName="ViewTransition";var NT=R.createContext(new Map);NT.displayName="Fetchers";var MT=R.createContext(null);MT.displayName="Await";var yn=R.createContext(null);yn.displayName="Navigation";var oa=R.createContext(null);oa.displayName="Location";var vn=R.createContext({outlet:null,matches:[],isDataRoute:!1});vn.displayName="Route";var Fc=R.createContext(null);Fc.displayName="RouteError";function RT(o,{relative:e}={}){Xe(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:l}=R.useContext(yn),{hash:s,pathname:r,search:m}=sa(o,{relative:e}),h=r;return t!=="/"&&(h=r==="/"?t:On([t,r])),l.createHref({pathname:h,search:m,hash:s})}function aa(){return R.useContext(oa)!=null}function zi(){return Xe(aa(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(oa).location}var qg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hg(o){R.useContext(yn).static||R.useLayoutEffect(o)}function Yc(){let{isDataRoute:o}=R.useContext(vn);return o?qT():bT()}function bT(){Xe(aa(),"useNavigate() may be used only in the context of a <Router> component.");let o=R.useContext(Gl),{basename:e,navigator:t}=R.useContext(yn),{matches:l}=R.useContext(vn),{pathname:s}=zi(),r=JSON.stringify(Pg(l)),m=R.useRef(!1);return Hg(()=>{m.current=!0}),R.useCallback((y,p={})=>{if(on(m.current,qg),!m.current)return;if(typeof y=="number"){t.go(y);return}let v=Bg(y,JSON.parse(r),s,p.relative==="path");o==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:On([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,r,s,o])}R.createContext(null);function wT(){let{matches:o}=R.useContext(vn),e=o[o.length-1];return e?e.params:{}}function sa(o,{relative:e}={}){let{matches:t}=R.useContext(vn),{pathname:l}=zi(),s=JSON.stringify(Pg(t));return R.useMemo(()=>Bg(o,JSON.parse(s),l,e==="path"),[o,s,l,e])}function DT(o,e){return Fg(o,e)}function Fg(o,e,t,l){var w;Xe(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(yn),{matches:r}=R.useContext(vn),m=r[r.length-1],h=m?m.params:{},y=m?m.pathname:"/",p=m?m.pathnameBase:"/",v=m&&m.route;{let k=v&&v.path||"";Yg(y,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=zi(),S;if(e){let k=typeof e=="string"?Gi(e):e;Xe(p==="/"||((w=k.pathname)==null?void 0:w.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=x;let A=S.pathname||"/",E=A;if(p!=="/"){let k=p.replace(/^\//,"").split("/");E="/"+A.replace(/^\//,"").split("/").slice(k.length).join("/")}let D=Lg(o,{pathname:E});on(v||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),on(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=OT(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:On([p,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:On([p,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),r,t,l);return e&&I?R.createElement(oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},I):I}function IT(){let o=zT(),e=ET(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),t=o instanceof Error?o.stack:null,l="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:l},r={padding:"2px 4px",backgroundColor:l},m=null;return console.error("Error handled by React Router default ErrorBoundary:",o),m=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:r},"ErrorBoundary")," or"," ",R.createElement("code",{style:r},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),t?R.createElement("pre",{style:s},t):null,m)}var UT=R.createElement(IT,null),kT=class extends R.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,e){return e.location!==o.location||e.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:e.error,location:e.location,revalidation:o.revalidation||e.revalidation}}componentDidCatch(o,e){console.error("React Router caught the following error during render",o,e)}render(){return this.state.error!==void 0?R.createElement(vn.Provider,{value:this.props.routeContext},R.createElement(Fc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LT({routeContext:o,match:e,children:t}){let l=R.useContext(Gl);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(vn.Provider,{value:o},t)}function OT(o,e=[],t=null,l=null){if(o==null){if(!t)return null;if(t.errors)o=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)o=t.matches;else return null}let s=o,r=t==null?void 0:t.errors;if(r!=null){let y=s.findIndex(p=>p.route.id&&(r==null?void 0:r[p.route.id])!==void 0);Xe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,y+1))}let m=!1,h=-1;if(t)for(let y=0;y<s.length;y++){let p=s[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=y),p.route.id){let{loaderData:v,errors:x}=t,S=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){m=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((y,p,v)=>{let x,S=!1,A=null,E=null;t&&(x=r&&p.route.id?r[p.route.id]:void 0,A=p.route.errorElement||UT,m&&(h<0&&v===0?(Yg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):h===v&&(S=!0,E=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),I=()=>{let w;return x?w=A:S?w=E:p.route.Component?w=R.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=y,R.createElement(LT,{match:p,routeContext:{outlet:y,matches:D,isDataRoute:t!=null},children:w})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?R.createElement(kT,{location:t.location,revalidation:t.revalidation,component:A,error:x,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}function Zc(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(o){let e=R.useContext(Gl);return Xe(e,Zc(o)),e}function PT(o){let e=R.useContext(Ys);return Xe(e,Zc(o)),e}function BT(o){let e=R.useContext(vn);return Xe(e,Zc(o)),e}function $c(o){let e=BT(o),t=e.matches[e.matches.length-1];return Xe(t.route.id,`${o} can only be used on routes that contain a unique "id"`),t.route.id}function GT(){return $c("useRouteId")}function zT(){var l;let o=R.useContext(Fc),e=PT("useRouteError"),t=$c("useRouteError");return o!==void 0?o:(l=e.errors)==null?void 0:l[t]}function qT(){let{router:o}=VT("useNavigate"),e=$c("useNavigate"),t=R.useRef(!1);return Hg(()=>{t.current=!0}),R.useCallback(async(s,r={})=>{on(t.current,qg),t.current&&(typeof s=="number"?o.navigate(s):await o.navigate(s,{fromRouteId:e,...r}))},[o,e])}var th={};function Yg(o,e,t){!e&&!th[o]&&(th[o]=!0,on(!1,t))}R.memo(HT);function HT({routes:o,future:e,state:t}){return Fg(o,void 0,t,e)}function _c(o){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FT({basename:o="/",children:e=null,location:t,navigationType:l="POP",navigator:s,static:r=!1}){Xe(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=o.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:m,navigator:s,static:r,future:{}}),[m,s,r]);typeof t=="string"&&(t=Gi(t));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:S="default"}=t,A=R.useMemo(()=>{let E=Vn(y,m);return E==null?null:{location:{pathname:E,search:p,hash:v,state:x,key:S},navigationType:l}},[m,y,p,v,x,S,l]);return on(A!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(yn.Provider,{value:h},R.createElement(oa.Provider,{children:e,value:A}))}function YT({children:o,location:e}){return DT(Ec(o),e)}function Ec(o,e=[]){let t=[];return R.Children.forEach(o,(l,s)=>{if(!R.isValidElement(l))return;let r=[...e,s];if(l.type===R.Fragment){t.push.apply(t,Ec(l.props.children,r));return}Xe(l.type===_c,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let m={id:l.props.id||r.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(m.children=Ec(l.props.children,r)),t.push(m)}),t}var ws="get",Ds="application/x-www-form-urlencoded";function Zs(o){return o!=null&&typeof o.tagName=="string"}function ZT(o){return Zs(o)&&o.tagName.toLowerCase()==="button"}function $T(o){return Zs(o)&&o.tagName.toLowerCase()==="form"}function KT(o){return Zs(o)&&o.tagName.toLowerCase()==="input"}function JT(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function XT(o,e){return o.button===0&&(!e||e==="_self")&&!JT(o)}var Ms=null;function QT(){if(Ms===null)try{new FormData(document.createElement("form"),0),Ms=!1}catch{Ms=!0}return Ms}var WT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yc(o){return o!=null&&!WT.has(o)?(on(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ds}"`),null):o}function jT(o,e){let t,l,s,r,m;if($T(o)){let h=o.getAttribute("action");l=h?Vn(h,e):null,t=o.getAttribute("method")||ws,s=yc(o.getAttribute("enctype"))||Ds,r=new FormData(o)}else if(ZT(o)||KT(o)&&(o.type==="submit"||o.type==="image")){let h=o.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=o.getAttribute("formaction")||h.getAttribute("action");if(l=y?Vn(y,e):null,t=o.getAttribute("formmethod")||h.getAttribute("method")||ws,s=yc(o.getAttribute("formenctype"))||yc(h.getAttribute("enctype"))||Ds,r=new FormData(h,o),!QT()){let{name:p,type:v,value:x}=o;if(v==="image"){let S=p?`${p}.`:"";r.append(`${S}x`,"0"),r.append(`${S}y`,"0")}else p&&r.append(p,x)}}else{if(Zs(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ws,l=null,s=Ds,m=o}return r&&s==="text/plain"&&(m=r,r=void 0),{action:l,method:t.toLowerCase(),encType:s,formData:r,body:m}}function Kc(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}async function ex(o,e){if(o.id in e)return e[o.id];try{let t=await import(o.module);return e[o.id]=t,t}catch(t){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tx(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function nx(o,e,t){let l=await Promise.all(o.map(async s=>{let r=e.routes[s.route.id];if(r){let m=await ex(r,t);return m.links?m.links():[]}return[]}));return ax(l.flat(1).filter(tx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function nh(o,e,t,l,s,r){let m=(y,p)=>t[p]?y.route.id!==t[p].route.id:!0,h=(y,p)=>{var v;return t[p].pathname!==y.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==y.params["*"]};return r==="assets"?e.filter((y,p)=>m(y,p)||h(y,p)):r==="data"?e.filter((y,p)=>{var x;let v=l.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(o,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ix(o,e,{includeHydrateFallback:t}={}){return lx(o.map(l=>{let s=e.routes[l.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function lx(o){return[...new Set(o)]}function ox(o){let e={},t=Object.keys(o).sort();for(let l of t)e[l]=o[l];return e}function ax(o,e){let t=new Set;return new Set(e),o.reduce((l,s)=>{let r=JSON.stringify(ox(s));return t.has(r)||(t.add(r),l.push({key:r,link:s})),l},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sx=new Set([100,101,204,205]);function rx(o,e){let t=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return t.pathname==="/"?t.pathname="_root.data":e&&Vn(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Zg(){let o=R.useContext(Gl);return Kc(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function ux(){let o=R.useContext(Ys);return Kc(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Jc=R.createContext(void 0);Jc.displayName="FrameworkContext";function $g(){let o=R.useContext(Jc);return Kc(o,"You must render this element inside a <HydratedRouter> element"),o}function cx(o,e){let t=R.useContext(Jc),[l,s]=R.useState(!1),[r,m]=R.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=e,S=R.useRef(null);R.useEffect(()=>{if(o==="render"&&m(!0),o==="viewport"){let D=w=>{w.forEach(k=>{m(k.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return S.current&&I.observe(S.current),()=>{I.disconnect()}}},[o]),R.useEffect(()=>{if(l){let D=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(D)}}},[l]);let A=()=>{s(!0)},E=()=>{s(!1),m(!1)};return t?o!=="intent"?[r,S,{}]:[r,S,{onFocus:Xo(h,A),onBlur:Xo(y,E),onMouseEnter:Xo(p,A),onMouseLeave:Xo(v,E),onTouchStart:Xo(x,A)}]:[!1,S,{}]}function Xo(o,e){return t=>{o&&o(t),t.defaultPrevented||e(t)}}function fx({page:o,...e}){let{router:t}=Zg(),l=R.useMemo(()=>Lg(t.routes,o,t.basename),[t.routes,o,t.basename]);return l?R.createElement(mx,{page:o,matches:l,...e}):null}function dx(o){let{manifest:e,routeModules:t}=$g(),[l,s]=R.useState([]);return R.useEffect(()=>{let r=!1;return nx(o,e,t).then(m=>{r||s(m)}),()=>{r=!0}},[o,e,t]),l}function mx({page:o,matches:e,...t}){let l=zi(),{manifest:s,routeModules:r}=$g(),{basename:m}=Zg(),{loaderData:h,matches:y}=ux(),p=R.useMemo(()=>nh(o,e,y,s,l,"data"),[o,e,y,s,l]),v=R.useMemo(()=>nh(o,e,y,s,l,"assets"),[o,e,y,s,l]),x=R.useMemo(()=>{if(o===l.pathname+l.search+l.hash)return[];let E=new Set,D=!1;if(e.forEach(w=>{var z;let k=s.routes[w.route.id];!k||!k.hasLoader||(!p.some(B=>B.route.id===w.route.id)&&w.route.id in h&&((z=r[w.route.id])!=null&&z.shouldRevalidate)||k.hasClientLoader?D=!0:E.add(w.route.id))}),E.size===0)return[];let I=rx(o,m);return D&&E.size>0&&I.searchParams.set("_routes",e.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[I.pathname+I.search]},[m,h,l,s,p,e,o,r]),S=R.useMemo(()=>ix(v,s),[v,s]),A=dx(v);return R.createElement(R.Fragment,null,x.map(E=>R.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),S.map(E=>R.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),A.map(({key:E,link:D})=>R.createElement("link",{key:E,...D})))}function px(...o){return e=>{o.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kg&&(window.__reactRouterVersion="7.6.2")}catch{}function hx({basename:o,children:e,window:t}){let l=R.useRef();l.current==null&&(l.current=tT({window:t,v5Compat:!0}));let s=l.current,[r,m]=R.useState({action:s.action,location:s.location}),h=R.useCallback(y=>{R.startTransition(()=>m(y))},[m]);return R.useLayoutEffect(()=>s.listen(h),[s,h]),R.createElement(FT,{basename:o,children:e,location:r.location,navigationType:r.action,navigator:s})}var Jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ra=R.forwardRef(function({onClick:e,discover:t="render",prefetch:l="none",relative:s,reloadDocument:r,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:x,...S},A){let{basename:E}=R.useContext(yn),D=typeof p=="string"&&Jg.test(p),I,w=!1;if(typeof p=="string"&&D&&(I=p,Kg))try{let K=new URL(window.location.href),J=p.startsWith("//")?new URL(K.protocol+p):new URL(p),Me=Vn(J.pathname,E);J.origin===K.origin&&Me!=null?p=Me+J.search+J.hash:w=!0}catch{on(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=RT(p,{relative:s}),[z,B,V]=cx(l,S),$=Tx(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:s,viewTransition:x});function j(K){e&&e(K),K.defaultPrevented||$(K)}let ie=R.createElement("a",{...S,...V,href:I||k,onClick:w||r?e:j,ref:px(A,B),target:y,"data-discover":!D&&t==="render"?"true":void 0});return z&&!D?R.createElement(R.Fragment,null,ie,R.createElement(fx,{page:k})):ie});ra.displayName="Link";var gx=R.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:l="",end:s=!1,style:r,to:m,viewTransition:h,children:y,...p},v){let x=sa(m,{relative:p.relative}),S=zi(),A=R.useContext(Ys),{navigator:E,basename:D}=R.useContext(yn),I=A!=null&&Ex(x)&&h===!0,w=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,k=S.pathname,z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(k=k.toLowerCase(),z=z?z.toLowerCase():null,w=w.toLowerCase()),z&&D&&(z=Vn(z,D)||z);const B=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=k===w||!s&&k.startsWith(w)&&k.charAt(B)==="/",$=z!=null&&(z===w||!s&&z.startsWith(w)&&z.charAt(w.length)==="/"),j={isActive:V,isPending:$,isTransitioning:I},ie=V?e:void 0,K;typeof l=="function"?K=l(j):K=[l,V?"active":null,$?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let J=typeof r=="function"?r(j):r;return R.createElement(ra,{...p,"aria-current":ie,className:K,ref:v,style:J,to:m,viewTransition:h},typeof y=="function"?y(j):y)});gx.displayName="NavLink";var yx=R.forwardRef(({discover:o="render",fetcherKey:e,navigate:t,reloadDocument:l,replace:s,state:r,method:m=ws,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,...S},A)=>{let E=Sx(),D=_x(h,{relative:p}),I=m.toLowerCase()==="get"?"get":"post",w=typeof h=="string"&&Jg.test(h),k=z=>{if(y&&y(z),z.defaultPrevented)return;z.preventDefault();let B=z.nativeEvent.submitter,V=(B==null?void 0:B.getAttribute("formmethod"))||m;E(B||z.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:r,relative:p,preventScrollReset:v,viewTransition:x})};return R.createElement("form",{ref:A,method:I,action:D,onSubmit:l?y:k,...S,"data-discover":!w&&o==="render"?"true":void 0})});yx.displayName="Form";function vx(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xg(o){let e=R.useContext(Gl);return Xe(e,vx(o)),e}function Tx(o,{target:e,replace:t,state:l,preventScrollReset:s,relative:r,viewTransition:m}={}){let h=Yc(),y=zi(),p=sa(o,{relative:r});return R.useCallback(v=>{if(XT(v,e)){v.preventDefault();let x=t!==void 0?t:ta(y)===ta(p);h(o,{replace:x,state:l,preventScrollReset:s,relative:r,viewTransition:m})}},[y,h,p,t,l,e,o,s,r,m])}var xx=0,Cx=()=>`__${String(++xx)}__`;function Sx(){let{router:o}=Xg("useSubmit"),{basename:e}=R.useContext(yn),t=GT();return R.useCallback(async(l,s={})=>{let{action:r,method:m,encType:h,formData:y,body:p}=jT(l,e);if(s.navigate===!1){let v=s.fetcherKey||Cx();await o.fetch(v,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:y,body:p,formMethod:s.method||m,formEncType:s.encType||h,flushSync:s.flushSync})}else await o.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:y,body:p,formMethod:s.method||m,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[o,e,t])}function _x(o,{relative:e}={}){let{basename:t}=R.useContext(yn),l=R.useContext(vn);Xe(l,"useFormAction must be used inside a RouteContext");let[s]=l.matches.slice(-1),r={...sa(o||".",{relative:e})},m=zi();if(o==null){r.search=m.search;let h=new URLSearchParams(r.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();r.search=v?`?${v}`:""}}return(!o||o===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:On([t,r.pathname])),ta(r)}function Ex(o,e={}){let t=R.useContext(zg);Xe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Xg("useViewTransitionState"),s=sa(o,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Vn(t.currentLocation.pathname,l)||t.currentLocation.pathname,m=Vn(t.nextLocation.pathname,l)||t.nextLocation.pathname;return Ls(s.pathname,m)!=null||Ls(s.pathname,r)!=null}[...sx];const Qg=R.createContext(void 0),Wg=R.createContext(void 0);var ue=(o=>(o.START="START",o.PROMPT="PROMPT",o.CONDITIONAL="CONDITIONAL",o.CONCLUSION="CONCLUSION",o.VARIABLE="VARIABLE",o))(ue||{});const na={llmProvider:"gemini",geminiModel:"gemini-2.5-flash-preview-04-17",geminiApiKey:"",temperature:.7,topK:40,topP:.95,ollamaBaseUrl:"http://localhost:11434",ollamaModel:"llama3",ollamaKeepAlive:"5m"},Ax=20,ki=200,Li=120,wl=20,Nx=5,ih="llmWorkflowProjects",lh="llmWorkflowAppSettings",oh={START:"bg-green-600 hover:bg-green-700",PROMPT:"bg-sky-600 hover:bg-sky-700",CONDITIONAL:"bg-amber-600 hover:bg-amber-700",CONCLUSION:"bg-indigo-600 hover:bg-indigo-700",VARIABLE:"bg-teal-600 hover:bg-teal-700",ERROR:"bg-red-700",RUNNING:"bg-purple-600 animate-pulse"},jg="",Mx="",Rx="",ey="Final Output",bx="myVariable",_e=()=>Math.random().toString(36).substr(2,9),ia=o=>JSON.parse(JSON.stringify(o)),pt=o=>Array.isArray(o)?o.filter(e=>e!=null):[],wx=()=>{const o=new Date().toISOString(),e=_e(),t=_e(),l=_e(),s=_e(),r=_e(),m={id:_e(),name:"Number Range Game",description:"An LLM picks a number between 1-100. A conditional node then directs to a conclusion based on whether the number is less than 50 or not.",author:"App Examples",nodes:[{id:e,type:ue.START,name:"Number Oracle",prompt:"Pick a number between 1 and 100 (inclusive) and reply with ONLY the number.",position:{x:50,y:150},nextNodeId:t},{id:t,type:ue.CONDITIONAL,name:"Check Range",prompt:`If '{PREVIOUS_OUTPUT}' is less than 50 you must reply with "less than 50" but if it is greater than 50 or equal to 50 then you must reply "greater than or equal to 50". If it is not a number or something is confusing, reply only with the word "default"`,position:{x:300,y:150},branches:[{id:_e(),condition:"less than 50",nextNodeId:l},{id:_e(),condition:"greater than or equal to 50",nextNodeId:s},{id:_e(),condition:"default",nextNodeId:r}]},{id:l,type:ue.CONCLUSION,name:"Result: < 50",prompt:"The Oracle's number was less than 50.",position:{x:650,y:50}},{id:s,type:ue.CONCLUSION,name:"Result: >= 50",prompt:"The Oracle's number was 50 or greater.",position:{x:650,y:250}},{id:r,type:ue.CONCLUSION,name:"Result: Unclear",prompt:"The Oracle's response about the number's range was unclear.",position:{x:650,y:400}}],links:[{id:_e(),sourceId:e,targetId:t},{id:_e(),sourceId:t,targetId:l,condition:"less than 50"},{id:_e(),sourceId:t,targetId:s,condition:"greater than or equal to 50"},{id:_e(),sourceId:t,targetId:r,condition:"default"}],runHistory:[],createdAt:o,updatedAt:o},h=_e(),y=_e(),p=_e(),v=_e(),x=_e(),S=_e(),A=_e(),E={id:_e(),name:"Escape Room Story Generator",description:"An LLM generates a story, then assesses if it's interesting. If not, it tries to improve it in a loop.",author:"App Examples",nodes:[{id:h,type:ue.START,name:"Story Seed",prompt:"Generate a short story (1-2 paragraphs) about two characters trying to solve a difficult puzzle in an escape room. They are close to figuring it out.",position:{x:50,y:200},nextNodeId:y},{id:y,type:ue.PROMPT,name:"Add School Detail",prompt:`Take the following story:
{PREVIOUS_OUTPUT}

---
Now, lengthen it by adding a short conversation where the two characters realize they went to the same high school. Make this realization a brief, natural part of their interaction while solving the puzzle. Reply ONLY with the story, no explanation.`,position:{x:300,y:200},nextNodeId:x},{id:x,type:ue.VARIABLE,name:"story",prompt:"",position:{x:550,y:200},nextNodeId:p},{id:p,type:ue.CONDITIONAL,name:"Story Quality Check",prompt:`Carefully review the following story. Is it interesting and engaging for a reader?

The story:
{story}

---
If the story is interesting, respond only with "Interesting" but if it is not, then respond only with "Not interesting" However, if something has gone wrong and a determination cannot be made, then respond with "Default"`,position:{x:800,y:200},branches:[{id:_e(),condition:"Interesting",nextNodeId:S},{id:_e(),condition:"Not interesting",nextNodeId:v},{id:_e(),condition:"Default",nextNodeId:A}]},{id:v,type:ue.PROMPT,name:"Improve Story",prompt:`The story below was deemed 'Not interesting'.
Previous Story:
{story}

---
Rewrite it to be more engaging. You could add a surprising twist, a moment of clever deduction, or deepen the characters' interaction but always be sure to maintain a consistent storyline. Respond ONLY with the story, no explanation.`,position:{x:800,y:600},nextNodeId:x},{id:S,type:ue.CONCLUSION,name:"Final Story",prompt:"The interesting escape room story:",position:{x:1050,y:100}},{id:A,type:ue.CONCLUSION,name:"Story Assessment Unclear",prompt:"The story assessment was unclear. Displaying last version:",position:{x:1050,y:300}}],links:[{id:_e(),sourceId:h,targetId:y},{id:_e(),sourceId:y,targetId:x},{id:_e(),sourceId:x,targetId:p},{id:_e(),sourceId:p,targetId:S,condition:"Interesting"},{id:_e(),sourceId:p,targetId:v,condition:"Not interesting"},{id:_e(),sourceId:p,targetId:A,condition:"default"},{id:_e(),sourceId:v,targetId:x}],runHistory:[],createdAt:o,updatedAt:o};return[m,E]},Oi={getProjects:()=>{const o=localStorage.getItem(ih);if(o)try{const t=JSON.parse(o);if(Array.isArray(t))return t.map(s=>(s&&s.nodes&&Array.isArray(s.nodes)&&(s.nodes=s.nodes.filter(r=>r!=null)),s)).filter(s=>s!=null)}catch(t){console.error("Error parsing projects from localStorage",t)}const e=wx();return Oi.saveProjects(e),e},saveProjects:o=>{localStorage.setItem(ih,JSON.stringify(o))},getAppSettings:()=>{const o=localStorage.getItem(lh),e=o?JSON.parse(o):na;return{...na,...e}},saveAppSettings:o=>{localStorage.setItem(lh,JSON.stringify(o))}},Dx=()=>{const{projectId:o}=wT(),{getProjectById:e,updateProject:t}=by(),l=Yc(),[s,r]=R.useState(null),[m,h]=R.useState(!1),[y,p]=R.useState(!1),[v,x]=R.useState(!0);R.useEffect(()=>{if(!o){l("/"),x(!1);return}const w=e(o);if(w){const k={...w,nodes:pt(w.nodes)};r(ia(k)),h(!1)}else console.warn(`Project with ID ${o} not found.`),l("/");x(!1)},[o,e,l]);const S=R.useCallback((w,k=!1)=>{if(!w)return;const z={...w,nodes:pt(w.nodes),updatedAt:new Date().toISOString()};t(z),k||r(z),h(!1)},[t]),A=w=>{w||(m?p(!0):l("/"))},E=()=>{s&&S(s),p(!1),l("/")},D=()=>{p(!1),l("/")},I=R.useCallback(w=>{r(k=>{const z=typeof w=="function"?w(k):w;return z&&JSON.stringify(k)!==JSON.stringify(z)&&h(!0),z})},[]);return{projectId:o,currentProject:s,setCurrentProject:I,isLoading:v,hasUnsavedChanges:m,setHasUnsavedChanges:h,saveProjectState:S,isUnsavedChangesModalOpen:y,setIsUnsavedChangesModalOpen:p,handleRequestCloseProject:A,handleSaveAndClose:E,handleCloseWithoutSaving:D}},Ix=({currentProject:o,setCurrentProject:e,saveProjectState:t,editorAreaRef:l,scale:s,translate:r})=>{const[m,h]=R.useState(null),[y,p]=R.useState(!1),[v,x]=R.useState({isOpen:!1,nodeId:null,nodeName:null}),[S,A]=R.useState(!1),E=R.useCallback(k=>{if(!o||!l.current)return;const z=l.current.clientWidth,B=l.current.clientHeight,V=(z/2-r.x)/s,$=(B/2-r.y)/s,j=V-ki/2+(Math.random()-.5)*50,ie=$-Li/2+(Math.random()-.5)*50;let K=Mx,J=Rx,Me;k===ue.START&&(J=jg),k===ue.CONCLUSION&&(J=ey,Me="{PREVIOUS_OUTPUT}"),k===ue.VARIABLE&&(K=bx,J="");const qe={id:_e(),type:k,name:K,prompt:J,outputFormatTemplate:Me,position:{x:Math.max(0,j),y:Math.max(0,ie)},branches:k===ue.CONDITIONAL?[{id:_e(),condition:"default",nextNodeId:null}]:void 0,nextNodeId:k===ue.PROMPT||k===ue.START||k===ue.VARIABLE?null:void 0};e(nt=>nt?{...nt,nodes:[...pt(nt.nodes),qe]}:null)},[o,e,l,s,r]),D=R.useCallback(k=>{if(!o)return;let z={...k};z.type===ue.VARIABLE&&z.name&&(z.name=z.name.replace(/[{}]/g,"").trim()),z.type===ue.CONCLUSION&&(!z.outputFormatTemplate||z.outputFormatTemplate.trim()==="")&&(z.outputFormatTemplate="{PREVIOUS_OUTPUT}");const V=pt(o.nodes).map(j=>j.id===z.id?z:j),$={...o,nodes:V};t($),p(!1),h(null)},[o,t]),I=R.useCallback(()=>{!o||!v.nodeId||e(k=>{if(!k)return null;let B=pt(k.nodes).filter(V=>V.id!==v.nodeId);return B=B.map(V=>{let $=!1;const j={...V};if(j.nextNodeId===v.nodeId&&(j.nextNodeId=null,$=!0),j.branches){const ie=j.branches;j.branches=j.branches.map(K=>K.nextNodeId===v.nodeId?{...K,nextNodeId:null}:K),JSON.stringify(ie)!==JSON.stringify(j.branches)&&($=!0)}return $?j:V}),{...k,nodes:B}})},[o,e,v.nodeId]),w=R.useCallback((k,z)=>{if(z.stopPropagation(),!o)return;const B=pt(o.nodes).find(V=>V.id===k);B&&(A(!0),x({isOpen:!0,nodeId:k,nodeName:B.name||B.type}))},[o]);return{selectedNodeState:m,setSelectedNodeState:h,isNodeModalOpen:y,setIsNodeModalOpen:p,deleteNodeConfirm:v,setDeleteNodeConfirm:x,deleteActionInitiated:S,setDeleteActionInitiated:A,handleAddNode:E,handleSaveNode:D,confirmDeleteNode:I,handleDeleteNodeRequest:w}},Ux=({currentProject:o,setCurrentProject:e,editorAreaRef:t,setSelectedNodeState:l,setIsNodeModalOpen:s,deleteActionInitiated:r,setDeleteActionInitiated:m,scale:h,translate:y})=>{const[p,v]=R.useState(null),x=R.useRef(null),S=R.useRef(!1),A=R.useCallback((I,w)=>{if(w.target.closest(".node-delete-button"))return;if(r){w.preventDefault();return}if(!o||!t.current)return;const z=pt(o.nodes).find(K=>K.id===I);if(!z)return;x.current={x:w.clientX,y:w.clientY},S.current=!1;const B=t.current.getBoundingClientRect(),V=(w.clientX-B.left-y.x)/h,$=(w.clientY-B.top-y.y)/h,j=V-z.position.x,ie=$-z.position.y;v({id:I,offset:{x:j,y:ie}}),w.currentTarget.classList.add("dragging"),w.preventDefault()},[o,t,h,y,r]),E=R.useCallback(I=>{if(!(!p||!o||!t.current)){if(!S.current&&x.current){const w=I.clientX-x.current.x,k=I.clientY-x.current.y;Math.sqrt(w*w+k*k)>Nx&&(S.current=!0)}if(S.current){const w=t.current.getBoundingClientRect(),k=(I.clientX-w.left-y.x)/h,z=(I.clientY-w.top-y.y)/h;let B=k-p.offset.x,V=z-p.offset.y;B=Math.round(B/wl)*wl,V=Math.round(V/wl)*wl,B=Math.max(0,B),V=Math.max(0,V),e($=>{if(!$)return null;const ie=pt($.nodes).map(K=>K.id===p.id?{...K,position:{x:B,y:V}}:K);return{...$,nodes:ie}})}}},[p,o,e,t,h,y]),D=R.useCallback(()=>{if(!p||!o)return;const I=document.querySelector(`.node-${p.id}`);if(I&&I.classList.remove("dragging"),r){m(!1),v(null),x.current=null,S.current=!1;return}if(!S.current){const w=pt(o.nodes).find(k=>k.id===p.id);w&&(l(w),s(!0))}v(null),x.current=null,S.current=!1},[p,o,r,m,l,s]);return R.useEffect(()=>(p?(document.addEventListener("mousemove",E),document.addEventListener("mouseup",D)):(document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",D)),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",D)}),[p,E,D]),{handleNodeMouseDown:A}};var ke;(function(o){o.assertEqual=s=>{};function e(s){}o.assertIs=e;function t(s){throw new Error}o.assertNever=t,o.arrayToEnum=s=>{const r={};for(const m of s)r[m]=m;return r},o.getValidEnumValues=s=>{const r=o.objectKeys(s).filter(h=>typeof s[s[h]]!="number"),m={};for(const h of r)m[h]=s[h];return o.objectValues(m)},o.objectValues=s=>o.objectKeys(s).map(function(r){return s[r]}),o.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const r=[];for(const m in s)Object.prototype.hasOwnProperty.call(s,m)&&r.push(m);return r},o.find=(s,r)=>{for(const m of s)if(r(m))return m},o.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function l(s,r=" | "){return s.map(m=>typeof m=="string"?`'${m}'`:m).join(r)}o.joinValues=l,o.jsonStringifyReplacer=(s,r)=>typeof r=="bigint"?r.toString():r})(ke||(ke={}));var ah;(function(o){o.mergeShapes=(e,t)=>({...e,...t})})(ah||(ah={}));const se=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ci=o=>{switch(typeof o){case"undefined":return se.undefined;case"string":return se.string;case"number":return Number.isNaN(o)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(o)?se.array:o===null?se.null:o.then&&typeof o.then=="function"&&o.catch&&typeof o.catch=="function"?se.promise:typeof Map<"u"&&o instanceof Map?se.map:typeof Set<"u"&&o instanceof Set?se.set:typeof Date<"u"&&o instanceof Date?se.date:se.object;default:return se.unknown}},W=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Pn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=l=>{this.issues=[...this.issues,l]},this.addIssues=(l=[])=>{this.issues=[...this.issues,...l]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},l={_errors:[]},s=r=>{for(const m of r.issues)if(m.code==="invalid_union")m.unionErrors.map(s);else if(m.code==="invalid_return_type")s(m.returnTypeError);else if(m.code==="invalid_arguments")s(m.argumentsError);else if(m.path.length===0)l._errors.push(t(m));else{let h=l,y=0;for(;y<m.path.length;){const p=m.path[y];y===m.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(t(m))):h[p]=h[p]||{_errors:[]},h=h[p],y++}}};return s(this),l}static assert(e){if(!(e instanceof Pn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},l=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):l.push(e(s));return{formErrors:l,fieldErrors:t}}get formErrors(){return this.flatten()}}Pn.create=o=>new Pn(o);const Ac=(o,e)=>{let t;switch(o.code){case W.invalid_type:o.received===se.undefined?t="Required":t=`Expected ${o.expected}, received ${o.received}`;break;case W.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(o.expected,ke.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:t=`Unrecognized key(s) in object: ${ke.joinValues(o.keys,", ")}`;break;case W.invalid_union:t="Invalid input";break;case W.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ke.joinValues(o.options)}`;break;case W.invalid_enum_value:t=`Invalid enum value. Expected ${ke.joinValues(o.options)}, received '${o.received}'`;break;case W.invalid_arguments:t="Invalid function arguments";break;case W.invalid_return_type:t="Invalid function return type";break;case W.invalid_date:t="Invalid date";break;case W.invalid_string:typeof o.validation=="object"?"includes"in o.validation?(t=`Invalid input: must include "${o.validation.includes}"`,typeof o.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${o.validation.position}`)):"startsWith"in o.validation?t=`Invalid input: must start with "${o.validation.startsWith}"`:"endsWith"in o.validation?t=`Invalid input: must end with "${o.validation.endsWith}"`:ke.assertNever(o.validation):o.validation!=="regex"?t=`Invalid ${o.validation}`:t="Invalid";break;case W.too_small:o.type==="array"?t=`Array must contain ${o.exact?"exactly":o.inclusive?"at least":"more than"} ${o.minimum} element(s)`:o.type==="string"?t=`String must contain ${o.exact?"exactly":o.inclusive?"at least":"over"} ${o.minimum} character(s)`:o.type==="number"?t=`Number must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${o.minimum}`:o.type==="date"?t=`Date must be ${o.exact?"exactly equal to ":o.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(o.minimum))}`:t="Invalid input";break;case W.too_big:o.type==="array"?t=`Array must contain ${o.exact?"exactly":o.inclusive?"at most":"less than"} ${o.maximum} element(s)`:o.type==="string"?t=`String must contain ${o.exact?"exactly":o.inclusive?"at most":"under"} ${o.maximum} character(s)`:o.type==="number"?t=`Number must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="bigint"?t=`BigInt must be ${o.exact?"exactly":o.inclusive?"less than or equal to":"less than"} ${o.maximum}`:o.type==="date"?t=`Date must be ${o.exact?"exactly":o.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(o.maximum))}`:t="Invalid input";break;case W.custom:t="Invalid input";break;case W.invalid_intersection_types:t="Intersection results could not be merged";break;case W.not_multiple_of:t=`Number must be a multiple of ${o.multipleOf}`;break;case W.not_finite:t="Number must be finite";break;default:t=e.defaultError,ke.assertNever(o)}return{message:t}};let kx=Ac;function Lx(){return kx}const Ox=o=>{const{data:e,path:t,errorMaps:l,issueData:s}=o,r=[...t,...s.path||[]],m={...s,path:r};if(s.message!==void 0)return{...s,path:r,message:s.message};let h="";const y=l.filter(p=>!!p).slice().reverse();for(const p of y)h=p(m,{data:e,defaultError:h}).message;return{...s,path:r,message:h}};function le(o,e){const t=Lx(),l=Ox({issueData:e,data:o.data,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,t,t===Ac?void 0:Ac].filter(s=>!!s)});o.common.issues.push(l)}class Nt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const l=[];for(const s of t){if(s.status==="aborted")return Te;s.status==="dirty"&&e.dirty(),l.push(s.value)}return{status:e.value,value:l}}static async mergeObjectAsync(e,t){const l=[];for(const s of t){const r=await s.key,m=await s.value;l.push({key:r,value:m})}return Nt.mergeObjectSync(e,l)}static mergeObjectSync(e,t){const l={};for(const s of t){const{key:r,value:m}=s;if(r.status==="aborted"||m.status==="aborted")return Te;r.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof m.value<"u"||s.alwaysSet)&&(l[r.value]=m.value)}return{status:e.value,value:l}}}const Te=Object.freeze({status:"aborted"}),Wo=o=>({status:"dirty",value:o}),Wt=o=>({status:"valid",value:o}),sh=o=>o.status==="aborted",rh=o=>o.status==="dirty",kl=o=>o.status==="valid",Os=o=>typeof Promise<"u"&&o instanceof Promise;var ce;(function(o){o.errToObj=e=>typeof e=="string"?{message:e}:e||{},o.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ce||(ce={}));class gn{constructor(e,t,l,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=l,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uh=(o,e)=>{if(kl(e))return{success:!0,data:e.value};if(!o.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Pn(o.common.issues);return this._error=t,this._error}}};function Ee(o){if(!o)return{};const{errorMap:e,invalid_type_error:t,required_error:l,description:s}=o;if(e&&(t||l))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(m,h)=>{const{message:y}=o;return m.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??l??h.defaultError}:m.code!=="invalid_type"?{message:h.defaultError}:{message:y??t??h.defaultError}},description:s}}class we{get description(){return this._def.description}_getType(e){return ci(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nt,ctx:{common:e.parent.common,data:e.data,parsedType:ci(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Os(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const l=this.safeParse(e,t);if(l.success)return l.data;throw l.error}safeParse(e,t){const l={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},s=this._parseSync({data:e,path:l.path,parent:l});return uh(l,s)}"~validate"(e){var l,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return kl(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(s=(l=r==null?void 0:r.message)==null?void 0:l.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>kl(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const l=await this.safeParseAsync(e,t);if(l.success)return l.data;throw l.error}async safeParseAsync(e,t){const l={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ci(e)},s=this._parse({data:e,path:l.path,parent:l}),r=await(Os(s)?s:Promise.resolve(s));return uh(l,r)}refine(e,t){const l=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,r)=>{const m=e(s),h=()=>r.addIssue({code:W.custom,...l(s)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(h(),!1)):m?!0:(h(),!1)})}refinement(e,t){return this._refinement((l,s)=>e(l)?!0:(s.addIssue(typeof t=="function"?t(l,s):t),!1))}_refinement(e){return new Vl({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return fi.create(this,this._def)}nullable(){return Pl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hn.create(this)}promise(){return zs.create(this,this._def)}or(e){return Ps.create([this,e],this._def)}and(e){return Bs.create(this,e,this._def)}transform(e){return new Vl({...Ee(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new bc({...Ee(this._def),innerType:this,defaultValue:t,typeName:ve.ZodDefault})}brand(){return new oC({typeName:ve.ZodBranded,type:this,...Ee(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new wc({...Ee(this._def),innerType:this,catchValue:t,typeName:ve.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Xc.create(this,e)}readonly(){return Dc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vx=/^c[^\s-]{8,}$/i,Px=/^[0-9a-z]+$/,Bx=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gx=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zx=/^[a-z0-9_-]{21}$/i,qx=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hx=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fx=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vc;const Zx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$x=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Jx=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ty="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wx=new RegExp(`^${ty}$`);function ny(o){let e="[0-5]\\d";o.precision?e=`${e}\\.\\d{${o.precision}}`:o.precision==null&&(e=`${e}(\\.\\d+)?`);const t=o.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function jx(o){return new RegExp(`^${ny(o)}$`)}function eC(o){let e=`${ty}T${ny(o)}`;const t=[];return t.push(o.local?"Z?":"Z"),o.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function tC(o,e){return!!((e==="v4"||!e)&&Zx.test(o)||(e==="v6"||!e)&&Kx.test(o))}function nC(o,e){if(!qx.test(o))return!1;try{const[t]=o.split("."),l=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(l));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function iC(o,e){return!!((e==="v4"||!e)&&$x.test(o)||(e==="v6"||!e)&&Jx.test(o))}class pn extends we{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const r=this._getOrReturnCtx(e);return le(r,{code:W.invalid_type,expected:se.string,received:r.parsedType}),Te}const l=new Nt;let s;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),l.dirty());else if(r.kind==="max")e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),l.dirty());else if(r.kind==="length"){const m=e.data.length>r.value,h=e.data.length<r.value;(m||h)&&(s=this._getOrReturnCtx(e,s),m?le(s,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):h&&le(s,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),l.dirty())}else if(r.kind==="email")Fx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"email",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="emoji")vc||(vc=new RegExp(Yx,"u")),vc.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"emoji",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="uuid")Gx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"uuid",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="nanoid")zx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"nanoid",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="cuid")Vx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="cuid2")Px.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cuid2",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="ulid")Bx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ulid",code:W.invalid_string,message:r.message}),l.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),le(s,{validation:"url",code:W.invalid_string,message:r.message}),l.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"regex",code:W.invalid_string,message:r.message}),l.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),l.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:{startsWith:r.value},message:r.message}),l.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:{endsWith:r.value},message:r.message}),l.dirty()):r.kind==="datetime"?eC(r).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:"datetime",message:r.message}),l.dirty()):r.kind==="date"?Wx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:"date",message:r.message}),l.dirty()):r.kind==="time"?jx(r).test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{code:W.invalid_string,validation:"time",message:r.message}),l.dirty()):r.kind==="duration"?Hx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"duration",code:W.invalid_string,message:r.message}),l.dirty()):r.kind==="ip"?tC(e.data,r.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"ip",code:W.invalid_string,message:r.message}),l.dirty()):r.kind==="jwt"?nC(e.data,r.alg)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"jwt",code:W.invalid_string,message:r.message}),l.dirty()):r.kind==="cidr"?iC(e.data,r.version)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"cidr",code:W.invalid_string,message:r.message}),l.dirty()):r.kind==="base64"?Xx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64",code:W.invalid_string,message:r.message}),l.dirty()):r.kind==="base64url"?Qx.test(e.data)||(s=this._getOrReturnCtx(e,s),le(s,{validation:"base64url",code:W.invalid_string,message:r.message}),l.dirty()):ke.assertNever(r);return{status:l.value,value:e.data}}_regex(e,t,l){return this.refinement(s=>e.test(s),{validation:t,code:W.invalid_string,...ce.errToObj(l)})}_addCheck(e){return new pn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ce.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ce.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ce.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ce.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ce.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ce.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ce.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ce.errToObj(t)})}nonempty(e){return this.min(1,ce.errToObj(e))}trim(){return new pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}pn.create=o=>new pn({checks:[],typeName:ve.ZodString,coerce:(o==null?void 0:o.coerce)??!1,...Ee(o)});function lC(o,e){const t=(o.toString().split(".")[1]||"").length,l=(e.toString().split(".")[1]||"").length,s=t>l?t:l,r=Number.parseInt(o.toFixed(s).replace(".","")),m=Number.parseInt(e.toFixed(s).replace(".",""));return r%m/10**s}class Vi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const r=this._getOrReturnCtx(e);return le(r,{code:W.invalid_type,expected:se.number,received:r.parsedType}),Te}let l;const s=new Nt;for(const r of this._def.checks)r.kind==="int"?ke.isInteger(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{code:W.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?lC(e.data,r.value)!==0&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(l=this._getOrReturnCtx(e,l),le(l,{code:W.not_finite,message:r.message}),s.dirty()):ke.assertNever(r);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,l,s){return new Vi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:l,message:ce.toString(s)}]})}_addCheck(e){return new Vi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ce.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ke.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const l of this._def.checks){if(l.kind==="finite"||l.kind==="int"||l.kind==="multipleOf")return!0;l.kind==="min"?(t===null||l.value>t)&&(t=l.value):l.kind==="max"&&(e===null||l.value<e)&&(e=l.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Vi.create=o=>new Vi({checks:[],typeName:ve.ZodNumber,coerce:(o==null?void 0:o.coerce)||!1,...Ee(o)});class Pi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==se.bigint)return this._getInvalidInput(e);let l;const s=new Nt;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(l=this._getOrReturnCtx(e,l),le(l,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):ke.assertNever(r);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return le(t,{code:W.invalid_type,expected:se.bigint,received:t.parsedType}),Te}gte(e,t){return this.setLimit("min",e,!0,ce.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ce.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ce.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ce.toString(t))}setLimit(e,t,l,s){return new Pi({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:l,message:ce.toString(s)}]})}_addCheck(e){return new Pi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ce.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ce.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Pi.create=o=>new Pi({checks:[],typeName:ve.ZodBigInt,coerce:(o==null?void 0:o.coerce)??!1,...Ee(o)});class Vs extends we{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.boolean,received:l.parsedType}),Te}return Wt(e.data)}}Vs.create=o=>new Vs({typeName:ve.ZodBoolean,coerce:(o==null?void 0:o.coerce)||!1,...Ee(o)});class Ll extends we{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const r=this._getOrReturnCtx(e);return le(r,{code:W.invalid_type,expected:se.date,received:r.parsedType}),Te}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return le(r,{code:W.invalid_date}),Te}const l=new Nt;let s;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:W.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),l.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),le(s,{code:W.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),l.dirty()):ke.assertNever(r);return{status:l.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ll({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ce.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ce.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Ll.create=o=>new Ll({checks:[],coerce:(o==null?void 0:o.coerce)||!1,typeName:ve.ZodDate,...Ee(o)});class ch extends we{_parse(e){if(this._getType(e)!==se.symbol){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.symbol,received:l.parsedType}),Te}return Wt(e.data)}}ch.create=o=>new ch({typeName:ve.ZodSymbol,...Ee(o)});class fh extends we{_parse(e){if(this._getType(e)!==se.undefined){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.undefined,received:l.parsedType}),Te}return Wt(e.data)}}fh.create=o=>new fh({typeName:ve.ZodUndefined,...Ee(o)});class dh extends we{_parse(e){if(this._getType(e)!==se.null){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.null,received:l.parsedType}),Te}return Wt(e.data)}}dh.create=o=>new dh({typeName:ve.ZodNull,...Ee(o)});class mh extends we{constructor(){super(...arguments),this._any=!0}_parse(e){return Wt(e.data)}}mh.create=o=>new mh({typeName:ve.ZodAny,...Ee(o)});class Nc extends we{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wt(e.data)}}Nc.create=o=>new Nc({typeName:ve.ZodUnknown,...Ee(o)});class di extends we{_parse(e){const t=this._getOrReturnCtx(e);return le(t,{code:W.invalid_type,expected:se.never,received:t.parsedType}),Te}}di.create=o=>new di({typeName:ve.ZodNever,...Ee(o)});class ph extends we{_parse(e){if(this._getType(e)!==se.undefined){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.void,received:l.parsedType}),Te}return Wt(e.data)}}ph.create=o=>new ph({typeName:ve.ZodVoid,...Ee(o)});class hn extends we{_parse(e){const{ctx:t,status:l}=this._processInputParams(e),s=this._def;if(t.parsedType!==se.array)return le(t,{code:W.invalid_type,expected:se.array,received:t.parsedType}),Te;if(s.exactLength!==null){const m=t.data.length>s.exactLength.value,h=t.data.length<s.exactLength.value;(m||h)&&(le(t,{code:m?W.too_big:W.too_small,minimum:h?s.exactLength.value:void 0,maximum:m?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),l.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(le(t,{code:W.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),l.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(le(t,{code:W.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),l.dirty()),t.common.async)return Promise.all([...t.data].map((m,h)=>s.type._parseAsync(new gn(t,m,t.path,h)))).then(m=>Nt.mergeArray(l,m));const r=[...t.data].map((m,h)=>s.type._parseSync(new gn(t,m,t.path,h)));return Nt.mergeArray(l,r)}get element(){return this._def.type}min(e,t){return new hn({...this._def,minLength:{value:e,message:ce.toString(t)}})}max(e,t){return new hn({...this._def,maxLength:{value:e,message:ce.toString(t)}})}length(e,t){return new hn({...this._def,exactLength:{value:e,message:ce.toString(t)}})}nonempty(e){return this.min(1,e)}}hn.create=(o,e)=>new hn({type:o,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Ee(e)});function bl(o){if(o instanceof ot){const e={};for(const t in o.shape){const l=o.shape[t];e[t]=fi.create(bl(l))}return new ot({...o._def,shape:()=>e})}else return o instanceof hn?new hn({...o._def,type:bl(o.element)}):o instanceof fi?fi.create(bl(o.unwrap())):o instanceof Pl?Pl.create(bl(o.unwrap())):o instanceof Bi?Bi.create(o.items.map(e=>bl(e))):o}class ot extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ke.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==se.object){const p=this._getOrReturnCtx(e);return le(p,{code:W.invalid_type,expected:se.object,received:p.parsedType}),Te}const{status:l,ctx:s}=this._processInputParams(e),{shape:r,keys:m}=this._getCached(),h=[];if(!(this._def.catchall instanceof di&&this._def.unknownKeys==="strip"))for(const p in s.data)m.includes(p)||h.push(p);const y=[];for(const p of m){const v=r[p],x=s.data[p];y.push({key:{status:"valid",value:p},value:v._parse(new gn(s,x,s.path,p)),alwaysSet:p in s.data})}if(this._def.catchall instanceof di){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of h)y.push({key:{status:"valid",value:v},value:{status:"valid",value:s.data[v]}});else if(p==="strict")h.length>0&&(le(s,{code:W.unrecognized_keys,keys:h}),l.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of h){const x=s.data[v];y.push({key:{status:"valid",value:v},value:p._parse(new gn(s,x,s.path,v)),alwaysSet:v in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of y){const x=await v.key,S=await v.value;p.push({key:x,value:S,alwaysSet:v.alwaysSet})}return p}).then(p=>Nt.mergeObjectSync(l,p)):Nt.mergeObjectSync(l,y)}get shape(){return this._def.shape()}strict(e){return ce.errToObj,new ot({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,l)=>{var r,m;const s=((m=(r=this._def).errorMap)==null?void 0:m.call(r,t,l).message)??l.defaultError;return t.code==="unrecognized_keys"?{message:ce.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new ot({...this._def,unknownKeys:"strip"})}passthrough(){return new ot({...this._def,unknownKeys:"passthrough"})}extend(e){return new ot({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ot({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ot({...this._def,catchall:e})}pick(e){const t={};for(const l of ke.objectKeys(e))e[l]&&this.shape[l]&&(t[l]=this.shape[l]);return new ot({...this._def,shape:()=>t})}omit(e){const t={};for(const l of ke.objectKeys(this.shape))e[l]||(t[l]=this.shape[l]);return new ot({...this._def,shape:()=>t})}deepPartial(){return bl(this)}partial(e){const t={};for(const l of ke.objectKeys(this.shape)){const s=this.shape[l];e&&!e[l]?t[l]=s:t[l]=s.optional()}return new ot({...this._def,shape:()=>t})}required(e){const t={};for(const l of ke.objectKeys(this.shape))if(e&&!e[l])t[l]=this.shape[l];else{let r=this.shape[l];for(;r instanceof fi;)r=r._def.innerType;t[l]=r}return new ot({...this._def,shape:()=>t})}keyof(){return iy(ke.objectKeys(this.shape))}}ot.create=(o,e)=>new ot({shape:()=>o,unknownKeys:"strip",catchall:di.create(),typeName:ve.ZodObject,...Ee(e)});ot.strictCreate=(o,e)=>new ot({shape:()=>o,unknownKeys:"strict",catchall:di.create(),typeName:ve.ZodObject,...Ee(e)});ot.lazycreate=(o,e)=>new ot({shape:o,unknownKeys:"strip",catchall:di.create(),typeName:ve.ZodObject,...Ee(e)});class Ps extends we{_parse(e){const{ctx:t}=this._processInputParams(e),l=this._def.options;function s(r){for(const h of r)if(h.result.status==="valid")return h.result;for(const h of r)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const m=r.map(h=>new Pn(h.ctx.common.issues));return le(t,{code:W.invalid_union,unionErrors:m}),Te}if(t.common.async)return Promise.all(l.map(async r=>{const m={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:m}),ctx:m}})).then(s);{let r;const m=[];for(const y of l){const p={...t,common:{...t.common,issues:[]},parent:null},v=y._parseSync({data:t.data,path:t.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!r&&(r={result:v,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const h=m.map(y=>new Pn(y));return le(t,{code:W.invalid_union,unionErrors:h}),Te}}get options(){return this._def.options}}Ps.create=(o,e)=>new Ps({options:o,typeName:ve.ZodUnion,...Ee(e)});function Mc(o,e){const t=ci(o),l=ci(e);if(o===e)return{valid:!0,data:o};if(t===se.object&&l===se.object){const s=ke.objectKeys(e),r=ke.objectKeys(o).filter(h=>s.indexOf(h)!==-1),m={...o,...e};for(const h of r){const y=Mc(o[h],e[h]);if(!y.valid)return{valid:!1};m[h]=y.data}return{valid:!0,data:m}}else if(t===se.array&&l===se.array){if(o.length!==e.length)return{valid:!1};const s=[];for(let r=0;r<o.length;r++){const m=o[r],h=e[r],y=Mc(m,h);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return t===se.date&&l===se.date&&+o==+e?{valid:!0,data:o}:{valid:!1}}class Bs extends we{_parse(e){const{status:t,ctx:l}=this._processInputParams(e),s=(r,m)=>{if(sh(r)||sh(m))return Te;const h=Mc(r.value,m.value);return h.valid?((rh(r)||rh(m))&&t.dirty(),{status:t.value,value:h.data}):(le(l,{code:W.invalid_intersection_types}),Te)};return l.common.async?Promise.all([this._def.left._parseAsync({data:l.data,path:l.path,parent:l}),this._def.right._parseAsync({data:l.data,path:l.path,parent:l})]).then(([r,m])=>s(r,m)):s(this._def.left._parseSync({data:l.data,path:l.path,parent:l}),this._def.right._parseSync({data:l.data,path:l.path,parent:l}))}}Bs.create=(o,e,t)=>new Bs({left:o,right:e,typeName:ve.ZodIntersection,...Ee(t)});class Bi extends we{_parse(e){const{status:t,ctx:l}=this._processInputParams(e);if(l.parsedType!==se.array)return le(l,{code:W.invalid_type,expected:se.array,received:l.parsedType}),Te;if(l.data.length<this._def.items.length)return le(l,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&l.data.length>this._def.items.length&&(le(l,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...l.data].map((m,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new gn(l,m,l.path,h)):null}).filter(m=>!!m);return l.common.async?Promise.all(r).then(m=>Nt.mergeArray(t,m)):Nt.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Bi({...this._def,rest:e})}}Bi.create=(o,e)=>{if(!Array.isArray(o))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bi({items:o,typeName:ve.ZodTuple,rest:null,...Ee(e)})};class Gs extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:l}=this._processInputParams(e);if(l.parsedType!==se.object)return le(l,{code:W.invalid_type,expected:se.object,received:l.parsedType}),Te;const s=[],r=this._def.keyType,m=this._def.valueType;for(const h in l.data)s.push({key:r._parse(new gn(l,h,l.path,h)),value:m._parse(new gn(l,l.data[h],l.path,h)),alwaysSet:h in l.data});return l.common.async?Nt.mergeObjectAsync(t,s):Nt.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,l){return t instanceof we?new Gs({keyType:e,valueType:t,typeName:ve.ZodRecord,...Ee(l)}):new Gs({keyType:pn.create(),valueType:e,typeName:ve.ZodRecord,...Ee(t)})}}class hh extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:l}=this._processInputParams(e);if(l.parsedType!==se.map)return le(l,{code:W.invalid_type,expected:se.map,received:l.parsedType}),Te;const s=this._def.keyType,r=this._def.valueType,m=[...l.data.entries()].map(([h,y],p)=>({key:s._parse(new gn(l,h,l.path,[p,"key"])),value:r._parse(new gn(l,y,l.path,[p,"value"]))}));if(l.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of m){const p=await y.key,v=await y.value;if(p.status==="aborted"||v.status==="aborted")return Te;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(p.value,v.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const y of m){const p=y.key,v=y.value;if(p.status==="aborted"||v.status==="aborted")return Te;(p.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(p.value,v.value)}return{status:t.value,value:h}}}}hh.create=(o,e,t)=>new hh({valueType:e,keyType:o,typeName:ve.ZodMap,...Ee(t)});class la extends we{_parse(e){const{status:t,ctx:l}=this._processInputParams(e);if(l.parsedType!==se.set)return le(l,{code:W.invalid_type,expected:se.set,received:l.parsedType}),Te;const s=this._def;s.minSize!==null&&l.data.size<s.minSize.value&&(le(l,{code:W.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&l.data.size>s.maxSize.value&&(le(l,{code:W.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const r=this._def.valueType;function m(y){const p=new Set;for(const v of y){if(v.status==="aborted")return Te;v.status==="dirty"&&t.dirty(),p.add(v.value)}return{status:t.value,value:p}}const h=[...l.data.values()].map((y,p)=>r._parse(new gn(l,y,l.path,p)));return l.common.async?Promise.all(h).then(y=>m(y)):m(h)}min(e,t){return new la({...this._def,minSize:{value:e,message:ce.toString(t)}})}max(e,t){return new la({...this._def,maxSize:{value:e,message:ce.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}la.create=(o,e)=>new la({valueType:o,minSize:null,maxSize:null,typeName:ve.ZodSet,...Ee(e)});class Rc extends we{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Rc.create=(o,e)=>new Rc({getter:o,typeName:ve.ZodLazy,...Ee(e)});class gh extends we{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return le(t,{received:t.data,code:W.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:e.data}}get value(){return this._def.value}}gh.create=(o,e)=>new gh({value:o,typeName:ve.ZodLiteral,...Ee(e)});function iy(o,e){return new Ol({values:o,typeName:ve.ZodEnum,...Ee(e)})}class Ol extends we{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),l=this._def.values;return le(t,{expected:ke.joinValues(l),received:t.parsedType,code:W.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),l=this._def.values;return le(t,{received:t.data,code:W.invalid_enum_value,options:l}),Te}return Wt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ol.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ol.create(this.options.filter(l=>!e.includes(l)),{...this._def,...t})}}Ol.create=iy;class yh extends we{_parse(e){const t=ke.getValidEnumValues(this._def.values),l=this._getOrReturnCtx(e);if(l.parsedType!==se.string&&l.parsedType!==se.number){const s=ke.objectValues(t);return le(l,{expected:ke.joinValues(s),received:l.parsedType,code:W.invalid_type}),Te}if(this._cache||(this._cache=new Set(ke.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ke.objectValues(t);return le(l,{received:l.data,code:W.invalid_enum_value,options:s}),Te}return Wt(e.data)}get enum(){return this._def.values}}yh.create=(o,e)=>new yh({values:o,typeName:ve.ZodNativeEnum,...Ee(e)});class zs extends we{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==se.promise&&t.common.async===!1)return le(t,{code:W.invalid_type,expected:se.promise,received:t.parsedType}),Te;const l=t.parsedType===se.promise?t.data:Promise.resolve(t.data);return Wt(l.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}zs.create=(o,e)=>new zs({type:o,typeName:ve.ZodPromise,...Ee(e)});class Vl extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:l}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:m=>{le(l,m),m.fatal?t.abort():t.dirty()},get path(){return l.path}};if(r.addIssue=r.addIssue.bind(r),s.type==="preprocess"){const m=s.transform(l.data,r);if(l.common.async)return Promise.resolve(m).then(async h=>{if(t.value==="aborted")return Te;const y=await this._def.schema._parseAsync({data:h,path:l.path,parent:l});return y.status==="aborted"?Te:y.status==="dirty"||t.value==="dirty"?Wo(y.value):y});{if(t.value==="aborted")return Te;const h=this._def.schema._parseSync({data:m,path:l.path,parent:l});return h.status==="aborted"?Te:h.status==="dirty"||t.value==="dirty"?Wo(h.value):h}}if(s.type==="refinement"){const m=h=>{const y=s.refinement(h,r);if(l.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(l.common.async===!1){const h=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return h.status==="aborted"?Te:(h.status==="dirty"&&t.dirty(),m(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(h=>h.status==="aborted"?Te:(h.status==="dirty"&&t.dirty(),m(h.value).then(()=>({status:t.value,value:h.value}))))}if(s.type==="transform")if(l.common.async===!1){const m=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!kl(m))return Te;const h=s.transform(m.value,r);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(m=>kl(m)?Promise.resolve(s.transform(m.value,r)).then(h=>({status:t.value,value:h})):Te);ke.assertNever(s)}}Vl.create=(o,e,t)=>new Vl({schema:o,typeName:ve.ZodEffects,effect:e,...Ee(t)});Vl.createWithPreprocess=(o,e,t)=>new Vl({schema:e,effect:{type:"preprocess",transform:o},typeName:ve.ZodEffects,...Ee(t)});class fi extends we{_parse(e){return this._getType(e)===se.undefined?Wt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fi.create=(o,e)=>new fi({innerType:o,typeName:ve.ZodOptional,...Ee(e)});class Pl extends we{_parse(e){return this._getType(e)===se.null?Wt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pl.create=(o,e)=>new Pl({innerType:o,typeName:ve.ZodNullable,...Ee(e)});class bc extends we{_parse(e){const{ctx:t}=this._processInputParams(e);let l=t.data;return t.parsedType===se.undefined&&(l=this._def.defaultValue()),this._def.innerType._parse({data:l,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}bc.create=(o,e)=>new bc({innerType:o,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ee(e)});class wc extends we{_parse(e){const{ctx:t}=this._processInputParams(e),l={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:l.data,path:l.path,parent:{...l}});return Os(s)?s.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Pn(l.common.issues)},input:l.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pn(l.common.issues)},input:l.data})}}removeCatch(){return this._def.innerType}}wc.create=(o,e)=>new wc({innerType:o,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ee(e)});class vh extends we{_parse(e){if(this._getType(e)!==se.nan){const l=this._getOrReturnCtx(e);return le(l,{code:W.invalid_type,expected:se.nan,received:l.parsedType}),Te}return{status:"valid",value:e.data}}}vh.create=o=>new vh({typeName:ve.ZodNaN,...Ee(o)});class oC extends we{_parse(e){const{ctx:t}=this._processInputParams(e),l=t.data;return this._def.type._parse({data:l,path:t.path,parent:t})}unwrap(){return this._def.type}}class Xc extends we{_parse(e){const{status:t,ctx:l}=this._processInputParams(e);if(l.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:l.data,path:l.path,parent:l});return r.status==="aborted"?Te:r.status==="dirty"?(t.dirty(),Wo(r.value)):this._def.out._parseAsync({data:r.value,path:l.path,parent:l})})();{const s=this._def.in._parseSync({data:l.data,path:l.path,parent:l});return s.status==="aborted"?Te:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:l.path,parent:l})}}static create(e,t){return new Xc({in:e,out:t,typeName:ve.ZodPipeline})}}class Dc extends we{_parse(e){const t=this._def.innerType._parse(e),l=s=>(kl(s)&&(s.value=Object.freeze(s.value)),s);return Os(t)?t.then(s=>l(s)):l(t)}unwrap(){return this._def.innerType}}Dc.create=(o,e)=>new Dc({innerType:o,typeName:ve.ZodReadonly,...Ee(e)});var ve;(function(o){o.ZodString="ZodString",o.ZodNumber="ZodNumber",o.ZodNaN="ZodNaN",o.ZodBigInt="ZodBigInt",o.ZodBoolean="ZodBoolean",o.ZodDate="ZodDate",o.ZodSymbol="ZodSymbol",o.ZodUndefined="ZodUndefined",o.ZodNull="ZodNull",o.ZodAny="ZodAny",o.ZodUnknown="ZodUnknown",o.ZodNever="ZodNever",o.ZodVoid="ZodVoid",o.ZodArray="ZodArray",o.ZodObject="ZodObject",o.ZodUnion="ZodUnion",o.ZodDiscriminatedUnion="ZodDiscriminatedUnion",o.ZodIntersection="ZodIntersection",o.ZodTuple="ZodTuple",o.ZodRecord="ZodRecord",o.ZodMap="ZodMap",o.ZodSet="ZodSet",o.ZodFunction="ZodFunction",o.ZodLazy="ZodLazy",o.ZodLiteral="ZodLiteral",o.ZodEnum="ZodEnum",o.ZodEffects="ZodEffects",o.ZodNativeEnum="ZodNativeEnum",o.ZodOptional="ZodOptional",o.ZodNullable="ZodNullable",o.ZodDefault="ZodDefault",o.ZodCatch="ZodCatch",o.ZodPromise="ZodPromise",o.ZodBranded="ZodBranded",o.ZodPipeline="ZodPipeline",o.ZodReadonly="ZodReadonly"})(ve||(ve={}));const Ui=pn.create,Th=Vi.create;Pi.create;const aC=Vs.create;Ll.create;const xh=Nc.create;di.create;const jo=hn.create,sC=ot.create,rC=Ps.create;Bs.create;Bi.create;const uC=Gs.create,cC=Rc.create,fC=Ol.create;zs.create;fi.create;Pl.create;const Rl={string:o=>pn.create({...o,coerce:!0}),number:o=>Vi.create({...o,coerce:!0}),boolean:o=>Vs.create({...o,coerce:!0}),bigint:o=>Pi.create({...o,coerce:!0}),date:o=>Ll.create({...o,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dC,mC;function pC(){return{geminiUrl:dC,vertexUrl:mC}}function hC(o,e,t){var l,s,r;if(!(!((l=o.httpOptions)===null||l===void 0)&&l.baseUrl)){const m=pC();return o.vertexai?(s=m.vertexUrl)!==null&&s!==void 0?s:e:(r=m.geminiUrl)!==null&&r!==void 0?r:t}return o.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zl{}function ye(o,e){const t=/\{([^}]+)\}/g;return o.replace(t,(l,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const r=e[s];return r!=null?String(r):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(o,e,t){for(let r=0;r<e.length-1;r++){const m=e[r];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in o))if(Array.isArray(t))o[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(o[h])){const y=o[h];if(Array.isArray(t))for(let p=0;p<y.length;p++){const v=y[p];f(v,e.slice(r+1),t[p])}else for(const p of y)f(p,e.slice(r+1),t)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in o||(o[h]=[{}]);const y=o[h];f(y[0],e.slice(r+1),t);return}(!o[m]||typeof o[m]!="object")&&(o[m]={}),o=o[m]}const l=e[e.length-1],s=o[l];if(s!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===s)return;if(typeof s=="object"&&typeof t=="object"&&s!==null&&t!==null)Object.assign(s,t);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else o[l]=t}function c(o,e){try{if(e.length===1&&e[0]==="_self")return o;for(let t=0;t<e.length;t++){if(typeof o!="object"||o===null)return;const l=e[t];if(l.endsWith("[]")){const s=l.slice(0,-2);if(s in o){const r=o[s];return Array.isArray(r)?r.map(m=>c(m,e.slice(t+1))):void 0}else return}else o=o[l]}return o}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ch;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Ch||(Ch={}));var Sh;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Sh||(Sh={}));var Qt;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(Qt||(Qt={}));var _h;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(_h||(_h={}));var Eh;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Eh||(Eh={}));var Ah;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Ah||(Ah={}));var Nh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Nh||(Nh={}));var Mh;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Mh||(Mh={}));var Rh;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Rh||(Rh={}));var bh;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(bh||(bh={}));var wh;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wh||(wh={}));var Dh;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Dh||(Dh={}));var Ih;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ih||(Ih={}));var qs;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(qs||(qs={}));var Uh;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Uh||(Uh={}));var Ic;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ic||(Ic={}));var kh;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(kh||(kh={}));var Lh;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(Lh||(Lh={}));var Oh;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(Oh||(Oh={}));var Vh;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(Vh||(Vh={}));var Ph;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE"})(Ph||(Ph={}));var Bh;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Bh||(Bh={}));var Gh;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(Gh||(Gh={}));var zh;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(zh||(zh={}));var qh;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi"})(qh||(qh={}));var Hh;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Hh||(Hh={}));var Fh;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fh||(Fh={}));var Yh;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Yh||(Yh={}));var Zh;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Zh||(Zh={}));var $h;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})($h||($h={}));var Kh;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(Kh||(Kh={}));var Jh;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Jh||(Jh={}));var Xh;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xh||(Xh={}));var Qh;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qh||(Qh={}));var Wh;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(Wh||(Wh={}));var jh;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jh||(jh={}));var eg;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(eg||(eg={}));var tg;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(tg||(tg={}));var Dl;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(Dl||(Dl={}));class Qo{get text(){var e,t,l,s,r,m,h,y;if(((s=(l=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const x=[];for(const S of(y=(h=(m=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[A,E]of Object.entries(S))A!=="text"&&A!=="thought"&&(E!==null||E!==void 0)&&x.push(A);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return x.length>0&&console.warn(`there are non-text parts ${x} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,t,l,s,r,m,h,y;if(((s=(l=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const x of(y=(h=(m=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,A]of Object.entries(x))S!=="inlineData"&&(A!==null||A!==void 0)&&v.push(S);x.inlineData&&typeof x.inlineData.data=="string"&&(p+=atob(x.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,l,s,r,m,h,y;if(((s=(l=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(m=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,l,s,r,m,h,y,p;if(((s=(l=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(m=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.executableCode).map(x=>x.executableCode).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,l,s,r,m,h,y,p;if(((s=(l=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||l===void 0?void 0:l.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(m=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(x=>x.codeExecutionResult).map(x=>x.codeExecutionResult).filter(x=>x!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class ng{}class ig{}class gC{}class yC{}class lg{}class og{}class ag{}class vC{}class sg{}class rg{}class ug{}class TC{}class Uc{constructor(e){const t={};for(const l of e.headers.entries())t[l[0]]=l[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class xC{}class CC{}class SC{get text(){var e,t,l;let s="",r=!1;const m=[];for(const h of(l=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;r=!0,s+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?s:void 0}get data(){var e,t,l;let s="";const r=[];for(const m of(l=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&r.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(s+=atob(m.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class _C{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(o,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ly(o,e){const t=Ye(o,e);return t?t.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}`:t.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${t}`:t:""}function oy(o,e){return Array.isArray(e)?e.map(t=>Hs(o,t)):[Hs(o,e)]}function Hs(o,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function EC(o,e){const t=Hs(o,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function AC(o,e){const t=Hs(o,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function cg(o,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ay(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>cg(o,t)):[cg(o,e)]}function kc(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function fg(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function dg(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function At(o,e){if(e==null)throw new Error("ContentUnion is required");return kc(e)?e:{role:"user",parts:ay(o,e)}}function sy(o,e){if(!e)return[];if(o.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const l=At(o,t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(o.isVertexAI()){const t=At(o,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>At(o,t)):[At(o,e)]}function ln(o,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(fg(e)||dg(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[At(o,e)]}const t=[],l=[],s=kc(e[0]);for(const r of e){const m=kc(r);if(m!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(m)t.push(r);else{if(fg(r)||dg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return s||t.push({role:"user",parts:ay(o,l)}),t}const NC=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),mg=fC(["string","number","integer","object","array","boolean","null"]),MC=rC([mg,jo(mg)]);function RC(o=!0){const e=cC(()=>{const t=sC({type:MC.optional(),format:Ui().optional(),title:Ui().optional(),description:Ui().optional(),default:xh().optional(),items:e.optional(),minItems:Rl.string().optional(),maxItems:Rl.string().optional(),enum:jo(xh()).optional(),properties:uC(Ui(),e).optional(),required:jo(Ui()).optional(),minProperties:Rl.string().optional(),maxProperties:Rl.string().optional(),propertyOrdering:jo(Ui()).optional(),minimum:Th().optional(),maximum:Th().optional(),minLength:Rl.string().optional(),maxLength:Rl.string().optional(),pattern:Ui().optional(),anyOf:jo(e).optional(),additionalProperties:aC().optional()});return o?t.strict():t});return e}function bC(o,e){o.includes("null")&&(e.nullable=!0);const t=o.filter(l=>l!=="null");if(t.length===1)e.type=Object.keys(Qt).includes(t[0].toUpperCase())?Qt[t[0].toUpperCase()]:Qt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of t)e.anyOf.push({type:Object.keys(Qt).includes(l.toUpperCase())?Qt[l.toUpperCase()]:Qt.TYPE_UNSPECIFIED})}}function Il(o){const e={},t=["items"],l=["anyOf"],s=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=o.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,o=r[1]):r[1].type==="null"&&(e.nullable=!0,o=r[0])),o.type instanceof Array&&bC(o.type,e);for(const[m,h]of Object.entries(o))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.keys(Qt).includes(h.toUpperCase())?h.toUpperCase():Qt.TYPE_UNSPECIFIED}else if(t.includes(m))e[m]=Il(h);else if(l.includes(m)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(Il(p))}e[m]=y}else if(s.includes(m)){const y={};for(const[p,v]of Object.entries(h))y[p]=Il(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function Fs(o,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=RC().parse(e);return Il(t)}else return Il(e)}function ry(o,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Qc(o,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ua(o,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Fs(o,t.parameters)),t.response&&(t.response=Fs(o,t.response));return e}function ca(o,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of e)t.push(l);return t}function wC(o,e,t,l=1){const s=!e.startsWith(`${t}/`)&&e.split("/").length===l;return o.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${o.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${e}`:s?`projects/${o.getProject()}/locations/${o.getLocation()}/${t}/${e}`:e:s?`${t}/${e}`:e}function mi(o,e){if(typeof e!="string")throw new Error("name must be a string");return wC(o,e,"cachedContents")}function uy(o,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function pi(o,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function DC(o){return o!=null&&typeof o=="object"&&"name"in o}function IC(o){return o!=null&&typeof o=="object"&&"video"in o}function UC(o){return o!=null&&typeof o=="object"&&"uri"in o}function cy(o,e){var t;let l;if(DC(e)&&(l=e.name),!(UC(e)&&(l=e.uri,l===void 0))&&!(IC(e)&&(l=(t=e.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof e=="string"&&(l=e),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function fy(o,e){let t;return o.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function dy(o,e){for(const t of["models","tunedModels","publisherModels"])if(kC(e,t))return e[t];return[]}function kC(o,e){return o!==null&&typeof o=="object"&&e in o}function LC(o,e={}){const t=o,l={name:t.name,description:t.description,parameters:Il($s(t.inputSchema))};return e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function OC(o,e={}){const t=[],l=new Set;for(const s of o){const r=s.name;if(l.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);l.add(r);const m=LC(s,e);m.functionDeclarations&&t.push(...m.functionDeclarations)}return{functionDeclarations:t}}function VC(o){const e=[];for(const t of o)e.push($s(t));return e}function PC(o){const e={};for(const[t,l]of Object.entries(o)){const s=l;e[t]=$s(s)}return e}function $s(o){const e=new Set(["items"]),t=new Set(["anyOf"]),l=new Set(["properties"]),s={};for(const[r,m]of Object.entries(o))if(e.has(r))s[r]=$s(m);else if(t.has(r))s[r]=VC(m);else if(l.has(r))s[r]=PC(m);else if(r==="type"){const h=m.toUpperCase();s[r]=Object.keys(Qt).includes(h)?h:Qt.TYPE_UNSPECIFIED}else NC.has(r)&&(s[r]=m);return s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function GC(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function zC(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function qC(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],BC(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],GC(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],zC(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function pg(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>qC(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function HC(o,e){const t={},l=c(e,["behavior"]);l!=null&&f(t,["behavior"],l);const s=c(e,["description"]);s!=null&&f(t,["description"],s);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const m=c(e,["parameters"]);m!=null&&f(t,["parameters"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function FC(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function YC(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],FC(o,l)),t}function ZC(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function $C(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],ZC(o,l)),t}function KC(){return{}}function JC(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>HC(o,p))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(e,["googleSearch"]);s!=null&&f(t,["googleSearch"],YC(o,s));const r=c(e,["googleSearchRetrieval"]);if(r!=null&&f(t,["googleSearchRetrieval"],$C(o,r)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],KC());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function XC(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["allowedFunctionNames"]);return s!=null&&f(t,["allowedFunctionNames"],s),t}function QC(o,e){const t={},l=c(e,["latitude"]);l!=null&&f(t,["latitude"],l);const s=c(e,["longitude"]);return s!=null&&f(t,["longitude"],s),t}function WC(o,e){const t={},l=c(e,["latLng"]);l!=null&&f(t,["latLng"],QC(o,l));const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function jC(o,e){const t={},l=c(e,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],XC(o,l));const s=c(e,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],WC(o,s)),t}function eS(o,e,t){const l={},s=c(e,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const m=c(e,["displayName"]);t!==void 0&&m!=null&&f(t,["displayName"],m);const h=c(e,["contents"]);if(t!==void 0&&h!=null){let x=ln(o,h);Array.isArray(x)&&(x=x.map(S=>pg(o,S))),f(t,["contents"],x)}const y=c(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],pg(o,At(o,y)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let x=p;Array.isArray(x)&&(x=x.map(S=>JC(o,S))),f(t,["tools"],x)}const v=c(e,["toolConfig"]);if(t!==void 0&&v!=null&&f(t,["toolConfig"],jC(o,v)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function tS(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["model"],ly(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],eS(o,s,t)),t}function nS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function iS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function lS(o,e,t){const l={},s=c(e,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function oS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],lS(o,s,t)),t}function aS(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function sS(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],aS(o,l,t)),t}function rS(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function uS(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["data"]);s!=null&&f(t,["data"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function cS(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["fileUri"]);s!=null&&f(t,["fileUri"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function fS(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],rS(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],uS(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],cS(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function hg(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>fS(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function dS(o,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(e,["description"]);l!=null&&f(t,["description"],l);const s=c(e,["name"]);s!=null&&f(t,["name"],s);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const m=c(e,["response"]);return m!=null&&f(t,["response"],m),t}function mS(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function pS(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],mS(o,l)),t}function hS(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function gS(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],hS(o,l)),t}function yS(){return{}}function vS(o,e){const t={},l=c(e,["apiKeyString"]);return l!=null&&f(t,["apiKeyString"],l),t}function TS(o,e){const t={},l=c(e,["apiKeyConfig"]);l!=null&&f(t,["apiKeyConfig"],vS(o,l));const s=c(e,["authType"]);s!=null&&f(t,["authType"],s);const r=c(e,["googleServiceAccountConfig"]);r!=null&&f(t,["googleServiceAccountConfig"],r);const m=c(e,["httpBasicAuthConfig"]);m!=null&&f(t,["httpBasicAuthConfig"],m);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function xS(o,e){const t={},l=c(e,["authConfig"]);return l!=null&&f(t,["authConfig"],TS(o,l)),t}function CS(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>dS(o,x))),f(t,["functionDeclarations"],v)}const s=c(e,["retrieval"]);s!=null&&f(t,["retrieval"],s);const r=c(e,["googleSearch"]);r!=null&&f(t,["googleSearch"],pS(o,r));const m=c(e,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],gS(o,m)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],yS());const y=c(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],xS(o,y)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function SS(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["allowedFunctionNames"]);return s!=null&&f(t,["allowedFunctionNames"],s),t}function _S(o,e){const t={},l=c(e,["latitude"]);l!=null&&f(t,["latitude"],l);const s=c(e,["longitude"]);return s!=null&&f(t,["longitude"],s),t}function ES(o,e){const t={},l=c(e,["latLng"]);l!=null&&f(t,["latLng"],_S(o,l));const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function AS(o,e){const t={},l=c(e,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],SS(o,l));const s=c(e,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],ES(o,s)),t}function NS(o,e,t){const l={},s=c(e,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=c(e,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const m=c(e,["displayName"]);t!==void 0&&m!=null&&f(t,["displayName"],m);const h=c(e,["contents"]);if(t!==void 0&&h!=null){let S=ln(o,h);Array.isArray(S)&&(S=S.map(A=>hg(o,A))),f(t,["contents"],S)}const y=c(e,["systemInstruction"]);t!==void 0&&y!=null&&f(t,["systemInstruction"],hg(o,At(o,y)));const p=c(e,["tools"]);if(t!==void 0&&p!=null){let S=p;Array.isArray(S)&&(S=S.map(A=>CS(o,A))),f(t,["tools"],S)}const v=c(e,["toolConfig"]);t!==void 0&&v!=null&&f(t,["toolConfig"],AS(o,v));const x=c(e,["kmsKeyName"]);return t!==void 0&&x!=null&&f(t,["encryption_spec","kmsKeyName"],x),l}function MS(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["model"],ly(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],NS(o,s,t)),t}function RS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function bS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function wS(o,e,t){const l={},s=c(e,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=c(e,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function DS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],mi(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],wS(o,s,t)),t}function IS(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function US(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],IS(o,l,t)),t}function Is(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["model"]);r!=null&&f(t,["model"],r);const m=c(e,["createTime"]);m!=null&&f(t,["createTime"],m);const h=c(e,["updateTime"]);h!=null&&f(t,["updateTime"],h);const y=c(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const p=c(e,["usageMetadata"]);return p!=null&&f(t,["usageMetadata"],p),t}function kS(){return{}}function LS(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["cachedContents"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(m=>Is(o,m))),f(t,["cachedContents"],r)}return t}function Us(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["model"]);r!=null&&f(t,["model"],r);const m=c(e,["createTime"]);m!=null&&f(t,["createTime"],m);const h=c(e,["updateTime"]);h!=null&&f(t,["updateTime"],h);const y=c(e,["expireTime"]);y!=null&&f(t,["expireTime"],y);const p=c(e,["usageMetadata"]);return p!=null&&f(t,["usageMetadata"],p),t}function OS(){return{}}function VS(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["cachedContents"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(m=>Us(o,m))),f(t,["cachedContents"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bl;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Bl||(Bl={}));class Ks{constructor(e,t,l,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,l,s)}init(e,t,l){var s,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};l?typeof l=="object"?m=Object.assign({},l):m=l:m={config:{}},m.config&&(m.config.pageToken=t.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(r=(s=m.config)===null||s===void 0?void 0:s.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PS extends zl{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ks(Bl.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(t),t)}async create(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=MS(this.apiClient,e);return h=ye("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Us(this.apiClient,v))}else{const p=tS(this.apiClient,e);return h=ye("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>Is(this.apiClient,v))}}async get(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=RS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Us(this.apiClient,v))}else{const p=nS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>Is(this.apiClient,v))}}async delete(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=bS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=OS(),x=new rg;return Object.assign(x,v),x})}else{const p=iS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(()=>{const v=kS(),x=new rg;return Object.assign(x,v),x})}}async update(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=DS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Us(this.apiClient,v))}else{const p=oS(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>Is(this.apiClient,v))}}async listInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=US(this.apiClient,e);return h=ye("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=VS(this.apiClient,v),S=new ug;return Object.assign(S,x),S})}else{const p=sS(this.apiClient,e);return h=ye("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=LS(this.apiClient,v),S=new ug;return Object.assign(S,x),S})}}}function gg(o){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&o[e],l=0;if(t)return t.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(o){return this instanceof $e?(this.v=o,this):new $e(o)}function Ul(o,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=t.apply(o,e||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),s[Symbol.asyncIterator]=function(){return this},s;function m(A){return function(E){return Promise.resolve(E).then(A,x)}}function h(A,E){l[A]&&(s[A]=function(D){return new Promise(function(I,w){r.push([A,D,I,w])>1||y(A,D)})},E&&(s[A]=E(s[A])))}function y(A,E){try{p(l[A](E))}catch(D){S(r[0][3],D)}}function p(A){A.value instanceof $e?Promise.resolve(A.value.v).then(v,x):S(r[0][2],A)}function v(A){y("next",A)}function x(A){y("throw",A)}function S(A,E){A(E),r.shift(),r.length&&y(r[0][0],r[0][1])}}function ea(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=o[Symbol.asyncIterator],t;return e?e.call(o):(o=typeof gg=="function"?gg(o):o[Symbol.iterator](),t={},l("next"),l("throw"),l("return"),t[Symbol.asyncIterator]=function(){return this},t);function l(r){t[r]=o[r]&&function(m){return new Promise(function(h,y){m=o[r](m),s(h,y,m.done,m.value)})}}function s(r,m,h,y){Promise.resolve(y).then(function(p){r({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(o){var e;if(o.candidates==null||o.candidates.length===0)return!1;const t=(e=o.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:my(t)}function my(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const e of o.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function GS(o){if(o.length!==0){for(const e of o)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function yg(o){if(o===void 0||o.length===0)return[];const e=[],t=o.length;let l=0;for(;l<t;)if(o[l].role==="user")e.push(o[l]),l++;else{const s=[];let r=!0;for(;l<t&&o[l].role==="model";)s.push(o[l]),r&&!my(o[l])&&(r=!1),l++;r?e.push(...s):e.pop()}return e}class zS{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new qS(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qS{constructor(e,t,l,s={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=l,this.config=s,this.history=r,this.sendPromise=Promise.resolve(),GS(r)}async sendMessage(e){var t;await this.sendPromise;const l=At(this.apiClient,e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,m,h;const y=await s,p=(m=(r=y.candidates)===null||r===void 0?void 0:r[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,x=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(x))!==null&&h!==void 0?h:[]);const A=p?[p]:[];this.recordHistory(l,A,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var t;await this.sendPromise;const l=At(this.apiClient,e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const r=await s;return this.processStreamResponse(r,l)}getHistory(e=!1){const t=e?yg(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var l,s;return Ul(this,arguments,function*(){var m,h,y,p;const v=[];try{for(var x=!0,S=ea(e),A;A=yield $e(S.next()),m=A.done,!m;x=!0){p=A.value,x=!1;const E=p;if(BS(E)){const D=(s=(l=E.candidates)===null||l===void 0?void 0:l[0])===null||s===void 0?void 0:s.content;D!==void 0&&v.push(D)}yield yield $e(E)}}catch(E){h={error:E}}finally{try{!x&&!m&&(y=S.return)&&(yield $e(y.call(S)))}finally{if(h)throw h.error}}this.recordHistory(t,v)})}recordHistory(e,t,l){let s=[];t.length>0&&t.every(r=>r.role!==void 0)?s=t:s.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...yg(l)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HS(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function FS(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],HS(o,l,t)),t}function YS(o,e){const t={},l=c(e,["details"]);l!=null&&f(t,["details"],l);const s=c(e,["message"]);s!=null&&f(t,["message"],s);const r=c(e,["code"]);return r!=null&&f(t,["code"],r),t}function ZS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["mimeType"]);r!=null&&f(t,["mimeType"],r);const m=c(e,["sizeBytes"]);m!=null&&f(t,["sizeBytes"],m);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const p=c(e,["updateTime"]);p!=null&&f(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&f(t,["sha256Hash"],v);const x=c(e,["uri"]);x!=null&&f(t,["uri"],x);const S=c(e,["downloadUri"]);S!=null&&f(t,["downloadUri"],S);const A=c(e,["state"]);A!=null&&f(t,["state"],A);const E=c(e,["source"]);E!=null&&f(t,["source"],E);const D=c(e,["videoMetadata"]);D!=null&&f(t,["videoMetadata"],D);const I=c(e,["error"]);return I!=null&&f(t,["error"],YS(o,I)),t}function $S(o,e){const t={},l=c(e,["file"]);l!=null&&f(t,["file"],ZS(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function KS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","file"],cy(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function JS(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","file"],cy(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function XS(o,e){const t={},l=c(e,["details"]);l!=null&&f(t,["details"],l);const s=c(e,["message"]);s!=null&&f(t,["message"],s);const r=c(e,["code"]);return r!=null&&f(t,["code"],r),t}function Lc(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["mimeType"]);r!=null&&f(t,["mimeType"],r);const m=c(e,["sizeBytes"]);m!=null&&f(t,["sizeBytes"],m);const h=c(e,["createTime"]);h!=null&&f(t,["createTime"],h);const y=c(e,["expirationTime"]);y!=null&&f(t,["expirationTime"],y);const p=c(e,["updateTime"]);p!=null&&f(t,["updateTime"],p);const v=c(e,["sha256Hash"]);v!=null&&f(t,["sha256Hash"],v);const x=c(e,["uri"]);x!=null&&f(t,["uri"],x);const S=c(e,["downloadUri"]);S!=null&&f(t,["downloadUri"],S);const A=c(e,["state"]);A!=null&&f(t,["state"],A);const E=c(e,["source"]);E!=null&&f(t,["source"],E);const D=c(e,["videoMetadata"]);D!=null&&f(t,["videoMetadata"],D);const I=c(e,["error"]);return I!=null&&f(t,["error"],XS(o,I)),t}function QS(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(m=>Lc(o,m))),f(t,["files"],r)}return t}function WS(){return{}}function jS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e_ extends zl{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Ks(Bl.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>Lc(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FS(this.apiClient,e);return r=ye("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=QS(this.apiClient,y),v=new TC;return Object.assign(v,p),v})}}async createInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$S(this.apiClient,e);return r=ye("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=WS(),p=new xC;return Object.assign(p,y),p})}}async get(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KS(this.apiClient,e);return r=ye("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Lc(this.apiClient,y))}}async delete(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=JS(this.apiClient,e);return r=ye("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(()=>{const y=jS(),p=new CC;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function t_(o,e){const t={},l=c(e,["voiceName"]);return l!=null&&f(t,["voiceName"],l),t}function n_(o,e){const t={},l=c(e,["voiceName"]);return l!=null&&f(t,["voiceName"],l),t}function py(o,e){const t={},l=c(e,["prebuiltVoiceConfig"]);return l!=null&&f(t,["prebuiltVoiceConfig"],t_(o,l)),t}function i_(o,e){const t={},l=c(e,["prebuiltVoiceConfig"]);return l!=null&&f(t,["prebuiltVoiceConfig"],n_(o,l)),t}function l_(o,e){const t={},l=c(e,["speaker"]);l!=null&&f(t,["speaker"],l);const s=c(e,["voiceConfig"]);return s!=null&&f(t,["voiceConfig"],py(o,s)),t}function o_(o,e){const t={},l=c(e,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>l_(o,r))),f(t,["speakerVoiceConfigs"],s)}return t}function a_(o,e){const t={},l=c(e,["voiceConfig"]);l!=null&&f(t,["voiceConfig"],py(o,l));const s=c(e,["multiSpeakerVoiceConfig"]);s!=null&&f(t,["multiSpeakerVoiceConfig"],o_(o,s));const r=c(e,["languageCode"]);return r!=null&&f(t,["languageCode"],r),t}function s_(o,e){const t={},l=c(e,["voiceConfig"]);if(l!=null&&f(t,["voiceConfig"],i_(o,l)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function r_(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function u_(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function c_(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function f_(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["data"]);s!=null&&f(t,["data"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function d_(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function m_(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["fileUri"]);s!=null&&f(t,["fileUri"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function p_(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],r_(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],c_(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],d_(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function h_(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],u_(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],f_(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],m_(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function g_(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>p_(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function y_(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>h_(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function v_(o,e){const t={},l=c(e,["behavior"]);l!=null&&f(t,["behavior"],l);const s=c(e,["description"]);s!=null&&f(t,["description"],s);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const m=c(e,["parameters"]);m!=null&&f(t,["parameters"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function T_(o,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(e,["description"]);l!=null&&f(t,["description"],l);const s=c(e,["name"]);s!=null&&f(t,["name"],s);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const m=c(e,["response"]);return m!=null&&f(t,["response"],m),t}function x_(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function C_(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function S_(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],x_(o,l)),t}function __(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],C_(o,l)),t}function E_(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function A_(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function N_(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],E_(o,l)),t}function M_(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],A_(o,l)),t}function R_(){return{}}function b_(o,e){const t={},l=c(e,["apiKeyString"]);return l!=null&&f(t,["apiKeyString"],l),t}function w_(o,e){const t={},l=c(e,["apiKeyConfig"]);l!=null&&f(t,["apiKeyConfig"],b_(o,l));const s=c(e,["authType"]);s!=null&&f(t,["authType"],s);const r=c(e,["googleServiceAccountConfig"]);r!=null&&f(t,["googleServiceAccountConfig"],r);const m=c(e,["httpBasicAuthConfig"]);m!=null&&f(t,["httpBasicAuthConfig"],m);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function D_(o,e){const t={},l=c(e,["authConfig"]);return l!=null&&f(t,["authConfig"],w_(o,l)),t}function I_(){return{}}function U_(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>v_(o,p))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(e,["googleSearch"]);s!=null&&f(t,["googleSearch"],S_(o,s));const r=c(e,["googleSearchRetrieval"]);if(r!=null&&f(t,["googleSearchRetrieval"],N_(o,r)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],I_());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function k_(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>T_(o,x))),f(t,["functionDeclarations"],v)}const s=c(e,["retrieval"]);s!=null&&f(t,["retrieval"],s);const r=c(e,["googleSearch"]);r!=null&&f(t,["googleSearch"],__(o,r));const m=c(e,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],M_(o,m)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],R_());const y=c(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],D_(o,y)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function L_(o,e){const t={},l=c(e,["handle"]);if(l!=null&&f(t,["handle"],l),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function O_(o,e){const t={},l=c(e,["handle"]);l!=null&&f(t,["handle"],l);const s=c(e,["transparent"]);return s!=null&&f(t,["transparent"],s),t}function vg(){return{}}function Tg(){return{}}function V_(o,e){const t={},l=c(e,["disabled"]);l!=null&&f(t,["disabled"],l);const s=c(e,["startOfSpeechSensitivity"]);s!=null&&f(t,["startOfSpeechSensitivity"],s);const r=c(e,["endOfSpeechSensitivity"]);r!=null&&f(t,["endOfSpeechSensitivity"],r);const m=c(e,["prefixPaddingMs"]);m!=null&&f(t,["prefixPaddingMs"],m);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function P_(o,e){const t={},l=c(e,["disabled"]);l!=null&&f(t,["disabled"],l);const s=c(e,["startOfSpeechSensitivity"]);s!=null&&f(t,["startOfSpeechSensitivity"],s);const r=c(e,["endOfSpeechSensitivity"]);r!=null&&f(t,["endOfSpeechSensitivity"],r);const m=c(e,["prefixPaddingMs"]);m!=null&&f(t,["prefixPaddingMs"],m);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function B_(o,e){const t={},l=c(e,["automaticActivityDetection"]);l!=null&&f(t,["automaticActivityDetection"],V_(o,l));const s=c(e,["activityHandling"]);s!=null&&f(t,["activityHandling"],s);const r=c(e,["turnCoverage"]);return r!=null&&f(t,["turnCoverage"],r),t}function G_(o,e){const t={},l=c(e,["automaticActivityDetection"]);l!=null&&f(t,["automaticActivityDetection"],P_(o,l));const s=c(e,["activityHandling"]);s!=null&&f(t,["activityHandling"],s);const r=c(e,["turnCoverage"]);return r!=null&&f(t,["turnCoverage"],r),t}function z_(o,e){const t={},l=c(e,["targetTokens"]);return l!=null&&f(t,["targetTokens"],l),t}function q_(o,e){const t={},l=c(e,["targetTokens"]);return l!=null&&f(t,["targetTokens"],l),t}function H_(o,e){const t={},l=c(e,["triggerTokens"]);l!=null&&f(t,["triggerTokens"],l);const s=c(e,["slidingWindow"]);return s!=null&&f(t,["slidingWindow"],z_(o,s)),t}function F_(o,e){const t={},l=c(e,["triggerTokens"]);l!=null&&f(t,["triggerTokens"],l);const s=c(e,["slidingWindow"]);return s!=null&&f(t,["slidingWindow"],q_(o,s)),t}function Y_(o,e){const t={},l=c(e,["proactiveAudio"]);return l!=null&&f(t,["proactiveAudio"],l),t}function Z_(o,e){const t={},l=c(e,["proactiveAudio"]);return l!=null&&f(t,["proactiveAudio"],l),t}function $_(o,e,t){const l={},s=c(e,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const m=c(e,["temperature"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","temperature"],m);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],a_(o,Qc(o,S)));const A=c(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const E=c(e,["systemInstruction"]);t!==void 0&&E!=null&&f(t,["setup","systemInstruction"],g_(o,At(o,E)));const D=c(e,["tools"]);if(t!==void 0&&D!=null){let $=ca(o,D);Array.isArray($)&&($=$.map(j=>U_(o,ua(o,j)))),f(t,["setup","tools"],$)}const I=c(e,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],L_(o,I));const w=c(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],vg());const k=c(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&f(t,["setup","outputAudioTranscription"],vg());const z=c(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],B_(o,z));const B=c(e,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],H_(o,B));const V=c(e,["proactivity"]);return t!==void 0&&V!=null&&f(t,["setup","proactivity"],Y_(o,V)),l}function K_(o,e,t){const l={},s=c(e,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const m=c(e,["temperature"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","temperature"],m);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],s_(o,Qc(o,S)));const A=c(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const E=c(e,["systemInstruction"]);t!==void 0&&E!=null&&f(t,["setup","systemInstruction"],y_(o,At(o,E)));const D=c(e,["tools"]);if(t!==void 0&&D!=null){let $=ca(o,D);Array.isArray($)&&($=$.map(j=>k_(o,ua(o,j)))),f(t,["setup","tools"],$)}const I=c(e,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],O_(o,I));const w=c(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],Tg());const k=c(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&f(t,["setup","outputAudioTranscription"],Tg());const z=c(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],G_(o,z));const B=c(e,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],F_(o,B));const V=c(e,["proactivity"]);return t!==void 0&&V!=null&&f(t,["setup","proactivity"],Z_(o,V)),l}function J_(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["setup","model"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],$_(o,s,t)),t}function X_(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["setup","model"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],K_(o,s,t)),t}function Q_(){return{}}function W_(){return{}}function j_(){return{}}function eE(){return{}}function tE(o,e){const t={},l=c(e,["media"]);l!=null&&f(t,["mediaChunks"],oy(o,l));const s=c(e,["audio"]);s!=null&&f(t,["audio"],AC(o,s));const r=c(e,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const m=c(e,["video"]);m!=null&&f(t,["video"],EC(o,m));const h=c(e,["text"]);return h!=null&&f(t,["text"],h),c(e,["activityStart"])!=null&&f(t,["activityStart"],Q_()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],j_()),t}function nE(o,e){const t={},l=c(e,["media"]);if(l!=null&&f(t,["mediaChunks"],oy(o,l)),c(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=c(e,["audioStreamEnd"]);if(s!=null&&f(t,["audioStreamEnd"],s),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(e,["activityStart"])!=null&&f(t,["activityStart"],W_()),c(e,["activityEnd"])!=null&&f(t,["activityEnd"],eE()),t}function hy(o,e){const t={},l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["weight"]);return s!=null&&f(t,["weight"],s),t}function iE(o,e){const t={},l=c(e,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>hy(o,r))),f(t,["weightedPrompts"],s)}return t}function gy(o,e){const t={},l=c(e,["temperature"]);l!=null&&f(t,["temperature"],l);const s=c(e,["topK"]);s!=null&&f(t,["topK"],s);const r=c(e,["seed"]);r!=null&&f(t,["seed"],r);const m=c(e,["guidance"]);m!=null&&f(t,["guidance"],m);const h=c(e,["bpm"]);h!=null&&f(t,["bpm"],h);const y=c(e,["density"]);y!=null&&f(t,["density"],y);const p=c(e,["brightness"]);p!=null&&f(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&f(t,["scale"],v);const x=c(e,["muteBass"]);x!=null&&f(t,["muteBass"],x);const S=c(e,["muteDrums"]);S!=null&&f(t,["muteDrums"],S);const A=c(e,["onlyBassAndDrums"]);return A!=null&&f(t,["onlyBassAndDrums"],A),t}function lE(o,e){const t={},l=c(e,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],gy(o,l)),t}function yy(o,e){const t={},l=c(e,["model"]);return l!=null&&f(t,["model"],l),t}function vy(o,e){const t={},l=c(e,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>hy(o,r))),f(t,["weightedPrompts"],s)}return t}function Oc(o,e){const t={},l=c(e,["setup"]);l!=null&&f(t,["setup"],yy(o,l));const s=c(e,["clientContent"]);s!=null&&f(t,["clientContent"],vy(o,s));const r=c(e,["musicGenerationConfig"]);r!=null&&f(t,["musicGenerationConfig"],gy(o,r));const m=c(e,["playbackControl"]);return m!=null&&f(t,["playbackControl"],m),t}function oE(){return{}}function aE(){return{}}function sE(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function rE(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function uE(o,e){const t={},l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function cE(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["data"]);s!=null&&f(t,["data"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function fE(o,e){const t={},l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function dE(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["fileUri"]);s!=null&&f(t,["fileUri"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function mE(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],sE(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],uE(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],fE(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function pE(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],rE(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],cE(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],dE(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function hE(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>mE(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function gE(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>pE(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function xg(o,e){const t={},l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["finished"]);return s!=null&&f(t,["finished"],s),t}function Cg(o,e){const t={},l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["finished"]);return s!=null&&f(t,["finished"],s),t}function yE(o,e){const t={},l=c(e,["retrievedUrl"]);l!=null&&f(t,["retrievedUrl"],l);const s=c(e,["urlRetrievalStatus"]);return s!=null&&f(t,["urlRetrievalStatus"],s),t}function vE(o,e){const t={},l=c(e,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>yE(o,r))),f(t,["urlMetadata"],s)}return t}function TE(o,e){const t={},l=c(e,["modelTurn"]);l!=null&&f(t,["modelTurn"],hE(o,l));const s=c(e,["turnComplete"]);s!=null&&f(t,["turnComplete"],s);const r=c(e,["interrupted"]);r!=null&&f(t,["interrupted"],r);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const h=c(e,["generationComplete"]);h!=null&&f(t,["generationComplete"],h);const y=c(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],xg(o,y));const p=c(e,["outputTranscription"]);p!=null&&f(t,["outputTranscription"],xg(o,p));const v=c(e,["urlContextMetadata"]);return v!=null&&f(t,["urlContextMetadata"],vE(o,v)),t}function xE(o,e){const t={},l=c(e,["modelTurn"]);l!=null&&f(t,["modelTurn"],gE(o,l));const s=c(e,["turnComplete"]);s!=null&&f(t,["turnComplete"],s);const r=c(e,["interrupted"]);r!=null&&f(t,["interrupted"],r);const m=c(e,["groundingMetadata"]);m!=null&&f(t,["groundingMetadata"],m);const h=c(e,["generationComplete"]);h!=null&&f(t,["generationComplete"],h);const y=c(e,["inputTranscription"]);y!=null&&f(t,["inputTranscription"],Cg(o,y));const p=c(e,["outputTranscription"]);return p!=null&&f(t,["outputTranscription"],Cg(o,p)),t}function CE(o,e){const t={},l=c(e,["id"]);l!=null&&f(t,["id"],l);const s=c(e,["args"]);s!=null&&f(t,["args"],s);const r=c(e,["name"]);return r!=null&&f(t,["name"],r),t}function SE(o,e){const t={},l=c(e,["args"]);l!=null&&f(t,["args"],l);const s=c(e,["name"]);return s!=null&&f(t,["name"],s),t}function _E(o,e){const t={},l=c(e,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>CE(o,r))),f(t,["functionCalls"],s)}return t}function EE(o,e){const t={},l=c(e,["functionCalls"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>SE(o,r))),f(t,["functionCalls"],s)}return t}function AE(o,e){const t={},l=c(e,["ids"]);return l!=null&&f(t,["ids"],l),t}function NE(o,e){const t={},l=c(e,["ids"]);return l!=null&&f(t,["ids"],l),t}function Rs(o,e){const t={},l=c(e,["modality"]);l!=null&&f(t,["modality"],l);const s=c(e,["tokenCount"]);return s!=null&&f(t,["tokenCount"],s),t}function bs(o,e){const t={},l=c(e,["modality"]);l!=null&&f(t,["modality"],l);const s=c(e,["tokenCount"]);return s!=null&&f(t,["tokenCount"],s),t}function ME(o,e){const t={},l=c(e,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const s=c(e,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=c(e,["responseTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&f(t,["toolUsePromptTokenCount"],m);const h=c(e,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const y=c(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const p=c(e,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(E=>Rs(o,E))),f(t,["promptTokensDetails"],A)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(E=>Rs(o,E))),f(t,["cacheTokensDetails"],A)}const x=c(e,["responseTokensDetails"]);if(x!=null){let A=x;Array.isArray(A)&&(A=A.map(E=>Rs(o,E))),f(t,["responseTokensDetails"],A)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(E=>Rs(o,E))),f(t,["toolUsePromptTokensDetails"],A)}return t}function RE(o,e){const t={},l=c(e,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const s=c(e,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=c(e,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const m=c(e,["toolUsePromptTokenCount"]);m!=null&&f(t,["toolUsePromptTokenCount"],m);const h=c(e,["thoughtsTokenCount"]);h!=null&&f(t,["thoughtsTokenCount"],h);const y=c(e,["totalTokenCount"]);y!=null&&f(t,["totalTokenCount"],y);const p=c(e,["promptTokensDetails"]);if(p!=null){let E=p;Array.isArray(E)&&(E=E.map(D=>bs(o,D))),f(t,["promptTokensDetails"],E)}const v=c(e,["cacheTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(D=>bs(o,D))),f(t,["cacheTokensDetails"],E)}const x=c(e,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(D=>bs(o,D))),f(t,["responseTokensDetails"],E)}const S=c(e,["toolUsePromptTokensDetails"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(D=>bs(o,D))),f(t,["toolUsePromptTokensDetails"],E)}const A=c(e,["trafficType"]);return A!=null&&f(t,["trafficType"],A),t}function bE(o,e){const t={},l=c(e,["timeLeft"]);return l!=null&&f(t,["timeLeft"],l),t}function wE(o,e){const t={},l=c(e,["timeLeft"]);return l!=null&&f(t,["timeLeft"],l),t}function DE(o,e){const t={},l=c(e,["newHandle"]);l!=null&&f(t,["newHandle"],l);const s=c(e,["resumable"]);s!=null&&f(t,["resumable"],s);const r=c(e,["lastConsumedClientMessageIndex"]);return r!=null&&f(t,["lastConsumedClientMessageIndex"],r),t}function IE(o,e){const t={},l=c(e,["newHandle"]);l!=null&&f(t,["newHandle"],l);const s=c(e,["resumable"]);s!=null&&f(t,["resumable"],s);const r=c(e,["lastConsumedClientMessageIndex"]);return r!=null&&f(t,["lastConsumedClientMessageIndex"],r),t}function UE(o,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],oE());const s=c(e,["serverContent"]);s!=null&&f(t,["serverContent"],TE(o,s));const r=c(e,["toolCall"]);r!=null&&f(t,["toolCall"],_E(o,r));const m=c(e,["toolCallCancellation"]);m!=null&&f(t,["toolCallCancellation"],AE(o,m));const h=c(e,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],ME(o,h));const y=c(e,["goAway"]);y!=null&&f(t,["goAway"],bE(o,y));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&f(t,["sessionResumptionUpdate"],DE(o,p)),t}function kE(o,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],aE());const s=c(e,["serverContent"]);s!=null&&f(t,["serverContent"],xE(o,s));const r=c(e,["toolCall"]);r!=null&&f(t,["toolCall"],EE(o,r));const m=c(e,["toolCallCancellation"]);m!=null&&f(t,["toolCallCancellation"],NE(o,m));const h=c(e,["usageMetadata"]);h!=null&&f(t,["usageMetadata"],RE(o,h));const y=c(e,["goAway"]);y!=null&&f(t,["goAway"],wE(o,y));const p=c(e,["sessionResumptionUpdate"]);return p!=null&&f(t,["sessionResumptionUpdate"],IE(o,p)),t}function LE(){return{}}function OE(o,e){const t={},l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["weight"]);return s!=null&&f(t,["weight"],s),t}function VE(o,e){const t={},l=c(e,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>OE(o,r))),f(t,["weightedPrompts"],s)}return t}function PE(o,e){const t={},l=c(e,["temperature"]);l!=null&&f(t,["temperature"],l);const s=c(e,["topK"]);s!=null&&f(t,["topK"],s);const r=c(e,["seed"]);r!=null&&f(t,["seed"],r);const m=c(e,["guidance"]);m!=null&&f(t,["guidance"],m);const h=c(e,["bpm"]);h!=null&&f(t,["bpm"],h);const y=c(e,["density"]);y!=null&&f(t,["density"],y);const p=c(e,["brightness"]);p!=null&&f(t,["brightness"],p);const v=c(e,["scale"]);v!=null&&f(t,["scale"],v);const x=c(e,["muteBass"]);x!=null&&f(t,["muteBass"],x);const S=c(e,["muteDrums"]);S!=null&&f(t,["muteDrums"],S);const A=c(e,["onlyBassAndDrums"]);return A!=null&&f(t,["onlyBassAndDrums"],A),t}function BE(o,e){const t={},l=c(e,["clientContent"]);l!=null&&f(t,["clientContent"],VE(o,l));const s=c(e,["musicGenerationConfig"]);return s!=null&&f(t,["musicGenerationConfig"],PE(o,s)),t}function GE(o,e){const t={},l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);s!=null&&f(t,["mimeType"],s);const r=c(e,["sourceMetadata"]);return r!=null&&f(t,["sourceMetadata"],BE(o,r)),t}function zE(o,e){const t={},l=c(e,["audioChunks"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>GE(o,r))),f(t,["audioChunks"],s)}return t}function qE(o,e){const t={},l=c(e,["text"]);l!=null&&f(t,["text"],l);const s=c(e,["filteredReason"]);return s!=null&&f(t,["filteredReason"],s),t}function HE(o,e){const t={};c(e,["setupComplete"])!=null&&f(t,["setupComplete"],LE());const s=c(e,["serverContent"]);s!=null&&f(t,["serverContent"],zE(o,s));const r=c(e,["filteredPrompt"]);return r!=null&&f(t,["filteredPrompt"],qE(o,r)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FE(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function YE(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function ZE(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function $E(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],FE(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],YE(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],ZE(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function Js(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>$E(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function KE(o,e){const t={},l=c(e,["anyOf"]);l!=null&&f(t,["anyOf"],l);const s=c(e,["default"]);s!=null&&f(t,["default"],s);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const m=c(e,["enum"]);m!=null&&f(t,["enum"],m);const h=c(e,["example"]);h!=null&&f(t,["example"],h);const y=c(e,["format"]);y!=null&&f(t,["format"],y);const p=c(e,["items"]);p!=null&&f(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&f(t,["maxItems"],v);const x=c(e,["maxLength"]);x!=null&&f(t,["maxLength"],x);const S=c(e,["maxProperties"]);S!=null&&f(t,["maxProperties"],S);const A=c(e,["maximum"]);A!=null&&f(t,["maximum"],A);const E=c(e,["minItems"]);E!=null&&f(t,["minItems"],E);const D=c(e,["minLength"]);D!=null&&f(t,["minLength"],D);const I=c(e,["minProperties"]);I!=null&&f(t,["minProperties"],I);const w=c(e,["minimum"]);w!=null&&f(t,["minimum"],w);const k=c(e,["nullable"]);k!=null&&f(t,["nullable"],k);const z=c(e,["pattern"]);z!=null&&f(t,["pattern"],z);const B=c(e,["properties"]);B!=null&&f(t,["properties"],B);const V=c(e,["propertyOrdering"]);V!=null&&f(t,["propertyOrdering"],V);const $=c(e,["required"]);$!=null&&f(t,["required"],$);const j=c(e,["title"]);j!=null&&f(t,["title"],j);const ie=c(e,["type"]);return ie!=null&&f(t,["type"],ie),t}function JE(o,e){const t={};if(c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(e,["category"]);l!=null&&f(t,["category"],l);const s=c(e,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function XE(o,e){const t={},l=c(e,["behavior"]);l!=null&&f(t,["behavior"],l);const s=c(e,["description"]);s!=null&&f(t,["description"],s);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const m=c(e,["parameters"]);m!=null&&f(t,["parameters"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function QE(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function WE(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],QE(o,l)),t}function jE(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function eA(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],jE(o,l)),t}function tA(){return{}}function nA(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>XE(o,p))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(e,["googleSearch"]);s!=null&&f(t,["googleSearch"],WE(o,s));const r=c(e,["googleSearchRetrieval"]);if(r!=null&&f(t,["googleSearchRetrieval"],eA(o,r)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],tA());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function iA(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["allowedFunctionNames"]);return s!=null&&f(t,["allowedFunctionNames"],s),t}function lA(o,e){const t={},l=c(e,["latitude"]);l!=null&&f(t,["latitude"],l);const s=c(e,["longitude"]);return s!=null&&f(t,["longitude"],s),t}function oA(o,e){const t={},l=c(e,["latLng"]);l!=null&&f(t,["latLng"],lA(o,l));const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function aA(o,e){const t={},l=c(e,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],iA(o,l));const s=c(e,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],oA(o,s)),t}function sA(o,e){const t={},l=c(e,["voiceName"]);return l!=null&&f(t,["voiceName"],l),t}function Ty(o,e){const t={},l=c(e,["prebuiltVoiceConfig"]);return l!=null&&f(t,["prebuiltVoiceConfig"],sA(o,l)),t}function rA(o,e){const t={},l=c(e,["speaker"]);l!=null&&f(t,["speaker"],l);const s=c(e,["voiceConfig"]);return s!=null&&f(t,["voiceConfig"],Ty(o,s)),t}function uA(o,e){const t={},l=c(e,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>rA(o,r))),f(t,["speakerVoiceConfigs"],s)}return t}function cA(o,e){const t={},l=c(e,["voiceConfig"]);l!=null&&f(t,["voiceConfig"],Ty(o,l));const s=c(e,["multiSpeakerVoiceConfig"]);s!=null&&f(t,["multiSpeakerVoiceConfig"],uA(o,s));const r=c(e,["languageCode"]);return r!=null&&f(t,["languageCode"],r),t}function fA(o,e){const t={},l=c(e,["includeThoughts"]);l!=null&&f(t,["includeThoughts"],l);const s=c(e,["thinkingBudget"]);return s!=null&&f(t,["thinkingBudget"],s),t}function dA(o,e,t){const l={},s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],Js(o,At(o,s)));const r=c(e,["temperature"]);r!=null&&f(l,["temperature"],r);const m=c(e,["topP"]);m!=null&&f(l,["topP"],m);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const p=c(e,["maxOutputTokens"]);p!=null&&f(l,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const x=c(e,["responseLogprobs"]);x!=null&&f(l,["responseLogprobs"],x);const S=c(e,["logprobs"]);S!=null&&f(l,["logprobs"],S);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const E=c(e,["frequencyPenalty"]);E!=null&&f(l,["frequencyPenalty"],E);const D=c(e,["seed"]);D!=null&&f(l,["seed"],D);const I=c(e,["responseMimeType"]);I!=null&&f(l,["responseMimeType"],I);const w=c(e,["responseSchema"]);if(w!=null&&f(l,["responseSchema"],KE(o,Fs(o,w))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=c(e,["safetySettings"]);if(t!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(Me=>JE(o,Me))),f(t,["safetySettings"],J)}const z=c(e,["tools"]);if(t!==void 0&&z!=null){let J=ca(o,z);Array.isArray(J)&&(J=J.map(Me=>nA(o,ua(o,Me)))),f(t,["tools"],J)}const B=c(e,["toolConfig"]);if(t!==void 0&&B!=null&&f(t,["toolConfig"],aA(o,B)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=c(e,["cachedContent"]);t!==void 0&&V!=null&&f(t,["cachedContent"],mi(o,V));const $=c(e,["responseModalities"]);$!=null&&f(l,["responseModalities"],$);const j=c(e,["mediaResolution"]);j!=null&&f(l,["mediaResolution"],j);const ie=c(e,["speechConfig"]);if(ie!=null&&f(l,["speechConfig"],cA(o,ry(o,ie))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=c(e,["thinkingConfig"]);return K!=null&&f(l,["thinkingConfig"],fA(o,K)),l}function Sg(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);if(s!=null){let m=ln(o,s);Array.isArray(m)&&(m=m.map(h=>Js(o,h))),f(t,["contents"],m)}const r=c(e,["config"]);return r!=null&&f(t,["generationConfig"],dA(o,r,t)),t}function mA(o,e,t){const l={},s=c(e,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=c(e,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const m=c(e,["outputDimensionality"]);if(t!==void 0&&m!=null&&f(t,["requests[]","outputDimensionality"],m),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function pA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);s!=null&&f(t,["requests[]","content"],sy(o,s));const r=c(e,["config"]);r!=null&&f(t,["config"],mA(o,r,t));const m=c(e,["model"]);return m!==void 0&&f(t,["requests[]","model"],Ye(o,m)),t}function hA(o,e,t){const l={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(e,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=c(e,["aspectRatio"]);t!==void 0&&r!=null&&f(t,["parameters","aspectRatio"],r);const m=c(e,["guidanceScale"]);if(t!==void 0&&m!=null&&f(t,["parameters","guidanceScale"],m),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const y=c(e,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const p=c(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&f(t,["parameters","includeSafetyAttributes"],p);const v=c(e,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const x=c(e,["language"]);t!==void 0&&x!=null&&f(t,["parameters","language"],x);const S=c(e,["outputMimeType"]);t!==void 0&&S!=null&&f(t,["parameters","outputOptions","mimeType"],S);const A=c(e,["outputCompressionQuality"]);if(t!==void 0&&A!=null&&f(t,["parameters","outputOptions","compressionQuality"],A),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function gA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["prompt"]);s!=null&&f(t,["instances[0]","prompt"],s);const r=c(e,["config"]);return r!=null&&f(t,["config"],hA(o,r,t)),t}function yA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","name"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function vA(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const m=c(e,["filter"]);t!==void 0&&m!=null&&f(t,["_query","filter"],m);const h=c(e,["queryBase"]);return t!==void 0&&h!=null&&f(t,["_url","models_url"],fy(o,h)),l}function TA(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],vA(o,l,t)),t}function xA(o,e,t){const l={},s=c(e,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=c(e,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),l}function CA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","name"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],xA(o,s,t)),t}function SA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","name"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function _A(o,e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function EA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);if(s!=null){let m=ln(o,s);Array.isArray(m)&&(m=m.map(h=>Js(o,h))),f(t,["contents"],m)}const r=c(e,["config"]);return r!=null&&f(t,["config"],_A(o,r)),t}function AA(o,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=c(e,["imageBytes"]);l!=null&&f(t,["bytesBase64Encoded"],pi(o,l));const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function NA(o,e,t){const l={},s=c(e,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(e,["durationSeconds"]);if(t!==void 0&&r!=null&&f(t,["parameters","durationSeconds"],r),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=c(e,["aspectRatio"]);if(t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m),c(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=c(e,["personGeneration"]);if(t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(e,["negativePrompt"]);if(t!==void 0&&y!=null&&f(t,["parameters","negativePrompt"],y),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return l}function MA(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["prompt"]);s!=null&&f(t,["instances[0]","prompt"],s);const r=c(e,["image"]);r!=null&&f(t,["instances[0]","image"],AA(o,r));const m=c(e,["config"]);return m!=null&&f(t,["config"],NA(o,m,t)),t}function RA(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function bA(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["data"]);s!=null&&f(t,["data"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function wA(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["fileUri"]);s!=null&&f(t,["fileUri"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function DA(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],RA(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],bA(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],wA(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function ql(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>DA(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function IA(o,e){const t={},l=c(e,["anyOf"]);l!=null&&f(t,["anyOf"],l);const s=c(e,["default"]);s!=null&&f(t,["default"],s);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const m=c(e,["enum"]);m!=null&&f(t,["enum"],m);const h=c(e,["example"]);h!=null&&f(t,["example"],h);const y=c(e,["format"]);y!=null&&f(t,["format"],y);const p=c(e,["items"]);p!=null&&f(t,["items"],p);const v=c(e,["maxItems"]);v!=null&&f(t,["maxItems"],v);const x=c(e,["maxLength"]);x!=null&&f(t,["maxLength"],x);const S=c(e,["maxProperties"]);S!=null&&f(t,["maxProperties"],S);const A=c(e,["maximum"]);A!=null&&f(t,["maximum"],A);const E=c(e,["minItems"]);E!=null&&f(t,["minItems"],E);const D=c(e,["minLength"]);D!=null&&f(t,["minLength"],D);const I=c(e,["minProperties"]);I!=null&&f(t,["minProperties"],I);const w=c(e,["minimum"]);w!=null&&f(t,["minimum"],w);const k=c(e,["nullable"]);k!=null&&f(t,["nullable"],k);const z=c(e,["pattern"]);z!=null&&f(t,["pattern"],z);const B=c(e,["properties"]);B!=null&&f(t,["properties"],B);const V=c(e,["propertyOrdering"]);V!=null&&f(t,["propertyOrdering"],V);const $=c(e,["required"]);$!=null&&f(t,["required"],$);const j=c(e,["title"]);j!=null&&f(t,["title"],j);const ie=c(e,["type"]);return ie!=null&&f(t,["type"],ie),t}function UA(o,e){const t={},l=c(e,["featureSelectionPreference"]);return l!=null&&f(t,["featureSelectionPreference"],l),t}function kA(o,e){const t={},l=c(e,["method"]);l!=null&&f(t,["method"],l);const s=c(e,["category"]);s!=null&&f(t,["category"],s);const r=c(e,["threshold"]);return r!=null&&f(t,["threshold"],r),t}function LA(o,e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=c(e,["description"]);l!=null&&f(t,["description"],l);const s=c(e,["name"]);s!=null&&f(t,["name"],s);const r=c(e,["parameters"]);r!=null&&f(t,["parameters"],r);const m=c(e,["response"]);return m!=null&&f(t,["response"],m),t}function OA(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function VA(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],OA(o,l)),t}function PA(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function BA(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],PA(o,l)),t}function GA(){return{}}function zA(o,e){const t={},l=c(e,["apiKeyString"]);return l!=null&&f(t,["apiKeyString"],l),t}function qA(o,e){const t={},l=c(e,["apiKeyConfig"]);l!=null&&f(t,["apiKeyConfig"],zA(o,l));const s=c(e,["authType"]);s!=null&&f(t,["authType"],s);const r=c(e,["googleServiceAccountConfig"]);r!=null&&f(t,["googleServiceAccountConfig"],r);const m=c(e,["httpBasicAuthConfig"]);m!=null&&f(t,["httpBasicAuthConfig"],m);const h=c(e,["oauthConfig"]);h!=null&&f(t,["oauthConfig"],h);const y=c(e,["oidcConfig"]);return y!=null&&f(t,["oidcConfig"],y),t}function HA(o,e){const t={},l=c(e,["authConfig"]);return l!=null&&f(t,["authConfig"],qA(o,l)),t}function xy(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(x=>LA(o,x))),f(t,["functionDeclarations"],v)}const s=c(e,["retrieval"]);s!=null&&f(t,["retrieval"],s);const r=c(e,["googleSearch"]);r!=null&&f(t,["googleSearch"],VA(o,r));const m=c(e,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],BA(o,m)),c(e,["enterpriseWebSearch"])!=null&&f(t,["enterpriseWebSearch"],GA());const y=c(e,["googleMaps"]);if(y!=null&&f(t,["googleMaps"],HA(o,y)),c(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const p=c(e,["codeExecution"]);return p!=null&&f(t,["codeExecution"],p),t}function FA(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["allowedFunctionNames"]);return s!=null&&f(t,["allowedFunctionNames"],s),t}function YA(o,e){const t={},l=c(e,["latitude"]);l!=null&&f(t,["latitude"],l);const s=c(e,["longitude"]);return s!=null&&f(t,["longitude"],s),t}function ZA(o,e){const t={},l=c(e,["latLng"]);l!=null&&f(t,["latLng"],YA(o,l));const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function $A(o,e){const t={},l=c(e,["functionCallingConfig"]);l!=null&&f(t,["functionCallingConfig"],FA(o,l));const s=c(e,["retrievalConfig"]);return s!=null&&f(t,["retrievalConfig"],ZA(o,s)),t}function KA(o,e){const t={},l=c(e,["voiceName"]);return l!=null&&f(t,["voiceName"],l),t}function JA(o,e){const t={},l=c(e,["prebuiltVoiceConfig"]);return l!=null&&f(t,["prebuiltVoiceConfig"],KA(o,l)),t}function XA(o,e){const t={},l=c(e,["voiceConfig"]);if(l!=null&&f(t,["voiceConfig"],JA(o,l)),c(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=c(e,["languageCode"]);return s!=null&&f(t,["languageCode"],s),t}function QA(o,e){const t={},l=c(e,["includeThoughts"]);l!=null&&f(t,["includeThoughts"],l);const s=c(e,["thinkingBudget"]);return s!=null&&f(t,["thinkingBudget"],s),t}function WA(o,e,t){const l={},s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],ql(o,At(o,s)));const r=c(e,["temperature"]);r!=null&&f(l,["temperature"],r);const m=c(e,["topP"]);m!=null&&f(l,["topP"],m);const h=c(e,["topK"]);h!=null&&f(l,["topK"],h);const y=c(e,["candidateCount"]);y!=null&&f(l,["candidateCount"],y);const p=c(e,["maxOutputTokens"]);p!=null&&f(l,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&f(l,["stopSequences"],v);const x=c(e,["responseLogprobs"]);x!=null&&f(l,["responseLogprobs"],x);const S=c(e,["logprobs"]);S!=null&&f(l,["logprobs"],S);const A=c(e,["presencePenalty"]);A!=null&&f(l,["presencePenalty"],A);const E=c(e,["frequencyPenalty"]);E!=null&&f(l,["frequencyPenalty"],E);const D=c(e,["seed"]);D!=null&&f(l,["seed"],D);const I=c(e,["responseMimeType"]);I!=null&&f(l,["responseMimeType"],I);const w=c(e,["responseSchema"]);w!=null&&f(l,["responseSchema"],IA(o,Fs(o,w)));const k=c(e,["routingConfig"]);k!=null&&f(l,["routingConfig"],k);const z=c(e,["modelSelectionConfig"]);z!=null&&f(l,["modelConfig"],UA(o,z));const B=c(e,["safetySettings"]);if(t!==void 0&&B!=null){let Qe=B;Array.isArray(Qe)&&(Qe=Qe.map(he=>kA(o,he))),f(t,["safetySettings"],Qe)}const V=c(e,["tools"]);if(t!==void 0&&V!=null){let Qe=ca(o,V);Array.isArray(Qe)&&(Qe=Qe.map(he=>xy(o,ua(o,he)))),f(t,["tools"],Qe)}const $=c(e,["toolConfig"]);t!==void 0&&$!=null&&f(t,["toolConfig"],$A(o,$));const j=c(e,["labels"]);t!==void 0&&j!=null&&f(t,["labels"],j);const ie=c(e,["cachedContent"]);t!==void 0&&ie!=null&&f(t,["cachedContent"],mi(o,ie));const K=c(e,["responseModalities"]);K!=null&&f(l,["responseModalities"],K);const J=c(e,["mediaResolution"]);J!=null&&f(l,["mediaResolution"],J);const Me=c(e,["speechConfig"]);Me!=null&&f(l,["speechConfig"],XA(o,ry(o,Me)));const qe=c(e,["audioTimestamp"]);qe!=null&&f(l,["audioTimestamp"],qe);const nt=c(e,["thinkingConfig"]);return nt!=null&&f(l,["thinkingConfig"],QA(o,nt)),l}function _g(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);if(s!=null){let m=ln(o,s);Array.isArray(m)&&(m=m.map(h=>ql(o,h))),f(t,["contents"],m)}const r=c(e,["config"]);return r!=null&&f(t,["generationConfig"],WA(o,r,t)),t}function jA(o,e,t){const l={},s=c(e,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const r=c(e,["title"]);t!==void 0&&r!=null&&f(t,["instances[]","title"],r);const m=c(e,["outputDimensionality"]);t!==void 0&&m!=null&&f(t,["parameters","outputDimensionality"],m);const h=c(e,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const y=c(e,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),l}function eN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);s!=null&&f(t,["instances[]","content"],sy(o,s));const r=c(e,["config"]);return r!=null&&f(t,["config"],jA(o,r,t)),t}function tN(o,e,t){const l={},s=c(e,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const h=c(e,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const p=c(e,["seed"]);t!==void 0&&p!=null&&f(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const A=c(e,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const E=c(e,["language"]);t!==void 0&&E!=null&&f(t,["parameters","language"],E);const D=c(e,["outputMimeType"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","mimeType"],D);const I=c(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const k=c(e,["enhancePrompt"]);return t!==void 0&&k!=null&&f(t,["parameters","enhancePrompt"],k),l}function nN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["prompt"]);s!=null&&f(t,["instances[0]","prompt"],s);const r=c(e,["config"]);return r!=null&&f(t,["config"],tN(o,r,t)),t}function Wc(o,e){const t={},l=c(e,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=c(e,["imageBytes"]);s!=null&&f(t,["bytesBase64Encoded"],pi(o,s));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function iN(o,e){const t={},l=c(e,["maskMode"]);l!=null&&f(t,["maskMode"],l);const s=c(e,["segmentationClasses"]);s!=null&&f(t,["maskClasses"],s);const r=c(e,["maskDilation"]);return r!=null&&f(t,["dilation"],r),t}function lN(o,e){const t={},l=c(e,["controlType"]);l!=null&&f(t,["controlType"],l);const s=c(e,["enableControlImageComputation"]);return s!=null&&f(t,["computeControl"],s),t}function oN(o,e){const t={},l=c(e,["styleDescription"]);return l!=null&&f(t,["styleDescription"],l),t}function aN(o,e){const t={},l=c(e,["subjectType"]);l!=null&&f(t,["subjectType"],l);const s=c(e,["subjectDescription"]);return s!=null&&f(t,["subjectDescription"],s),t}function sN(o,e){const t={},l=c(e,["referenceImage"]);l!=null&&f(t,["referenceImage"],Wc(o,l));const s=c(e,["referenceId"]);s!=null&&f(t,["referenceId"],s);const r=c(e,["referenceType"]);r!=null&&f(t,["referenceType"],r);const m=c(e,["maskImageConfig"]);m!=null&&f(t,["maskImageConfig"],iN(o,m));const h=c(e,["controlImageConfig"]);h!=null&&f(t,["controlImageConfig"],lN(o,h));const y=c(e,["styleImageConfig"]);y!=null&&f(t,["styleImageConfig"],oN(o,y));const p=c(e,["subjectImageConfig"]);return p!=null&&f(t,["subjectImageConfig"],aN(o,p)),t}function rN(o,e,t){const l={},s=c(e,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const r=c(e,["negativePrompt"]);t!==void 0&&r!=null&&f(t,["parameters","negativePrompt"],r);const m=c(e,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const h=c(e,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=c(e,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const p=c(e,["seed"]);t!==void 0&&p!=null&&f(t,["parameters","seed"],p);const v=c(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&f(t,["parameters","includeSafetyAttributes"],S);const A=c(e,["includeRaiReason"]);t!==void 0&&A!=null&&f(t,["parameters","includeRaiReason"],A);const E=c(e,["language"]);t!==void 0&&E!=null&&f(t,["parameters","language"],E);const D=c(e,["outputMimeType"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","mimeType"],D);const I=c(e,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const w=c(e,["editMode"]);t!==void 0&&w!=null&&f(t,["parameters","editMode"],w);const k=c(e,["baseSteps"]);return t!==void 0&&k!=null&&f(t,["parameters","editConfig","baseSteps"],k),l}function uN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["prompt"]);s!=null&&f(t,["instances[0]","prompt"],s);const r=c(e,["referenceImages"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>sN(o,y))),f(t,["instances[0]","referenceImages"],h)}const m=c(e,["config"]);return m!=null&&f(t,["config"],rN(o,m,t)),t}function cN(o,e,t){const l={},s=c(e,["includeRaiReason"]);t!==void 0&&s!=null&&f(t,["parameters","includeRaiReason"],s);const r=c(e,["outputMimeType"]);t!==void 0&&r!=null&&f(t,["parameters","outputOptions","mimeType"],r);const m=c(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const h=c(e,["numberOfImages"]);t!==void 0&&h!=null&&f(t,["parameters","sampleCount"],h);const y=c(e,["mode"]);return t!==void 0&&y!=null&&f(t,["parameters","mode"],y),l}function fN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["image"]);s!=null&&f(t,["instances[0]","image"],Wc(o,s));const r=c(e,["upscaleFactor"]);r!=null&&f(t,["parameters","upscaleConfig","upscaleFactor"],r);const m=c(e,["config"]);return m!=null&&f(t,["config"],cN(o,m,t)),t}function dN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","name"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function mN(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const m=c(e,["filter"]);t!==void 0&&m!=null&&f(t,["_query","filter"],m);const h=c(e,["queryBase"]);return t!==void 0&&h!=null&&f(t,["_url","models_url"],fy(o,h)),l}function pN(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],mN(o,l,t)),t}function hN(o,e,t){const l={},s=c(e,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=c(e,["description"]);t!==void 0&&r!=null&&f(t,["description"],r);const m=c(e,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),l}function gN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],hN(o,s,t)),t}function yN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","name"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function vN(o,e,t){const l={},s=c(e,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],ql(o,At(o,s)));const r=c(e,["tools"]);if(t!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>xy(o,y))),f(t,["tools"],h)}const m=c(e,["generationConfig"]);return t!==void 0&&m!=null&&f(t,["generationConfig"],m),l}function TN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);if(s!=null){let m=ln(o,s);Array.isArray(m)&&(m=m.map(h=>ql(o,h))),f(t,["contents"],m)}const r=c(e,["config"]);return r!=null&&f(t,["config"],vN(o,r,t)),t}function xN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["contents"]);if(s!=null){let m=ln(o,s);Array.isArray(m)&&(m=m.map(h=>ql(o,h))),f(t,["contents"],m)}const r=c(e,["config"]);return r!=null&&f(t,["config"],r),t}function CN(o,e,t){const l={},s=c(e,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const r=c(e,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const m=c(e,["fps"]);t!==void 0&&m!=null&&f(t,["parameters","fps"],m);const h=c(e,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const y=c(e,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const p=c(e,["aspectRatio"]);t!==void 0&&p!=null&&f(t,["parameters","aspectRatio"],p);const v=c(e,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const x=c(e,["personGeneration"]);t!==void 0&&x!=null&&f(t,["parameters","personGeneration"],x);const S=c(e,["pubsubTopic"]);t!==void 0&&S!=null&&f(t,["parameters","pubsubTopic"],S);const A=c(e,["negativePrompt"]);t!==void 0&&A!=null&&f(t,["parameters","negativePrompt"],A);const E=c(e,["enhancePrompt"]);t!==void 0&&E!=null&&f(t,["parameters","enhancePrompt"],E);const D=c(e,["generateAudio"]);return t!==void 0&&D!=null&&f(t,["parameters","generateAudio"],D),l}function SN(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["_url","model"],Ye(o,l));const s=c(e,["prompt"]);s!=null&&f(t,["instances[0]","prompt"],s);const r=c(e,["image"]);r!=null&&f(t,["instances[0]","image"],Wc(o,r));const m=c(e,["config"]);return m!=null&&f(t,["config"],CN(o,m,t)),t}function _N(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function EN(o,e){const t={},l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function AN(o,e){const t={},l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function NN(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],_N(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],EN(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],AN(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function MN(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>NN(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function RN(o,e){const t={},l=c(e,["citationSources"]);return l!=null&&f(t,["citations"],l),t}function bN(o,e){const t={},l=c(e,["retrievedUrl"]);l!=null&&f(t,["retrievedUrl"],l);const s=c(e,["urlRetrievalStatus"]);return s!=null&&f(t,["urlRetrievalStatus"],s),t}function wN(o,e){const t={},l=c(e,["urlMetadata"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>bN(o,r))),f(t,["urlMetadata"],s)}return t}function DN(o,e){const t={},l=c(e,["content"]);l!=null&&f(t,["content"],MN(o,l));const s=c(e,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],RN(o,s));const r=c(e,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const m=c(e,["finishReason"]);m!=null&&f(t,["finishReason"],m);const h=c(e,["urlContextMetadata"]);h!=null&&f(t,["urlContextMetadata"],wN(o,h));const y=c(e,["avgLogprobs"]);y!=null&&f(t,["avgLogprobs"],y);const p=c(e,["groundingMetadata"]);p!=null&&f(t,["groundingMetadata"],p);const v=c(e,["index"]);v!=null&&f(t,["index"],v);const x=c(e,["logprobsResult"]);x!=null&&f(t,["logprobsResult"],x);const S=c(e,["safetyRatings"]);return S!=null&&f(t,["safetyRatings"],S),t}function Eg(o,e){const t={},l=c(e,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>DN(o,y))),f(t,["candidates"],h)}const s=c(e,["modelVersion"]);s!=null&&f(t,["modelVersion"],s);const r=c(e,["promptFeedback"]);r!=null&&f(t,["promptFeedback"],r);const m=c(e,["usageMetadata"]);return m!=null&&f(t,["usageMetadata"],m),t}function IN(o,e){const t={},l=c(e,["values"]);return l!=null&&f(t,["values"],l),t}function UN(){return{}}function kN(o,e){const t={},l=c(e,["embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>IN(o,m))),f(t,["embeddings"],r)}return c(e,["metadata"])!=null&&f(t,["metadata"],UN()),t}function LN(o,e){const t={},l=c(e,["bytesBase64Encoded"]);l!=null&&f(t,["imageBytes"],pi(o,l));const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Cy(o,e){const t={},l=c(e,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=c(e,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=c(e,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function ON(o,e){const t={},l=c(e,["_self"]);l!=null&&f(t,["image"],LN(o,l));const s=c(e,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=c(e,["_self"]);return r!=null&&f(t,["safetyAttributes"],Cy(o,r)),t}function VN(o,e){const t={},l=c(e,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>ON(o,m))),f(t,["generatedImages"],r)}const s=c(e,["positivePromptSafetyAttributes"]);return s!=null&&f(t,["positivePromptSafetyAttributes"],Cy(o,s)),t}function PN(o,e){const t={},l=c(e,["baseModel"]);l!=null&&f(t,["baseModel"],l);const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const r=c(e,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function Vc(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const m=c(e,["version"]);m!=null&&f(t,["version"],m);const h=c(e,["_self"]);h!=null&&f(t,["tunedModelInfo"],PN(o,h));const y=c(e,["inputTokenLimit"]);y!=null&&f(t,["inputTokenLimit"],y);const p=c(e,["outputTokenLimit"]);p!=null&&f(t,["outputTokenLimit"],p);const v=c(e,["supportedGenerationMethods"]);return v!=null&&f(t,["supportedActions"],v),t}function BN(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["_self"]);if(s!=null){let r=dy(o,s);Array.isArray(r)&&(r=r.map(m=>Vc(o,m))),f(t,["models"],r)}return t}function GN(){return{}}function zN(o,e){const t={},l=c(e,["totalTokens"]);l!=null&&f(t,["totalTokens"],l);const s=c(e,["cachedContentTokenCount"]);return s!=null&&f(t,["cachedContentTokenCount"],s),t}function qN(o,e){const t={},l=c(e,["video","uri"]);l!=null&&f(t,["uri"],l);const s=c(e,["video","encodedVideo"]);s!=null&&f(t,["videoBytes"],pi(o,s));const r=c(e,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function HN(o,e){const t={},l=c(e,["_self"]);return l!=null&&f(t,["video"],qN(o,l)),t}function FN(o,e){const t={},l=c(e,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>HN(o,h))),f(t,["generatedVideos"],m)}const s=c(e,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function YN(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["metadata"]);s!=null&&f(t,["metadata"],s);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const m=c(e,["error"]);m!=null&&f(t,["error"],m);const h=c(e,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],FN(o,h)),t}function ZN(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function $N(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["data"]);s!=null&&f(t,["data"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function KN(o,e){const t={},l=c(e,["displayName"]);l!=null&&f(t,["displayName"],l);const s=c(e,["fileUri"]);s!=null&&f(t,["fileUri"],s);const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function JN(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],ZN(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],$N(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],KN(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function XN(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>JN(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function QN(o,e){const t={},l=c(e,["citations"]);return l!=null&&f(t,["citations"],l),t}function WN(o,e){const t={},l=c(e,["content"]);l!=null&&f(t,["content"],XN(o,l));const s=c(e,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],QN(o,s));const r=c(e,["finishMessage"]);r!=null&&f(t,["finishMessage"],r);const m=c(e,["finishReason"]);m!=null&&f(t,["finishReason"],m);const h=c(e,["avgLogprobs"]);h!=null&&f(t,["avgLogprobs"],h);const y=c(e,["groundingMetadata"]);y!=null&&f(t,["groundingMetadata"],y);const p=c(e,["index"]);p!=null&&f(t,["index"],p);const v=c(e,["logprobsResult"]);v!=null&&f(t,["logprobsResult"],v);const x=c(e,["safetyRatings"]);return x!=null&&f(t,["safetyRatings"],x),t}function Ag(o,e){const t={},l=c(e,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>WN(o,v))),f(t,["candidates"],p)}const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const r=c(e,["responseId"]);r!=null&&f(t,["responseId"],r);const m=c(e,["modelVersion"]);m!=null&&f(t,["modelVersion"],m);const h=c(e,["promptFeedback"]);h!=null&&f(t,["promptFeedback"],h);const y=c(e,["usageMetadata"]);return y!=null&&f(t,["usageMetadata"],y),t}function jN(o,e){const t={},l=c(e,["truncated"]);l!=null&&f(t,["truncated"],l);const s=c(e,["token_count"]);return s!=null&&f(t,["tokenCount"],s),t}function eM(o,e){const t={},l=c(e,["values"]);l!=null&&f(t,["values"],l);const s=c(e,["statistics"]);return s!=null&&f(t,["statistics"],jN(o,s)),t}function tM(o,e){const t={},l=c(e,["billableCharacterCount"]);return l!=null&&f(t,["billableCharacterCount"],l),t}function nM(o,e){const t={},l=c(e,["predictions[]","embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>eM(o,m))),f(t,["embeddings"],r)}const s=c(e,["metadata"]);return s!=null&&f(t,["metadata"],tM(o,s)),t}function iM(o,e){const t={},l=c(e,["gcsUri"]);l!=null&&f(t,["gcsUri"],l);const s=c(e,["bytesBase64Encoded"]);s!=null&&f(t,["imageBytes"],pi(o,s));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function Sy(o,e){const t={},l=c(e,["safetyAttributes","categories"]);l!=null&&f(t,["categories"],l);const s=c(e,["safetyAttributes","scores"]);s!=null&&f(t,["scores"],s);const r=c(e,["contentType"]);return r!=null&&f(t,["contentType"],r),t}function jc(o,e){const t={},l=c(e,["_self"]);l!=null&&f(t,["image"],iM(o,l));const s=c(e,["raiFilteredReason"]);s!=null&&f(t,["raiFilteredReason"],s);const r=c(e,["_self"]);r!=null&&f(t,["safetyAttributes"],Sy(o,r));const m=c(e,["prompt"]);return m!=null&&f(t,["enhancedPrompt"],m),t}function lM(o,e){const t={},l=c(e,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>jc(o,m))),f(t,["generatedImages"],r)}const s=c(e,["positivePromptSafetyAttributes"]);return s!=null&&f(t,["positivePromptSafetyAttributes"],Sy(o,s)),t}function oM(o,e){const t={},l=c(e,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>jc(o,r))),f(t,["generatedImages"],s)}return t}function aM(o,e){const t={},l=c(e,["predictions"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>jc(o,r))),f(t,["generatedImages"],s)}return t}function sM(o,e){const t={},l=c(e,["endpoint"]);l!=null&&f(t,["name"],l);const s=c(e,["deployedModelId"]);return s!=null&&f(t,["deployedModelId"],s),t}function rM(o,e){const t={},l=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&f(t,["baseModel"],l);const s=c(e,["createTime"]);s!=null&&f(t,["createTime"],s);const r=c(e,["updateTime"]);return r!=null&&f(t,["updateTime"],r),t}function uM(o,e){const t={},l=c(e,["checkpointId"]);l!=null&&f(t,["checkpointId"],l);const s=c(e,["epoch"]);s!=null&&f(t,["epoch"],s);const r=c(e,["step"]);return r!=null&&f(t,["step"],r),t}function Pc(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["displayName"]);s!=null&&f(t,["displayName"],s);const r=c(e,["description"]);r!=null&&f(t,["description"],r);const m=c(e,["versionId"]);m!=null&&f(t,["version"],m);const h=c(e,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>sM(o,A))),f(t,["endpoints"],S)}const y=c(e,["labels"]);y!=null&&f(t,["labels"],y);const p=c(e,["_self"]);p!=null&&f(t,["tunedModelInfo"],rM(o,p));const v=c(e,["defaultCheckpointId"]);v!=null&&f(t,["defaultCheckpointId"],v);const x=c(e,["checkpoints"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(A=>uM(o,A))),f(t,["checkpoints"],S)}return t}function cM(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["_self"]);if(s!=null){let r=dy(o,s);Array.isArray(r)&&(r=r.map(m=>Pc(o,m))),f(t,["models"],r)}return t}function fM(){return{}}function dM(o,e){const t={},l=c(e,["totalTokens"]);return l!=null&&f(t,["totalTokens"],l),t}function mM(o,e){const t={},l=c(e,["tokensInfo"]);return l!=null&&f(t,["tokensInfo"],l),t}function pM(o,e){const t={},l=c(e,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=c(e,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],pi(o,s));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function hM(o,e){const t={},l=c(e,["_self"]);return l!=null&&f(t,["video"],pM(o,l)),t}function gM(o,e){const t={},l=c(e,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>hM(o,h))),f(t,["generatedVideos"],m)}const s=c(e,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function yM(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["metadata"]);s!=null&&f(t,["metadata"],s);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const m=c(e,["error"]);m!=null&&f(t,["error"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],gM(o,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vM="Content-Type",TM="X-Server-Timeout",xM="User-Agent",Bc="x-goog-api-client",CM="1.3.0",SM=`google-genai-sdk/${CM}`,_M="v1beta1",EM="v1beta",Ng=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _y extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Gc extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class AM{constructor(e){var t,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:_M,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:EM,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,l){const s=[this.getRequestUrlInternal(t)];return l&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,l);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))s.searchParams.append(m,String(h));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(s,r,e.httpMethod)}patchHttpOptions(e,t){const l=JSON.parse(JSON.stringify(e));for(const[s,r]of Object.entries(t))typeof r=="object"?l[s]=Object.assign(Object.assign({},l[s]),r):r!==void 0&&(l[s]=r);return l}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,l);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(s,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,l){if(t&&t.timeout||l){const s=new AbortController,r=s.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>s.abort(),t.timeout),l&&l.addEventListener("abort",()=>{s.abort()}),e.signal=r}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:l})).then(async s=>(await Mg(s),new Uc(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,t,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:l})).then(async s=>(await Mg(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){var t;return Ul(this,arguments,function*(){const s=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield $e(s.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=r.decode(y);try{const x=JSON.parse(p);if("error"in x){const S=JSON.parse(JSON.stringify(x.error)),A=S.status,E=S.code,D=`got status: ${A}. ${JSON.stringify(x)}`;if(E>=400&&E<500)throw new _y(D);if(E>=500&&E<600)throw new Gc(D)}}catch(x){const S=x;if(S.name==="ClientError"||S.name==="ServerError")throw x}m+=p;let v=m.match(Ng);for(;v;){const x=v[1];try{const S=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new Uc(S)),m=m.slice(v[0].length),v=m.match(Ng)}catch(S){throw new Error(`exception parsing stream chunk ${x}. ${S}`)}}}}finally{s.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},t=SM+" "+this.clientOptions.userAgentExtra;return e[xM]=t,e[Bc]=t,e[vM]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[l,s]of Object.entries(e.headers))t.append(l,s);e.timeout&&e.timeout>0&&t.append(TM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var l;const s={};t!=null&&(s.mimeType=t.mimeType,s.name=t.name,s.displayName=t.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const r=this.clientOptions.uploader,m=await r.stat(e);s.sizeBytes=String(m.size);const h=(l=t==null?void 0:t.mimeType)!==null&&l!==void 0?l:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const y=await this.fetchUploadUrl(s,t);return r.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var l;let s={};t!=null&&t.httpOptions?s=t.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const r={file:e},m=await this.request({path:ye("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:s});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Mg(o){var e;if(o===void 0)throw new Gc("response is undefined");if(!o.ok){const t=o.status,l=o.statusText;let s;!((e=o.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await o.json():s={error:{message:await o.text(),code:o.status,status:o.statusText}};const r=`got status: ${t} ${l}. ${JSON.stringify(s)}`;throw t>=400&&t<500?new _y(r):t>=500&&t<600?new Gc(r):new Error(r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NM="mcp_used/unknown";function Ey(o){for(const e of o)if(ef(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Ay(o){var e;const t=(e=o[Bc])!==null&&e!==void 0?e:"";o[Bc]=(t+` ${NM}`).trimStart()}function MM(o){var e,t,l;return(l=(t=(e=o.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(s=>ef(s)))!==null&&l!==void 0?l:!1}function RM(o){var e,t,l;return(l=(t=(e=o.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(s=>!ef(s)))!==null&&l!==void 0?l:!1}function ef(o){return o!==null&&typeof o=="object"&&o instanceof tf}function bM(o,e=100){return Ul(this,arguments,function*(){let l,s=0;for(;s<e;){const r=yield $e(o.listTools({cursor:l}));for(const m of r.tools)yield yield $e(m),s++;if(!r.nextCursor)break;l=r.nextCursor}})}class tf{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new tf(e,t)}async initialize(){var e,t,l,s;if(this.mcpTools.length>0)return;const r={},m=[];for(const v of this.mcpClients)try{for(var h=!0,y=(t=void 0,ea(bM(v))),p;p=await y.next(),e=p.done,!e;h=!0){s=p.value,h=!1;const x=s;m.push(x);const S=x.name;if(r[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);r[S]=v}}catch(x){t={error:x}}finally{try{!h&&!e&&(l=y.return)&&await l.call(y)}finally{if(t)throw t.error}}this.mcpTools=m,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),OC(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const r=await this.functionNameToMcpClient[l.name].callTool({name:l.name,arguments:l.args});t.push({functionResponse:{name:l.name,response:r.isError?{error:r}:r}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wM(o,e,t){const l=new _C;let s;t.data instanceof Blob?s=JSON.parse(await t.data.text()):s=JSON.parse(t.data);const r=HE(o,s);Object.assign(l,r),e(l)}class DM{constructor(e,t,l){this.apiClient=e,this.auth=t,this.webSocketFactory=l}async connect(e){var t,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),m=kM(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(z=>{p=z}),x=e.callbacks,S=function(){p({})},A=this.apiClient,E={onopen:S,onmessage:z=>{wM(A,x.onmessage,z)},onerror:(t=x==null?void 0:x.onerror)!==null&&t!==void 0?t:function(z){},onclose:(l=x==null?void 0:x.onclose)!==null&&l!==void 0?l:function(z){}},D=this.webSocketFactory.create(y,UM(m),E);D.connect(),await v;const I=Ye(this.apiClient,e.model),w=yy(this.apiClient,{model:I}),k=Oc(this.apiClient,{setup:w});return D.send(JSON.stringify(k)),new IM(D,this.apiClient)}}class IM{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=iE(this.apiClient,e),l=vy(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=lE(this.apiClient,e),l=Oc(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const t=Oc(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Dl.PLAY)}pause(){this.sendPlaybackControl(Dl.PAUSE)}stop(){this.sendPlaybackControl(Dl.STOP)}resetContext(){this.sendPlaybackControl(Dl.RESET_CONTEXT)}close(){this.conn.close()}}function UM(o){const e={};return o.forEach((t,l)=>{e[l]=t}),e}function kM(o){const e=new Headers;for(const[t,l]of Object.entries(o))e.append(t,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function OM(o,e,t){const l=new SC;let s;if(t.data instanceof Blob?s=JSON.parse(await t.data.text()):s=JSON.parse(t.data),o.isVertexAI()){const r=kE(o,s);Object.assign(l,r)}else{const r=UE(o,s);Object.assign(l,r)}e(l)}class VM{constructor(e,t,l){this.apiClient=e,this.auth=t,this.webSocketFactory=l,this.music=new DM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,l,s,r,m,h;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const x=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Ey(e.config.tools)&&Ay(x);const S=zM(x);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const K=this.apiClient.getApiKey();let J="BidiGenerateContent",Me="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),J="BidiGenerateContentConstrained",Me="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${J}?${Me}=${K}`}let A=()=>{};const E=new Promise(K=>{A=K}),D=e.callbacks,I=function(){var K;(K=D==null?void 0:D.onopen)===null||K===void 0||K.call(D),A({})},w=this.apiClient,k={onopen:I,onmessage:K=>{OM(w,D.onmessage,K)},onerror:(t=D==null?void 0:D.onerror)!==null&&t!==void 0?t:function(K){},onclose:(l=D==null?void 0:D.onclose)!==null&&l!==void 0?l:function(K){}},z=this.webSocketFactory.create(v,GM(S),k);z.connect(),await E;let B=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const K=this.apiClient.getProject(),J=this.apiClient.getLocation();B=`projects/${K}/locations/${J}/`+B}let V={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[qs.AUDIO]}:e.config.responseModalities=[qs.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],j=[];for(const K of $)if(this.isCallableTool(K)){const J=K;j.push(await J.tool())}else j.push(K);j.length>0&&(e.config.tools=j);const ie={model:B,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=X_(this.apiClient,ie):V=J_(this.apiClient,ie),delete V.config,z.send(JSON.stringify(V)),new BM(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const PM={turnComplete:!0};class BM{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let l=[];try{l=ln(e,t.turns),e.isVertexAI()?l=l.map(s=>ql(e,s)):l=l.map(s=>Js(e,s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:l,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let l=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?l=t.functionResponses:l=[t.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const r of l){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(LM)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},PM),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:nE(this.apiClient,e)}:t={realtimeInput:tE(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function GM(o){const e={};return o.forEach((t,l)=>{e[l]=t}),e}function zM(o){const e=new Headers;for(const[t,l]of Object.entries(o))e.append(t,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=10;function bg(o){var e,t,l;if(!((e=o==null?void 0:o.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const m of(t=o==null?void 0:o.tools)!==null&&t!==void 0?t:[])if(ks(m)){s=!0;break}if(!s)return!0;const r=(l=o==null?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function ks(o){return"callTool"in o&&typeof o.callTool=="function"}function wg(o){var e;return!(!((e=o==null?void 0:o.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qM extends zl{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var l,s,r,m,h;const y=await this.processParamsForMcpUsage(t);if(!MM(t)||bg(t.config))return await this.generateContentInternal(y);if(RM(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const x=ln(this.apiClient,y.contents),S=(r=(s=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:Rg;let A=0;for(;A<S&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const E=p.candidates[0].content,D=[];for(const I of(h=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(ks(I)){const k=await I.callTool(p.functionCalls);D.push(...k)}A++,v={role:"user",parts:D},y.contents=ln(this.apiClient,y.contents),y.contents.push(E),y.contents.push(v),wg(y.config)&&(x.push(E),x.push(v))}return wg(y.config)&&(p.automaticFunctionCallingHistory=x),p},this.generateContentStream=async t=>{if(bg(t.config)){const l=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(l=>{var s;let r;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?r=y==null?void 0:y.safetyAttributes:m.push(y);let h;return r?h={generatedImages:m,positivePromptSafetyAttributes:r}:h={generatedImages:m},h}),this.list=async t=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Ks(Bl.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async t=>{const l={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(l.referenceImages=t.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async t=>{let l={numberOfImages:1,mode:"upscale"};t.config&&(l=Object.assign(Object.assign({},l),t.config));const s={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:l};return await this.upscaleImageInternal(s)}}async processParamsForMcpUsage(e){var t,l,s;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const m=await Promise.all(r.map(async y=>ks(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&Ey(e.config.tools)){const y=(s=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&s!==void 0?s:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Ay(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var t,l,s;const r=new Map;for(const m of(l=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&l!==void 0?l:[])if(ks(m)){const h=m,y=await h.tool();for(const p of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!p.name)throw new Error("Function declaration name is required.");if(r.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);r.set(p.name,h)}}return r}async processAfcStream(e){var t,l,s;const r=(s=(l=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&s!==void 0?s:Rg;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,v,x){var S,A;return Ul(this,arguments,function*(){for(var E,D,I,w;h<r;){m&&(h++,m=!1);const V=yield $e(p.processParamsForMcpUsage(x)),$=yield $e(p.generateContentStreamInternal(V)),j=[],ie=[];try{for(var k=!0,z=(D=void 0,ea($)),B;B=yield $e(z.next()),E=B.done,!E;k=!0){w=B.value,k=!1;const K=w;if(yield yield $e(K),K.candidates&&(!((S=K.candidates[0])===null||S===void 0)&&S.content)){ie.push(K.candidates[0].content);for(const J of(A=K.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(h<r&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(J.functionCall.name)){const Me=yield $e(v.get(J.functionCall.name).callTool([J.functionCall]));j.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(K){D={error:K}}finally{try{!k&&!E&&(I=z.return)&&(yield $e(I.call(z)))}finally{if(D)throw D.error}}if(j.length>0){m=!0;const K=new Qo;K.candidates=[{content:{role:"user",parts:j}}],yield yield $e(K);const J=[];J.push(...ie),J.push({role:"user",parts:j});const Me=ln(p.apiClient,x.contents).concat(J);x.contents=Me}else break}})}(this,y,e)}async generateContentInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=_g(this.apiClient,e);return h=ye("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=Ag(this.apiClient,v),S=new Qo;return Object.assign(S,x),S})}else{const p=Sg(this.apiClient,e);return h=ye("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=Eg(this.apiClient,v),S=new Qo;return Object.assign(S,x),S})}}async generateContentStreamInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=_g(this.apiClient,e);h=ye("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(x){return Ul(this,arguments,function*(){var S,A,E,D;try{for(var I=!0,w=ea(x),k;k=yield $e(w.next()),S=k.done,!S;I=!0){D=k.value,I=!1;const B=Ag(v,yield $e(D.json())),V=new Qo;Object.assign(V,B),yield yield $e(V)}}catch(z){A={error:z}}finally{try{!I&&!S&&(E=w.return)&&(yield $e(E.call(w)))}finally{if(A)throw A.error}}})})}else{const p=Sg(this.apiClient,e);h=ye("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query;const v=this.apiClient;return m=v.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),m.then(function(x){return Ul(this,arguments,function*(){var S,A,E,D;try{for(var I=!0,w=ea(x),k;k=yield $e(w.next()),S=k.done,!S;I=!0){D=k.value,I=!1;const B=Eg(v,yield $e(D.json())),V=new Qo;Object.assign(V,B),yield yield $e(V)}}catch(z){A={error:z}}finally{try{!I&&!S&&(E=w.return)&&(yield $e(E.call(w)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=eN(this.apiClient,e);return h=ye("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=nM(this.apiClient,v),S=new ng;return Object.assign(S,x),S})}else{const p=pA(this.apiClient,e);return h=ye("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=kN(this.apiClient,v),S=new ng;return Object.assign(S,x),S})}}async generateImagesInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=nN(this.apiClient,e);return h=ye("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=lM(this.apiClient,v),S=new ig;return Object.assign(S,x),S})}else{const p=gA(this.apiClient,e);return h=ye("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=VN(this.apiClient,v),S=new ig;return Object.assign(S,x),S})}}async editImageInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI()){const h=uN(this.apiClient,e);return r=ye("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=oM(this.apiClient,y),v=new gC;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI()){const h=fN(this.apiClient,e);return r=ye("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=aM(this.apiClient,y),v=new yC;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=dN(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Pc(this.apiClient,v))}else{const p=yA(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>Vc(this.apiClient,v))}}async listInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=pN(this.apiClient,e);return h=ye("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=cM(this.apiClient,v),S=new lg;return Object.assign(S,x),S})}else{const p=TA(this.apiClient,e);return h=ye("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=BN(this.apiClient,v),S=new lg;return Object.assign(S,x),S})}}async update(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=gN(this.apiClient,e);return h=ye("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Pc(this.apiClient,v))}else{const p=CA(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>Vc(this.apiClient,v))}}async delete(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=yN(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=fM(),x=new og;return Object.assign(x,v),x})}else{const p=SA(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(()=>{const v=GN(),x=new og;return Object.assign(x,v),x})}}async countTokens(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=TN(this.apiClient,e);return h=ye("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=dM(this.apiClient,v),S=new ag;return Object.assign(S,x),S})}else{const p=EA(this.apiClient,e);return h=ye("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=zN(this.apiClient,v),S=new ag;return Object.assign(S,x),S})}}async computeTokens(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI()){const h=xN(this.apiClient,e);return r=ye("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>{const p=mM(this.apiClient,y),v=new vC;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=SN(this.apiClient,e);return h=ye("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>yM(this.apiClient,v))}else{const p=MA(this.apiClient,e);return h=ye("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>YN(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HM(o,e){const t={},l=c(e,["operationName"]);l!=null&&f(t,["_url","operationName"],l);const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function FM(o,e){const t={},l=c(e,["operationName"]);l!=null&&f(t,["_url","operationName"],l);const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function YM(o,e){const t={},l=c(e,["operationName"]);l!=null&&f(t,["operationName"],l);const s=c(e,["resourceName"]);s!=null&&f(t,["_url","resourceName"],s);const r=c(e,["config"]);return r!=null&&f(t,["config"],r),t}function ZM(o,e){const t={},l=c(e,["video","uri"]);l!=null&&f(t,["uri"],l);const s=c(e,["video","encodedVideo"]);s!=null&&f(t,["videoBytes"],pi(o,s));const r=c(e,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function $M(o,e){const t={},l=c(e,["_self"]);return l!=null&&f(t,["video"],ZM(o,l)),t}function KM(o,e){const t={},l=c(e,["generatedSamples"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>$M(o,h))),f(t,["generatedVideos"],m)}const s=c(e,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function JM(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["metadata"]);s!=null&&f(t,["metadata"],s);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const m=c(e,["error"]);m!=null&&f(t,["error"],m);const h=c(e,["response","generateVideoResponse"]);return h!=null&&f(t,["response"],KM(o,h)),t}function XM(o,e){const t={},l=c(e,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=c(e,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],pi(o,s));const r=c(e,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}function QM(o,e){const t={},l=c(e,["_self"]);return l!=null&&f(t,["video"],XM(o,l)),t}function WM(o,e){const t={},l=c(e,["videos"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>QM(o,h))),f(t,["generatedVideos"],m)}const s=c(e,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=c(e,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Dg(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["metadata"]);s!=null&&f(t,["metadata"],s);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const m=c(e,["error"]);m!=null&&f(t,["error"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],WM(o,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jM extends zl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,l=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=t.name.split("/operations/")[0];let r;return l&&"httpOptions"in l&&(r=l.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:s,config:{httpOptions:r}})}else return this.getVideosOperationInternal({operationName:t.name,config:l})}async getVideosOperationInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=FM(this.apiClient,e);return h=ye("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Dg(this.apiClient,v))}else{const p=HM(this.apiClient,e);return h=ye("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>JM(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI()){const h=YM(this.apiClient,e);return r=ye("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>Dg(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eR(o,e){const t={},l=c(e,["voiceName"]);return l!=null&&f(t,["voiceName"],l),t}function Ny(o,e){const t={},l=c(e,["prebuiltVoiceConfig"]);return l!=null&&f(t,["prebuiltVoiceConfig"],eR(o,l)),t}function tR(o,e){const t={},l=c(e,["speaker"]);l!=null&&f(t,["speaker"],l);const s=c(e,["voiceConfig"]);return s!=null&&f(t,["voiceConfig"],Ny(o,s)),t}function nR(o,e){const t={},l=c(e,["speakerVoiceConfigs"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>tR(o,r))),f(t,["speakerVoiceConfigs"],s)}return t}function iR(o,e){const t={},l=c(e,["voiceConfig"]);l!=null&&f(t,["voiceConfig"],Ny(o,l));const s=c(e,["multiSpeakerVoiceConfig"]);s!=null&&f(t,["multiSpeakerVoiceConfig"],nR(o,s));const r=c(e,["languageCode"]);return r!=null&&f(t,["languageCode"],r),t}function lR(o,e){const t={},l=c(e,["fps"]);l!=null&&f(t,["fps"],l);const s=c(e,["endOffset"]);s!=null&&f(t,["endOffset"],s);const r=c(e,["startOffset"]);return r!=null&&f(t,["startOffset"],r),t}function oR(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["data"]);l!=null&&f(t,["data"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function aR(o,e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=c(e,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function sR(o,e){const t={},l=c(e,["videoMetadata"]);l!=null&&f(t,["videoMetadata"],lR(o,l));const s=c(e,["thought"]);s!=null&&f(t,["thought"],s);const r=c(e,["inlineData"]);r!=null&&f(t,["inlineData"],oR(o,r));const m=c(e,["fileData"]);m!=null&&f(t,["fileData"],aR(o,m));const h=c(e,["thoughtSignature"]);h!=null&&f(t,["thoughtSignature"],h);const y=c(e,["codeExecutionResult"]);y!=null&&f(t,["codeExecutionResult"],y);const p=c(e,["executableCode"]);p!=null&&f(t,["executableCode"],p);const v=c(e,["functionCall"]);v!=null&&f(t,["functionCall"],v);const x=c(e,["functionResponse"]);x!=null&&f(t,["functionResponse"],x);const S=c(e,["text"]);return S!=null&&f(t,["text"],S),t}function rR(o,e){const t={},l=c(e,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(m=>sR(o,m))),f(t,["parts"],r)}const s=c(e,["role"]);return s!=null&&f(t,["role"],s),t}function uR(o,e){const t={},l=c(e,["behavior"]);l!=null&&f(t,["behavior"],l);const s=c(e,["description"]);s!=null&&f(t,["description"],s);const r=c(e,["name"]);r!=null&&f(t,["name"],r);const m=c(e,["parameters"]);m!=null&&f(t,["parameters"],m);const h=c(e,["response"]);return h!=null&&f(t,["response"],h),t}function cR(o,e){const t={},l=c(e,["startTime"]);l!=null&&f(t,["startTime"],l);const s=c(e,["endTime"]);return s!=null&&f(t,["endTime"],s),t}function fR(o,e){const t={},l=c(e,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],cR(o,l)),t}function dR(o,e){const t={},l=c(e,["mode"]);l!=null&&f(t,["mode"],l);const s=c(e,["dynamicThreshold"]);return s!=null&&f(t,["dynamicThreshold"],s),t}function mR(o,e){const t={},l=c(e,["dynamicRetrievalConfig"]);return l!=null&&f(t,["dynamicRetrievalConfig"],dR(o,l)),t}function pR(){return{}}function hR(o,e){const t={},l=c(e,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>uR(o,p))),f(t,["functionDeclarations"],y)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(e,["googleSearch"]);s!=null&&f(t,["googleSearch"],fR(o,s));const r=c(e,["googleSearchRetrieval"]);if(r!=null&&f(t,["googleSearchRetrieval"],mR(o,r)),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(e,["urlContext"])!=null&&f(t,["urlContext"],pR());const h=c(e,["codeExecution"]);return h!=null&&f(t,["codeExecution"],h),t}function gR(o,e){const t={},l=c(e,["handle"]);if(l!=null&&f(t,["handle"],l),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ig(){return{}}function yR(o,e){const t={},l=c(e,["disabled"]);l!=null&&f(t,["disabled"],l);const s=c(e,["startOfSpeechSensitivity"]);s!=null&&f(t,["startOfSpeechSensitivity"],s);const r=c(e,["endOfSpeechSensitivity"]);r!=null&&f(t,["endOfSpeechSensitivity"],r);const m=c(e,["prefixPaddingMs"]);m!=null&&f(t,["prefixPaddingMs"],m);const h=c(e,["silenceDurationMs"]);return h!=null&&f(t,["silenceDurationMs"],h),t}function vR(o,e){const t={},l=c(e,["automaticActivityDetection"]);l!=null&&f(t,["automaticActivityDetection"],yR(o,l));const s=c(e,["activityHandling"]);s!=null&&f(t,["activityHandling"],s);const r=c(e,["turnCoverage"]);return r!=null&&f(t,["turnCoverage"],r),t}function TR(o,e){const t={},l=c(e,["targetTokens"]);return l!=null&&f(t,["targetTokens"],l),t}function xR(o,e){const t={},l=c(e,["triggerTokens"]);l!=null&&f(t,["triggerTokens"],l);const s=c(e,["slidingWindow"]);return s!=null&&f(t,["slidingWindow"],TR(o,s)),t}function CR(o,e){const t={},l=c(e,["proactiveAudio"]);return l!=null&&f(t,["proactiveAudio"],l),t}function SR(o,e,t){const l={},s=c(e,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=c(e,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const m=c(e,["temperature"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","temperature"],m);const h=c(e,["topP"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topP"],h);const y=c(e,["topK"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","topK"],y);const p=c(e,["maxOutputTokens"]);t!==void 0&&p!=null&&f(t,["setup","generationConfig","maxOutputTokens"],p);const v=c(e,["mediaResolution"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","mediaResolution"],v);const x=c(e,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const S=c(e,["speechConfig"]);t!==void 0&&S!=null&&f(t,["setup","generationConfig","speechConfig"],iR(o,Qc(o,S)));const A=c(e,["enableAffectiveDialog"]);t!==void 0&&A!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],A);const E=c(e,["systemInstruction"]);t!==void 0&&E!=null&&f(t,["setup","systemInstruction"],rR(o,At(o,E)));const D=c(e,["tools"]);if(t!==void 0&&D!=null){let $=ca(o,D);Array.isArray($)&&($=$.map(j=>hR(o,ua(o,j)))),f(t,["setup","tools"],$)}const I=c(e,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],gR(o,I));const w=c(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],Ig());const k=c(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&f(t,["setup","outputAudioTranscription"],Ig());const z=c(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&f(t,["setup","realtimeInputConfig"],vR(o,z));const B=c(e,["contextWindowCompression"]);t!==void 0&&B!=null&&f(t,["setup","contextWindowCompression"],xR(o,B));const V=c(e,["proactivity"]);return t!==void 0&&V!=null&&f(t,["setup","proactivity"],CR(o,V)),l}function _R(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["setup","model"],Ye(o,l));const s=c(e,["config"]);return s!=null&&f(t,["config"],SR(o,s,t)),t}function ER(o,e,t){const l={},s=c(e,["expireTime"]);t!==void 0&&s!=null&&f(t,["expireTime"],s);const r=c(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&f(t,["newSessionExpireTime"],r);const m=c(e,["uses"]);t!==void 0&&m!=null&&f(t,["uses"],m);const h=c(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&f(t,["bidiGenerateContentSetup"],_R(o,h));const y=c(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&f(t,["fieldMask"],y),l}function AR(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],ER(o,l,t)),t}function NR(o,e){const t={},l=c(e,["name"]);return l!=null&&f(t,["name"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MR(o){const e=[];for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)){const l=o[t];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const s=Object.keys(l).map(r=>`${t}.${r}`);e.push(...s)}else e.push(t)}return e.join(",")}function RR(o,e){let t=null;const l=o.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const r=l.setup;typeof r=="object"&&r!==null?(o.bidiGenerateContentSetup=r,t=r):delete o.bidiGenerateContentSetup}else l!==void 0&&delete o.bidiGenerateContentSetup;const s=o.fieldMask;if(t){const r=MR(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?o.fieldMask=r:delete o.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];r&&y.push(r),h.length>0&&y.push(...h),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?o.fieldMask=s.join(","):delete o.fieldMask;return o}class bR extends zl{constructor(e){super(),this.apiClient=e}async create(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=AR(this.apiClient,e);r=ye("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=RR(h,e.config);return s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),s.then(p=>NR(this.apiClient,p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wR(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],l);const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function DR(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const m=c(e,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),l}function IR(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],DR(o,l,t)),t}function UR(o,e){const t={},l=c(e,["textInput"]);l!=null&&f(t,["textInput"],l);const s=c(e,["output"]);return s!=null&&f(t,["output"],s),t}function kR(o,e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=c(e,["examples"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>UR(o,r))),f(t,["examples","examples"],s)}return t}function LR(o,e,t){const l={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=c(e,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&f(t,["displayName"],s),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=c(e,["epochCount"]);t!==void 0&&r!=null&&f(t,["tuningTask","hyperparameters","epochCount"],r);const m=c(e,["learningRateMultiplier"]);if(m!=null&&f(l,["tuningTask","hyperparameters","learningRateMultiplier"],m),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(e,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const y=c(e,["learningRate"]);return t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),l}function OR(o,e){const t={},l=c(e,["baseModel"]);l!=null&&f(t,["baseModel"],l);const s=c(e,["trainingDataset"]);s!=null&&f(t,["tuningTask","trainingData"],kR(o,s));const r=c(e,["config"]);return r!=null&&f(t,["config"],LR(o,r,t)),t}function VR(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["_url","name"],l);const s=c(e,["config"]);return s!=null&&f(t,["config"],s),t}function PR(o,e,t){const l={},s=c(e,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=c(e,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const m=c(e,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),l}function BR(o,e){const t={},l=c(e,["config"]);return l!=null&&f(t,["config"],PR(o,l,t)),t}function GR(o,e,t){const l={},s=c(e,["gcsUri"]);if(t!==void 0&&s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],s),c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function zR(o,e){const t={},l=c(e,["gcsUri"]);return l!=null&&f(t,["validationDatasetUri"],l),t}function qR(o,e,t){const l={},s=c(e,["validationDataset"]);t!==void 0&&s!=null&&f(t,["supervisedTuningSpec"],zR(o,s));const r=c(e,["tunedModelDisplayName"]);t!==void 0&&r!=null&&f(t,["tunedModelDisplayName"],r);const m=c(e,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);const h=c(e,["epochCount"]);t!==void 0&&h!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=c(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const p=c(e,["exportLastCheckpointOnly"]);t!==void 0&&p!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],p);const v=c(e,["adapterSize"]);if(t!==void 0&&v!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function HR(o,e){const t={},l=c(e,["baseModel"]);l!=null&&f(t,["baseModel"],l);const s=c(e,["trainingDataset"]);s!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],GR(o,s,t));const r=c(e,["config"]);return r!=null&&f(t,["config"],qR(o,r,t)),t}function FR(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["model"],l);const s=c(e,["name"]);return s!=null&&f(t,["endpoint"],s),t}function My(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["state"]);s!=null&&f(t,["state"],uy(o,s));const r=c(e,["createTime"]);r!=null&&f(t,["createTime"],r);const m=c(e,["tuningTask","startTime"]);m!=null&&f(t,["startTime"],m);const h=c(e,["tuningTask","completeTime"]);h!=null&&f(t,["endTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const p=c(e,["description"]);p!=null&&f(t,["description"],p);const v=c(e,["baseModel"]);v!=null&&f(t,["baseModel"],v);const x=c(e,["_self"]);x!=null&&f(t,["tunedModel"],FR(o,x));const S=c(e,["distillationSpec"]);S!=null&&f(t,["distillationSpec"],S);const A=c(e,["experiment"]);A!=null&&f(t,["experiment"],A);const E=c(e,["labels"]);E!=null&&f(t,["labels"],E);const D=c(e,["pipelineJob"]);D!=null&&f(t,["pipelineJob"],D);const I=c(e,["serviceAccount"]);I!=null&&f(t,["serviceAccount"],I);const w=c(e,["tunedModelDisplayName"]);return w!=null&&f(t,["tunedModelDisplayName"],w),t}function YR(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["tunedModels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(m=>My(o,m))),f(t,["tuningJobs"],r)}return t}function ZR(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["metadata"]);s!=null&&f(t,["metadata"],s);const r=c(e,["done"]);r!=null&&f(t,["done"],r);const m=c(e,["error"]);return m!=null&&f(t,["error"],m),t}function $R(o,e){const t={},l=c(e,["checkpointId"]);l!=null&&f(t,["checkpointId"],l);const s=c(e,["epoch"]);s!=null&&f(t,["epoch"],s);const r=c(e,["step"]);r!=null&&f(t,["step"],r);const m=c(e,["endpoint"]);return m!=null&&f(t,["endpoint"],m),t}function KR(o,e){const t={},l=c(e,["model"]);l!=null&&f(t,["model"],l);const s=c(e,["endpoint"]);s!=null&&f(t,["endpoint"],s);const r=c(e,["checkpoints"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>$R(o,h))),f(t,["checkpoints"],m)}return t}function zc(o,e){const t={},l=c(e,["name"]);l!=null&&f(t,["name"],l);const s=c(e,["state"]);s!=null&&f(t,["state"],uy(o,s));const r=c(e,["createTime"]);r!=null&&f(t,["createTime"],r);const m=c(e,["startTime"]);m!=null&&f(t,["startTime"],m);const h=c(e,["endTime"]);h!=null&&f(t,["endTime"],h);const y=c(e,["updateTime"]);y!=null&&f(t,["updateTime"],y);const p=c(e,["error"]);p!=null&&f(t,["error"],p);const v=c(e,["description"]);v!=null&&f(t,["description"],v);const x=c(e,["baseModel"]);x!=null&&f(t,["baseModel"],x);const S=c(e,["tunedModel"]);S!=null&&f(t,["tunedModel"],KR(o,S));const A=c(e,["supervisedTuningSpec"]);A!=null&&f(t,["supervisedTuningSpec"],A);const E=c(e,["tuningDataStats"]);E!=null&&f(t,["tuningDataStats"],E);const D=c(e,["encryptionSpec"]);D!=null&&f(t,["encryptionSpec"],D);const I=c(e,["partnerModelTuningSpec"]);I!=null&&f(t,["partnerModelTuningSpec"],I);const w=c(e,["distillationSpec"]);w!=null&&f(t,["distillationSpec"],w);const k=c(e,["experiment"]);k!=null&&f(t,["experiment"],k);const z=c(e,["labels"]);z!=null&&f(t,["labels"],z);const B=c(e,["pipelineJob"]);B!=null&&f(t,["pipelineJob"],B);const V=c(e,["serviceAccount"]);V!=null&&f(t,["serviceAccount"],V);const $=c(e,["tunedModelDisplayName"]);return $!=null&&f(t,["tunedModelDisplayName"],$),t}function JR(o,e){const t={},l=c(e,["nextPageToken"]);l!=null&&f(t,["nextPageToken"],l);const s=c(e,["tuningJobs"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(m=>zc(o,m))),f(t,["tuningJobs"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XR extends zl{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new Ks(Bl.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const l=await this.tuneMldevInternal(t);let s="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?s=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(s=l.name.split("/operations/")[0]),{name:s,state:Ic.JOB_STATE_QUEUED}}}}async getInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=VR(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>zc(this.apiClient,v))}else{const p=wR(this.apiClient,e);return h=ye("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>My(this.apiClient,v))}}async listInternal(e){var t,l,s,r;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=BR(this.apiClient,e);return h=ye("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const x=JR(this.apiClient,v),S=new sg;return Object.assign(S,x),S})}else{const p=IR(this.apiClient,e);return h=ye("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),m.then(v=>{const x=YR(this.apiClient,v),S=new sg;return Object.assign(S,x),S})}}async tuneInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI()){const h=HR(this.apiClient,e);return r=ye("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>zc(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,l;let s,r="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OR(this.apiClient,e);return r=ye("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,s=this.apiClient.request({path:r,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),s.then(y=>ZR(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QR{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const WR=1024*1024*8,jR=3,eb=1e3,tb=2,Tc="x-goog-upload-status";async function nb(o,e,t){var l,s,r;let m=0,h=0,y=new Uc(new Response),p="upload";for(m=o.size;h<m;){const x=Math.min(WR,m-h),S=o.slice(h,h+x);h+x>=m&&(p+=", finalize");let A=0,E=eb;for(;A<jR&&(y=await t.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(x)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Tc]));)A++,await lb(E),E=E*tb;if(h+=x,((s=y==null?void 0:y.headers)===null||s===void 0?void 0:s[Tc])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Tc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function ib(o){return{size:o.size,type:o.type}}function lb(o){return new Promise(e=>setTimeout(e,o))}class ob{async upload(e,t,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nb(e,t,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ib(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ab{create(e,t,l){return new sb(e,t,l)}}class sb{constructor(e,t,l){this.url=e,this.headers=t,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ug="x-goog-api-key";class rb{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Ug)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Ug,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ub="gl-node/";class cb{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const l=hC(e,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const s=new rb(this.apiKey);this.apiClient=new AM({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:ub+"web",uploader:new ob,downloader:new QR}),this.models=new qM(this.apiClient),this.live=new VM(this.apiClient,s,new ab),this.chats=new zS(this.models,this.apiClient),this.caches=new PS(this.apiClient),this.files=new e_(this.apiClient),this.operations=new jM(this.apiClient),this.authTokens=new bR(this.apiClient),this.tunings=new XR(this.apiClient)}}const fb=async(o,e)=>{if(!e.geminiApiKey)throw new Error("Gemini API Error: API key is missing. Please configure it in Application Settings.");const t=new cb({apiKey:e.geminiApiKey});try{const l=await t.models.generateContent({model:e.geminiModel,contents:o,config:{temperature:e.temperature,topK:e.topK,topP:e.topP}}),s=l.text;if(typeof s!="string")throw console.warn("Gemini API response.text was not a string:",s),new Error("Received invalid or empty response from Gemini API.");let r;return l.usageMetadata&&(r={promptTokenCount:l.usageMetadata.promptTokenCount,candidatesTokenCount:l.usageMetadata.candidatesTokenCount,totalTokenCount:l.usageMetadata.totalTokenCount}),{text:s,usageMetadata:r}}catch(l){throw console.error("Error calling Gemini API:",l),l instanceof Error?l.message.includes("API key not valid")||l.message.toLowerCase().includes("api_key_invalid")||l.message.includes("permission denied")||l.message.toLowerCase().includes("api key is missing")?new Error(`Gemini API Error: API key issue. Please check your API Key in Application Settings. Original: ${l.message}`):new Error(`Gemini API Error: ${l.message}`):new Error("An unknown error occurred while communicating with the Gemini API.")}},db=async(o,e)=>{const{ollamaBaseUrl:t,ollamaModel:l,ollamaKeepAlive:s,temperature:r,topK:m,topP:h}=e,y=`${t.replace(/\/$/,"")}/api/generate`,p={model:l,prompt:o,stream:!1,keep_alive:s,options:{temperature:r,top_k:m,top_p:h}};try{const v=await fetch(y,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!v.ok){const A=await v.text();throw new Error(`Ollama API request failed with status ${v.status}: ${A}`)}const x=await v.json();if(!x.response||typeof x.response!="string")throw new Error("Received invalid or empty response from Ollama API.");const S={promptTokenCount:x.prompt_eval_count,candidatesTokenCount:x.eval_count,totalTokenCount:(x.prompt_eval_count||0)+(x.eval_count||0)};return{text:x.response,usageMetadata:S}}catch(v){throw console.error("Error calling Ollama API:",v),v instanceof Error?v.message.includes("Failed to fetch")?new Error(`Ollama Network Error: Could not connect to Ollama server at ${t}. Ensure it's running and the URL is correct.`):new Error(`Ollama API Error: ${v.message}`):new Error("An unknown error occurred while communicating with the Ollama API.")}},mb=async(o,e)=>{if(e.llmProvider==="gemini")return fb(o,e);if(e.llmProvider==="ollama")return db(o,e);throw new Error(`Unsupported LLM provider: ${e.llmProvider}`)},pb=({currentProject:o,saveProjectState:e,setCurrentProject:t,hasUnsavedChanges:l})=>{const{appSettings:s}=Ry(),[r,m]=R.useState(!1),h=R.useRef(!1),[y,p]=R.useState([]),[v,x]=R.useState(null),[S,A]=R.useState(null),[E,D]=R.useState(null),[I,w]=R.useState(0),[k,z]=R.useState(!0),B=R.useCallback(()=>{h.current=!0},[]),V=R.useCallback(async()=>{var Qe;if(!o||r)return Promise.reject(new Error("Workflow already running or no project."));if(pt(o.nodes).length===0&&o.nodes.length>0)return console.error("Workflow run aborted: Project contains only invalid node data before cloning."),Promise.reject(new Error("Project contains invalid node data."));m(!0),h.current=!1,l&&o&&e(o,!0),p([]),x(null);const j=Date.now();A(j),D(null),w(0),z(!0);let ie=ia(o);ie.nodes=pt(ie.nodes).map(he=>({...he,isRunning:!1,hasError:!1,lastRunOutput:void 0})),t(he=>{if(!he)return null;const q=pt(he.nodes).map(ee=>({...ee,isRunning:!1,hasError:!1,lastRunOutput:void 0}));return{...he,nodes:q}});const K={id:_e(),timestamp:new Date().toISOString(),status:"running",steps:[],totalTokensUsed:0};ie.runHistory=[K,...ie.runHistory||[]].slice(0,Ax);let J=ie.nodes.find(he=>he.type==="START"),Me,qe=0;const nt={};try{for(;J;){if(h.current){K.status="stopped",K.error="Manually stopped by user.",p(X=>X.map(de=>de.status==="running"?{...de,status:"skipped",endTime:new Date().toISOString()}:de));break}const he=J.id;x(he);const q={nodeId:he,nodeName:J.name||J.type,startTime:new Date().toISOString(),status:"running"};p(X=>[...X,q]),t(X=>{if(!X)return null;const re=pt(X.nodes).map(Ce=>Ce.id===he?{...Ce,isRunning:!0,hasError:!1}:{...Ce,isRunning:!1});return{...X,nodes:re}});let ee=J.prompt,oe=J.prompt;if(J.type==="START"||J.type==="PROMPT"||J.type==="CONDITIONAL"){let X=J.prompt;for(const[de,re]of Object.entries(nt)){const Ce=de.replace(/[^a-zA-Z0-9_]/g,"");Ce&&(X=X.replace(new RegExp(`\\{${Ce}\\}`,"gi"),re))}ee=X.replace(/{PREVIOUS_OUTPUT}/gi,Me||""),oe=ee}else J.type==="CONCLUSION"?oe=`Displaying output for: ${J.name||"Conclusion"} (Title: ${J.prompt})`:J.type==="VARIABLE"&&(oe=`Storing input as '${J.name}'`);const xe={nodeId:J.id,nodeName:J.name,promptSent:oe,responseReceived:"",timestamp:new Date().toISOString()};let M,Y,te;if(J.type==="START"||J.type==="PROMPT"||J.type==="CONDITIONAL"){const X=await mb(ee,s);M=X.text,Y=X.usageMetadata}else if(J.type==="CONCLUSION"){let X=J.outputFormatTemplate||"{PREVIOUS_OUTPUT}";for(const[de,re]of Object.entries(nt)){console.log(X);const Ce=de.replace(/[^a-zA-Z0-9_]/g,"");Ce&&(X=X.replace(new RegExp(`\\{${Ce}\\}`,"gi"),re))}console.log(X),X=X.replace(/{PREVIOUS_OUTPUT}/gi,Me),M=X||"(No input to display)"}else if(J.type==="VARIABLE"){M=Me||"";const X=J.name.replace(/[^a-zA-Z0-9_]/g,"");X&&(nt[X]=M)}else throw new Error(`Unknown or invalid node type encountered: ${J==null?void 0:J.type}`);Y&&typeof Y.totalTokenCount=="number"&&(te=Y.totalTokenCount,qe+=te),xe.tokensUsed=te,xe.responseReceived=M,Me=M;const ne=ie.nodes.find(X=>X.id===he);if(ne&&(ne.lastRunOutput=M),p(X=>X.map(de=>de.nodeId===he&&de.status==="running"?{...de,endTime:new Date().toISOString(),status:(J==null?void 0:J.type)==="VARIABLE"?"variable_set":"completed",output:M,tokensUsed:xe.tokensUsed}:de)),K.steps.push(xe),t(X=>{if(!X)return null;const re=pt(X.nodes).map(Ce=>Ce.id===he?{...Ce,isRunning:!1,lastRunOutput:M,hasError:!1}:Ce);return{...X,nodes:re}}),J.type==="CONCLUSION")J=null;else if(J.type==="CONDITIONAL"&&J.branches){let X=null;const de=M.toLowerCase();for(const re of J.branches){const Ce=re.condition.toLowerCase().trim();let Ie=!1;if(Ce.startsWith("contains '")&&Ce.endsWith("'")){const Mt=Ce.substring(10,Ce.length-1).trim();Ie=de.includes(Mt)}else if(Ce.startsWith("starts with '")&&Ce.endsWith("'")){const Mt=Ce.substring(13,Ce.length-1).trim();Ie=de.startsWith(Mt)}else Ce==="default"||Ce===""?Ie=!0:Ie=de===Ce;if(Ie){X=re.nextNodeId;break}}if(!X){const re=J.branches.find(Ce=>Ce.condition.toLowerCase().trim()==="default"||Ce.condition.trim()==="");re&&(X=re.nextNodeId)}J=ie.nodes.find(re=>re.id===X)||null}else J=ie.nodes.find(X=>X.id===(J==null?void 0:J.nextNodeId))||null}}catch(he){const q=he instanceof Error?he.message:String(he);if(K.status="failed",K.error=q,v){const ee=ie.nodes.find(xe=>xe.id===v);ee&&(ee.lastRunOutput=q,ee.hasError=!0);const oe=K.steps.length>0?K.steps[K.steps.length-1]:null;oe&&oe.nodeId===v&&!oe.error?(oe.error=q,oe.responseReceived="ERROR"):(!oe||oe.nodeId!==v)&&K.steps.push({nodeId:v,nodeName:((Qe=ie.nodes.find(xe=>xe.id===v))==null?void 0:Qe.name)||"Unknown Node",promptSent:"N/A due to error before/during call",responseReceived:"ERROR",error:q,timestamp:new Date().toISOString()}),p(xe=>xe.map(M=>M.nodeId===v&&M.status==="running"?{...M,endTime:new Date().toISOString(),status:"failed",error:q}:M)),t(xe=>{if(!xe)return null;const Y=pt(xe.nodes).map(te=>te.id===v?{...te,isRunning:!1,hasError:!0,lastRunOutput:q}:te);return{...xe,nodes:Y}})}throw m(!1),he}finally{h.current&&K.status!=="stopped"?(K.status="stopped",K.error||(K.error="Manually stopped by user.")):K.status==="running"&&(K.status="completed"),K.finalOutput=Me,K.totalTokensUsed=qe;const he=Date.now();K.durationMs=he-(j||he),D(he),w(qe),x(null);const q={...ie,nodes:pt(ie.nodes)};e(q),m(!1),h.current=!1}return Promise.resolve()},[o,r,s,l,e,t]);return{isWorkflowRunning:r,executionLogs:y,currentExecutingNodeId:v,runStartTime:S,runEndTime:E,totalTokensThisRun:I,isExecutionPanelOpen:k,setIsExecutionPanelOpen:z,runWorkflow:V,handleStopWorkflow:B}},hb=()=>{const[o,e]=R.useState(!1),[t,l]=R.useState(!1),[s,r]=R.useState(!1),[m,h]=R.useState(!1),[y,p]=R.useState(""),v=R.useCallback(()=>e(!0),[]),x=R.useCallback(()=>e(!1),[]),S=R.useCallback(()=>l(!0),[]),A=R.useCallback(()=>l(!1),[]),E=R.useCallback(()=>r(!0),[]),D=R.useCallback(()=>r(!1),[]),I=R.useCallback(k=>{p(k),h(!0)},[]),w=R.useCallback(()=>h(!1),[]);return{isProjectSettingsModalOpen:o,openProjectSettingsModal:v,closeProjectSettingsModal:x,isRunHistoryModalOpen:t,openRunHistoryModal:S,closeRunHistoryModal:A,isHelpModalOpen:s,openHelpModal:E,closeHelpModal:D,isLlmErrorModalOpen:m,llmErrorMessage:y,openLlmErrorModal:I,closeLlmErrorModal:w}},gb=(o,e,t)=>{const{x:l,y:s,width:r,height:m}=t,h=[{p3:{x:l,y:s},p4:{x:l+r,y:s}},{p3:{x:l+r,y:s},p4:{x:l+r,y:s+m}},{p3:{x:l,y:s+m},p4:{x:l+r,y:s+m}},{p3:{x:l,y:s},p4:{x:l,y:s+m}}];let y=e,p=1/0;for(const v of h){const{p3:x,p4:S}=v,A=(o.x-e.x)*(x.y-S.y)-(o.y-e.y)*(x.x-S.x);if(A===0)continue;const E=(o.x-x.x)*(x.y-S.y)-(o.y-x.y)*(x.x-S.x),D=-((o.x-e.x)*(o.y-x.y)-(o.y-e.y)*(o.x-x.x)),I=E/A,w=D/A;w>=0&&w<=1&&I>=0&&I<=1&&I<p&&(p=I,y={x:o.x+I*(e.x-o.x),y:o.y+I*(e.y-o.y)})}return y},yb=o=>{const[e,t]=R.useState([]);return R.useEffect(()=>{if(!o||o.length===0){t([]);return}const l=[],s=new Map(o.map(r=>[r.id,r]));o.forEach(r=>{const m=(h,y)=>{h&&s.get(h)&&l.push({id:`${r.id}-${h}-${y||"direct"}`,sourceId:r.id,targetId:h,condition:y})};r.type==="START"||r.type==="PROMPT"||r.type==="VARIABLE"?m(r.nextNodeId):r.type==="CONDITIONAL"&&r.branches&&r.branches.forEach(h=>{m(h.nextNodeId,h.condition)})}),t(l)},[o]),{visualLinks:e,getLineToRectangleIntersectionPoint:gb}},Ry=()=>{const o=R.useContext(Qg);if(!o)throw new Error("useAppSettings must be used within an AppSettingsProvider");return o},by=()=>{const o=R.useContext(Wg);if(!o)throw new Error("useProjects must be used within a ProjectsProvider");return o},Bn=({isOpen:o,onClose:e,title:t,children:l,widthClass:s="sm:max-w-lg",footerContent:r})=>o?C.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-slate-900 bg-opacity-75 transition-opacity","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:C.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pb-20 pt-4 text-center sm:block sm:p-0",children:[C.jsxs("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",onClick:e,children:[C.jsx("div",{className:"absolute inset-0"})," "]}),C.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:"​"}),C.jsxs("div",{className:`inline-block transform overflow-hidden rounded-lg bg-slate-800 text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full ${s} sm:align-middle`,children:[C.jsx("div",{className:"bg-slate-800 px-4 pb-4 pt-5 sm:p-6",children:C.jsx("div",{className:"sm:flex sm:items-start",children:C.jsxs("div",{className:"mt-3 w-full text-center sm:ml-4 sm:mt-0 sm:text-left",children:[C.jsx("h3",{className:"text-lg font-medium leading-6 text-slate-100",id:"modal-title",children:t}),C.jsx("div",{className:"mt-4",children:l})]})})}),C.jsx("div",{className:"bg-slate-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:r||C.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:e,children:"Close"})})]})]})}):null,vb=({settings:o,isOpen:e,onClose:t,onSave:l})=>{const[s,r]=R.useState(na);R.useEffect(()=>{const y={...na,...o};r(y)},[o,e]);const m=y=>{const{name:p,value:v,type:x}=y.target;let S=v;x==="number"?(S=parseFloat(v),isNaN(S)&&(p==="temperature"||p==="topP"?S=0:p==="topK"&&(S=1))):p==="llmProvider"&&(S=v),r(A=>({...A,[p]:S}))},h=()=>{l(s)};return e?C.jsx(Bn,{isOpen:e,onClose:t,title:"Application Settings",children:C.jsxs("div",{className:"space-y-4 text-slate-300",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"llmProvider",className:"block text-sm font-medium",children:"LLM Provider"}),C.jsxs("select",{name:"llmProvider",id:"llmProvider",value:s.llmProvider,onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[C.jsx("option",{value:"gemini",children:"Gemini"}),C.jsx("option",{value:"ollama",children:"Ollama (Local)"})]})]}),s.llmProvider==="gemini"&&C.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[C.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"Gemini Configuration"}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"geminiModel",className:"block text-sm font-medium",children:"Gemini Model"}),C.jsx("select",{name:"geminiModel",id:"geminiModel",value:s.geminiModel,onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:C.jsx("option",{value:"gemini-2.5-flash-preview-04-17",children:"gemini-2.5-flash-preview-04-17"})})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"geminiApiKey",className:"block text-sm font-medium",children:"Gemini API Key"}),C.jsx("input",{type:"password",name:"geminiApiKey",id:"geminiApiKey",value:s.geminiApiKey||"",onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"Enter your Gemini API Key","aria-describedby":"gemini-api-key-description"}),C.jsx("p",{id:"gemini-api-key-description",className:"mt-1 text-xs text-slate-400",children:"Your API key is stored locally in your browser's local storage."})]})]}),s.llmProvider==="ollama"&&C.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[C.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"Ollama Configuration"}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"ollamaBaseUrl",className:"block text-sm font-medium",children:"Ollama Base URL"}),C.jsx("input",{type:"text",name:"ollamaBaseUrl",id:"ollamaBaseUrl",value:s.ollamaBaseUrl,onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., http://localhost:11434"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"ollamaModel",className:"block text-sm font-medium",children:"Ollama Model Name"}),C.jsx("input",{type:"text",name:"ollamaModel",id:"ollamaModel",value:s.ollamaModel,onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., llama3, codellama, mistral"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"ollamaKeepAlive",className:"block text-sm font-medium",children:"Keep Alive Duration"}),C.jsx("input",{type:"text",name:"ollamaKeepAlive",id:"ollamaKeepAlive",value:s.ollamaKeepAlive,onChange:m,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., 5m, 1h, -1 (unlimited)"}),C.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"How long Ollama keeps the model loaded. Use '5m' for 5 minutes, '1h' for 1 hour, '-1' for indefinitely."})]})]}),C.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[C.jsx("h4",{className:"text-md font-semibold text-slate-200",children:"Common LLM Parameters"}),C.jsx("p",{className:"text-xs text-slate-400 -mt-2",children:"These settings apply to the selected LLM provider where applicable."}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"temperature",className:"block text-sm font-medium",children:"Temperature (0.0 - 1.0)"}),C.jsx("input",{type:"number",name:"temperature",id:"temperature",value:s.temperature,onChange:m,step:"0.1",min:"0",max:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"topK",className:"block text-sm font-medium",children:"Top K"}),C.jsx("input",{type:"number",name:"topK",id:"topK",value:s.topK,onChange:m,step:"1",min:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"topP",className:"block text-sm font-medium",children:"Top P (0.0 - 1.0)"}),C.jsx("input",{type:"number",name:"topP",id:"topP",value:s.topP,onChange:m,step:"0.01",min:"0",max:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]})]}),C.jsx("button",{onClick:h,className:"w-full rounded-md bg-green-600 px-4 py-2 font-medium text-white hover:bg-green-700",children:"Save App Settings"})]})}):null},wy=({onRunProject:o,onStopProject:e,currentProjectName:t,isWorkflowRunning:l})=>{const[s,r]=R.useState(!1),{appSettings:m,setAppSettings:h}=Ry(),y=p=>{h(p),r(!1)};return C.jsxs(C.Fragment,{children:[C.jsxs("header",{className:"bg-slate-800 p-4 shadow-md flex justify-between items-center z-10 relative",children:[C.jsxs("div",{className:"flex items-center space-x-4",children:[C.jsxs(ra,{to:"/",className:"text-2xl font-bold text-sky-400 hover:text-sky-300",children:[C.jsx("i",{className:"fas fa-cogs mr-2"}),"LLM Workflow"]}),t&&C.jsxs("span",{className:"text-slate-400 text-lg hidden sm:inline",children:["| ",t]})]}),C.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o&&e&&(l?C.jsxs("button",{onClick:e,className:"rounded-md bg-red-600 px-3 py-2 sm:px-4 text-white hover:bg-red-700 flex items-center text-sm sm:text-base","aria-label":"Stop Project Run",children:[C.jsx("i",{className:"fas fa-stop mr-1 sm:mr-2"}),"Stop"]}):C.jsxs("button",{onClick:o,className:"rounded-md bg-green-600 px-3 py-2 sm:px-4 text-white hover:bg-green-700 flex items-center text-sm sm:text-base","aria-label":"Run Project",children:[C.jsx("i",{className:"fas fa-play mr-1 sm:mr-2"}),"Run"]})),C.jsxs("button",{onClick:()=>r(!0),className:"rounded-md bg-slate-700 px-3 py-2 sm:px-4 text-slate-200 hover:bg-slate-600 flex items-center text-sm sm:text-base","aria-label":"Application Settings",children:[C.jsx("i",{className:"fas fa-cog mr-1 sm:mr-2"}),"Settings"]})]})]}),C.jsx(vb,{settings:m,isOpen:s,onClose:()=>r(!1),onSave:y})]})},qc=({isOpen:o,onClose:e,onConfirm:t,title:l,message:s,confirmText:r="Confirm",cancelText:m="Cancel",confirmButtonClass:h="bg-red-600 hover:bg-red-700"})=>{if(!o)return null;const y=()=>{t(),e()},p=C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:y,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium text-white ${h} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto ${h.includes("red")?"focus:ring-red-500":"focus:ring-sky-500"}`,children:r}),C.jsx("button",{onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-sm font-medium text-white hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:w-auto",children:m})]});return C.jsx(Bn,{isOpen:o,onClose:e,title:l,footerContent:p,children:C.jsx("div",{className:"text-slate-300",children:s})})},Tb=({isOpen:o,onClose:e,projectJson:t,projectName:l})=>{const[s,r]=R.useState("idle"),m=async()=>{try{await navigator.clipboard.writeText(t),r("copied"),setTimeout(()=>r("idle"),2e3)}catch(y){console.error("Failed to copy project JSON:",y),r("failed"),setTimeout(()=>r("idle"),2e3)}},h=C.jsxs(C.Fragment,{children:[C.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:m,children:s==="copied"?"Copied!":s==="failed"?"Copy Failed":"Copy to Clipboard"}),C.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:e,children:"Close"})]});return C.jsx(Bn,{isOpen:o,onClose:e,title:`Export Project: ${l}`,footerContent:h,widthClass:"sm:max-w-2xl",children:C.jsxs("div",{className:"space-y-4 text-slate-300",children:[C.jsx("p",{children:"Copy the JSON below to export your project. You can then import it back into this application or store it externally."}),C.jsx("textarea",{readOnly:!0,value:t,className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON content"}),s==="failed"&&C.jsx("p",{className:"text-xs text-red-400 text-center",children:"Could not copy to clipboard. Please copy manually."})]})})},xb=({isOpen:o,onClose:e,onImport:t,errorMessage:l})=>{const[s,r]=R.useState(""),m=()=>{s.trim()&&t(s)},h=C.jsxs(C.Fragment,{children:[C.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:m,disabled:!s.trim(),children:"Import Project"}),C.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:()=>{r(""),e()},children:"Cancel"})]});return C.jsx(Bn,{isOpen:o,onClose:()=>{r(""),e()},title:"Import Project",footerContent:h,widthClass:"sm:max-w-2xl",children:C.jsxs("div",{className:"space-y-4 text-slate-300",children:[C.jsx("p",{children:"Paste the JSON data for the project you want to import below."}),C.jsx("textarea",{value:s,onChange:y=>r(y.target.value),placeholder:"Paste project JSON here...",className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON input area"}),l&&C.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md border border-red-700",children:l})]})})},Cb=()=>{const{projects:o,addProject:e,deleteProject:t}=by(),l=Yc(),[s,r]=R.useState({isOpen:!1,projectId:null,projectName:null}),[m,h]=R.useState({isOpen:!1,projectJson:"",projectName:""}),[y,p]=R.useState(!1),[v,x]=R.useState(null),S=()=>{const I=_e(),w={id:_e(),name:"New Project",description:"A new LLM workflow project.",author:"User",nodes:[{id:I,type:"START",name:"Start Here",prompt:jg,position:{x:50,y:50},nextNodeId:null}],links:[],runHistory:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(w),l(`/project/${w.id}`)},A=()=>{s.projectId&&t(s.projectId)},E=I=>{const w=ia(I);h({isOpen:!0,projectJson:JSON.stringify(w,null,2),projectName:I.name})},D=R.useCallback(I=>{x(null);try{const w=JSON.parse(I);if(!w||typeof w!="object"||!w.name||!Array.isArray(w.nodes))throw new Error("Invalid project structure. Ensure it's a valid project JSON.");const k=ia(w);k.id=_e();const z={};k.nodes=pt(k.nodes).map(V=>{const $=V.id,j=_e();return z[$]=j,V.id=j,V.branches&&Array.isArray(V.branches)&&(V.branches=V.branches.map(ie=>({...ie,id:_e()}))),V}),k.nodes=k.nodes.map(V=>(V.nextNodeId&&z[V.nextNodeId]?V.nextNodeId=z[V.nextNodeId]:V.nextNodeId&&(V.nextNodeId=null),V.branches&&Array.isArray(V.branches)&&(V.branches=V.branches.map($=>$.nextNodeId&&z[$.nextNodeId]?{...$,nextNodeId:z[$.nextNodeId]}:$.nextNodeId?{...$,nextNodeId:null}:$)),V)),Array.isArray(k.links)?k.links=k.links.map(V=>({id:_e(),sourceId:z[V.sourceId]||V.sourceId,targetId:z[V.targetId]||V.targetId,condition:V.condition})).filter(V=>z[V.sourceId]&&z[V.targetId]):k.links=[],k.runHistory=[];const B=new Date().toISOString();k.createdAt=B,k.updatedAt=B,k.name=k.name||"Imported Project",k.description=k.description||"Imported workflow.",k.author=k.author||"User",e(k),p(!1)}catch(w){console.error("Import failed:",w),x(w instanceof Error?w.message:"Failed to import project. Ensure JSON is valid.")}},[e,l]);return C.jsxs("div",{className:"container mx-auto p-4 sm:p-8",children:[C.jsx(wy,{}),C.jsxs("div",{className:"my-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsx("h1",{className:"text-3xl font-semibold text-slate-100 text-center sm:text-left",children:"My Projects"}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[C.jsxs("button",{onClick:S,className:"rounded-md bg-sky-600 px-6 py-3 text-white hover:bg-sky-700 text-lg font-medium flex items-center justify-center",children:[C.jsx("i",{className:"fas fa-plus mr-2"}),"Create New Project"]}),C.jsxs("button",{onClick:()=>{p(!0),x(null)},className:"rounded-md bg-teal-600 px-6 py-3 text-white hover:bg-teal-700 text-lg font-medium flex items-center justify-center",children:[C.jsx("i",{className:"fas fa-upload mr-2"}),"Import Project"]})]})]}),o.length===0?C.jsx("p",{className:"text-center text-slate-400 text-xl mt-10",children:"No projects yet. Create one to get started!"}):C.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(I=>C.jsxs("div",{className:"rounded-xl bg-slate-800 p-6 shadow-lg hover:shadow-sky-500/30 transition-shadow duration-300 flex flex-col justify-between",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-semibold text-sky-400 mb-2 truncate",children:I.name}),C.jsxs("p",{className:"text-slate-400 mb-1 text-sm",children:["Author: ",I.author]}),C.jsx("p",{className:"text-slate-300 mb-4 line-clamp-3 h-16",children:I.description})," "]}),C.jsxs("div",{className:"mt-auto",children:[C.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Last updated: ",new Date(I.updatedAt).toLocaleDateString()]}),C.jsxs("div",{className:"flex space-x-3",children:[C.jsx(ra,{to:`/project/${I.id}`,className:"flex-1 rounded-md bg-sky-600 px-4 py-2 text-center text-white hover:bg-sky-700",children:"Open"}),C.jsx("button",{onClick:w=>{w.stopPropagation(),E(I)},className:"rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700","aria-label":`Export project ${I.name}`,children:C.jsx("i",{className:"fas fa-download"})}),C.jsx("button",{onClick:w=>{w.stopPropagation(),r({isOpen:!0,projectId:I.id,projectName:I.name})},className:"rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700","aria-label":`Delete project ${I.name}`,children:C.jsx("i",{className:"fas fa-trash"})})]})]})]},I.id))}),C.jsx(qc,{isOpen:s.isOpen,onClose:()=>r({isOpen:!1,projectId:null,projectName:null}),onConfirm:A,title:"Confirm Delete Project",message:C.jsxs(C.Fragment,{children:['Are you sure you want to delete project "',C.jsx("strong",{children:s.projectName}),'"? This cannot be undone.']}),confirmText:"Delete"}),C.jsx(Tb,{isOpen:m.isOpen,onClose:()=>h({isOpen:!1,projectJson:"",projectName:""}),projectJson:m.projectJson,projectName:m.projectName}),C.jsx(xb,{isOpen:y,onClose:()=>{p(!1),x(null)},onImport:D,errorMessage:v})]})},Sb=({node:o,isOpen:e,onClose:t,onSave:l,allNodes:s})=>{var z;const[r,m]=R.useState(null),[h,y]=R.useState(!0);R.useEffect(()=>{if(o){const B=ia(o);B.type===ue.CONCLUSION&&(!B.outputFormatTemplate||B.outputFormatTemplate.trim()==="")&&(B.outputFormatTemplate="{PREVIOUS_OUTPUT}"),m(B),p(B)}else m(null),y(!0)},[o]);const p=B=>{var $,j,ie,K;if(!B){y(!0);return}let V=!(($=B.name)!=null&&$.trim());B.type===ue.CONCLUSION?V=V||!((j=B.prompt)!=null&&j.trim())||!((ie=B.outputFormatTemplate)!=null&&ie.trim()):B.type!==ue.VARIABLE&&(V=V||!((K=B.prompt)!=null&&K.trim())),y(V)};if(!e||!r)return null;const v=B=>{const{name:V,value:$}=B.target;m(j=>{if(!j)return null;const ie={...j,[V]:$};return p(ie),ie})},x=()=>{if(r&&!h){let B={...r};if(B.type===ue.VARIABLE&&B.name&&(B.name=B.name.replace(/[{}]/g,"").trim(),!B.name&&(p(B),h)))return;B.type===ue.CONCLUSION&&(!B.outputFormatTemplate||B.outputFormatTemplate.trim()==="")&&(B.outputFormatTemplate="{PREVIOUS_OUTPUT}"),l(B)}},S=(B,V,$)=>{m(j=>{if(!j||!j.branches)return j;const ie=[...j.branches];return ie[B]={...ie[B],[V]:$||null},{...j,branches:ie}})},A=()=>{m(B=>{if(!B)return B;const V=[...B.branches||[],{id:_e(),condition:"",nextNodeId:null}];return{...B,branches:V}})},E=B=>{m(V=>{if(!V||!V.branches)return V;const $=V.branches.filter((j,ie)=>ie!==B);return{...V,branches:$}})},D=s.filter(B=>B.id!==r.id&&B.type!==ue.START),I=r.type===ue.START||r.type===ue.PROMPT||r.type===ue.CONDITIONAL||r.type===ue.CONCLUSION,w=r.type===ue.CONCLUSION?"Display Title":r.type===ue.VARIABLE?"Variable Description (Optional)":"Prompt (use {PREVIOUS_OUTPUT} or a variable {varName})",k=r.type===ue.CONCLUSION?"Enter a title for the displayed output":r.type===ue.VARIABLE?"Describe what this variable represents":"Enter the LLM prompt here...";return C.jsx(Bn,{isOpen:e,onClose:t,title:`Edit Node: ${r.name||r.type}`,children:C.jsxs("div",{className:"space-y-4 text-slate-300",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:r.type===ue.VARIABLE?"Variable Name (no spaces or special chars e.g. myVar)":"Node Name"}),C.jsx("input",{type:"text",name:"name",id:"name",value:r.name,onChange:v,placeholder:r.type===ue.VARIABLE?"e.g., customerName, storyIdea":"Enter a descriptive name",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),r.type===ue.VARIABLE&&C.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["This name will be used in curly braces, like ","{"+(r.name||"variableName")+"}",", in other nodes' prompts."]})]}),I&&C.jsxs("div",{children:[C.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium",children:w}),C.jsx("textarea",{name:"prompt",id:"prompt",rows:r.type===ue.CONCLUSION||r.type===ue.VARIABLE?2:4,value:r.prompt,onChange:v,placeholder:k,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),r.type===ue.CONCLUSION&&C.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This title will appear above the final output displayed by this node."}),r.type===ue.VARIABLE&&C.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This description is for your reference only."})]}),r.type===ue.CONCLUSION&&C.jsxs("div",{children:[C.jsxs("label",{htmlFor:"outputFormatTemplate",className:"block text-sm font-medium",children:["Output Formatting (use ","{PREVIOUS_OUTPUT}",")"]}),C.jsx("textarea",{name:"outputFormatTemplate",id:"outputFormatTemplate",rows:2,value:r.outputFormatTemplate||"",onChange:v,placeholder:"Default: {PREVIOUS_OUTPUT}",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),C.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Define how the final output is displayed. ","{PREVIOUS_OUTPUT}"," will be replaced by the input to this node."]})]}),(r.type===ue.PROMPT||r.type===ue.START||r.type===ue.VARIABLE)&&C.jsxs("div",{children:[C.jsx("label",{htmlFor:"nextNodeId",className:"block text-sm font-medium",children:"Next Node"}),C.jsxs("select",{name:"nextNodeId",id:"nextNodeId",value:r.nextNodeId||"",onChange:v,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[C.jsx("option",{value:"",children:"None (End of workflow path)"}),D.map(B=>C.jsx("option",{value:B.id,children:B.name||`${B.type} (${B.id.substring(0,4)})`},B.id))]})]}),r.type===ue.CONDITIONAL&&C.jsxs("div",{className:"space-y-3",children:[C.jsx("h4",{className:"text-md font-medium",children:"Branches (Conditions & Next Nodes)"}),(z=r.branches)==null?void 0:z.map((B,V)=>C.jsxs("div",{className:"rounded-md border border-slate-600 p-3 space-y-2",children:[C.jsxs("div",{className:"flex items-center space-x-2",children:[C.jsx("input",{type:"text",placeholder:"Condition (e.g., contains 'YES', default)",value:B.condition,onChange:$=>S(V,"condition",$.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),C.jsx("button",{onClick:()=>E(V),className:"text-red-500 hover:text-red-400 p-1",children:C.jsx("i",{className:"fas fa-trash"})})]}),C.jsxs("select",{value:B.nextNodeId||"",onChange:$=>S(V,"nextNodeId",$.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[C.jsx("option",{value:"",children:"None (End branch)"}),D.map($=>C.jsx("option",{value:$.id,children:$.name||`${$.type} (${$.id.substring(0,4)})`},$.id))]})]},B.id)),C.jsx("button",{onClick:A,className:"rounded bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700",children:"Add Branch"})]}),C.jsx("button",{onClick:x,disabled:h,className:`w-full rounded-md px-4 py-2 font-medium text-white ${h?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:"Save Node"}),r.lastRunOutput&&C.jsxs("div",{className:"mt-4",children:[C.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Last Run Output:"}),C.jsx("pre",{className:"mt-1 block w-full rounded-md bg-slate-600 p-2 text-xs text-slate-200 custom-scroll whitespace-pre-wrap break-all max-h-32 overflow-y-auto",children:r.lastRunOutput})]})]})})},_b=({project:o,isOpen:e,onClose:t,onSave:l})=>{const[s,r]=R.useState(""),[m,h]=R.useState(""),[y,p]=R.useState("");R.useEffect(()=>{o&&e&&(r(o.name),h(o.description),p(o.author))},[o,e]);const v=()=>{l({name:s,description:m,author:y})};return!e||!o?null:C.jsx(Bn,{isOpen:e,onClose:t,title:"Project Settings",children:C.jsxs("div",{className:"space-y-4 text-slate-300",children:[C.jsxs("div",{children:[C.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium",children:"Project Name"}),C.jsx("input",{type:"text",id:"projectName",value:s,onChange:x=>r(x.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"projectDescription",className:"block text-sm font-medium",children:"Description"}),C.jsx("textarea",{id:"projectDescription",value:m,onChange:x=>h(x.target.value),rows:3,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"})]}),C.jsxs("div",{children:[C.jsx("label",{htmlFor:"projectAuthor",className:"block text-sm font-medium",children:"Author"}),C.jsx("input",{type:"text",id:"projectAuthor",value:y,onChange:x=>p(x.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),C.jsx("button",{onClick:v,className:"w-full rounded-md bg-green-600 px-4 py-2 font-medium text-white hover:bg-green-700",children:"Save Settings"})]})})},Eb=({runHistory:o,isOpen:e,onClose:t})=>C.jsx(Bn,{isOpen:e,onClose:t,title:"Project Run History",widthClass:"sm:max-w-4xl",children:C.jsxs("div",{className:"max-h-[70vh] overflow-y-auto space-y-4 custom-scroll",children:[o.length===0&&C.jsx("p",{className:"text-slate-400",children:"No runs recorded yet."}),o.slice().reverse().map(l=>C.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[C.jsxs("div",{className:"mb-2 flex flex-wrap justify-between items-center text-sm text-slate-400 gap-x-4 gap-y-1",children:[C.jsxs("span",{children:["Run ID: ",l.id.substring(0,6)]}),C.jsxs("span",{children:["Status: ",C.jsx("span",{className:`font-semibold ${l.status==="completed"?"text-green-400":l.status==="running"?"text-yellow-400":l.status==="stopped"?"text-orange-400":"text-red-400"}`,children:l.status})]}),C.jsx("span",{children:new Date(l.timestamp).toLocaleString()}),l.durationMs!==void 0&&C.jsxs("span",{children:["Duration: ",(l.durationMs/1e3).toFixed(2),"s"]}),l.totalTokensUsed!==void 0&&C.jsxs("span",{children:["Tokens: ",l.totalTokensUsed]})]}),l.steps.map(s=>C.jsxs("details",{className:"mb-2 rounded bg-slate-700 p-2",children:[C.jsxs("summary",{className:"cursor-pointer font-medium text-slate-200",children:["Node: ",s.nodeName||s.nodeId," ",s.error?C.jsx("span",{className:"text-red-400",children:"(Error)"}):"",s.tokensUsed!==void 0&&C.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["(",s.tokensUsed," tokens)"]})]}),C.jsxs("div",{className:"mt-2 space-y-1 pl-4 text-xs text-slate-300",children:[C.jsxs("p",{children:[C.jsx("strong",{children:"Prompt:"})," ",C.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:s.promptSent})]}),C.jsxs("p",{children:[C.jsx("strong",{children:"Response:"})," ",C.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:s.responseReceived})]}),s.error&&C.jsxs("p",{children:[C.jsx("strong",{children:"Error:"})," ",C.jsx("span",{className:"text-red-300",children:s.error})]})]})]},s.nodeId+s.timestamp)),l.finalOutput&&!l.error&&C.jsxs("p",{className:"mt-2 text-sm",children:[C.jsx("strong",{children:"Final Output:"})," ",l.finalOutput]}),l.error&&C.jsxs("p",{className:"mt-2 text-sm text-red-400",children:[C.jsx("strong",{children:"Run Error:"})," ",l.error]})]},l.id))]})}),Ab=({isOpen:o,onClose:e})=>C.jsx(Bn,{isOpen:o,onClose:e,title:"Help & Instructions",widthClass:"sm:max-w-2xl",children:C.jsxs("div",{className:"space-y-4 text-slate-300 max-h-[70vh] overflow-y-auto custom-scroll pr-2",children:[C.jsxs("section",{children:[C.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Getting Started"}),C.jsx("p",{children:"This application allows you to create interactive workflows for Large Language Models (LLMs) using Google's Gemini API."}),C.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-1",children:[C.jsx("li",{children:"Create a new project or open an existing one."}),C.jsx("li",{children:"Add nodes (Start, Prompt, Conditional, Variable, Conclusion) to the canvas."}),C.jsx("li",{children:"Name your nodes. For Prompt nodes, write LLM prompts. For Variable nodes, give them a concise name (e.g., 'customerQuery'). For Conclusion nodes, set a display title."}),C.jsx("li",{children:'Link nodes together to define the workflow data flow. Use the "Next Node" dropdown in the node editor.'}),C.jsx("li",{children:"Use Conditional nodes to create branches based on LLM output."}),C.jsx("li",{children:"Use Variable nodes to store outputs for use in later prompts."}),C.jsx("li",{children:"Use Conclusion nodes to display the final output of a workflow path."}),C.jsx("li",{children:'Configure your Gemini API Key in "App Settings".'}),C.jsx("li",{children:"Run your project and review the results!"})]})]}),C.jsx("hr",{className:"border-slate-700"}),C.jsxs("section",{children:[C.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Node Types"}),C.jsxs("ul",{className:"space-y-1",children:[C.jsxs("li",{children:[C.jsx("strong",{children:"Start Node:"})," The entry point of your workflow. It has one output. Its prompt is sent to the LLM."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Prompt Node:"})," Sends a prompt to the LLM. Can take input from a previous node using ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"})," and from Variable nodes using ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variableName}"}),". Has one output."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Conditional Node:"})," Evaluates the output from the previous node against defined conditions to decide the next step. Its prompt is sent to the LLM (can use variables)."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Variable Node:"})," Captures the output from the previous node and stores it under its name. This name (e.g., 'myVar') can then be used as a placeholder ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{myVar}"})," in subsequent Start, Prompt, or Conditional nodes. It does not execute an LLM prompt itself. Has one output."]}),C.jsxs("li",{children:[C.jsx("strong",{children:"Conclusion Node:"}),' Displays the output received from the previous node. It does not execute an LLM prompt and cannot be linked to a next node. Its "prompt" field in the editor is used as a display title.']})]})]}),C.jsx("hr",{className:"border-slate-700"}),C.jsxs("section",{children:[C.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Using Placeholders in Prompts"}),C.jsx("p",{children:"In Start, Prompt, and Conditional Node prompts, you can use placeholders:"}),C.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[C.jsxs("li",{children:[C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"}),": This is replaced with the text generated by the node that directly feeds into the current node."]}),C.jsxs("li",{children:[C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variableName}"}),": If you have a Variable Node named (for example) 'customerInfo', you can use ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{customerInfo}"})," in a later node's prompt. This will be replaced by the value that the 'customerInfo' Variable Node captured. Variable names should not contain spaces or special characters."]})]}),C.jsxs("p",{className:"mt-1",children:[C.jsx("strong",{children:"Replacement Order:"})," Custom variables like ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variableName}"})," are replaced first, then ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"})," is replaced."]}),C.jsxs("p",{className:"mt-1",children:[`Example: Node A (Start) outputs "The topic is AI ethics." This feeds into Node B (Variable) named 'mainTopic'. Node B feeds into Node C (Prompt).`,C.jsx("br",{}),`Node C's prompt: "Discuss `,C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{mainTopic}"}),". The previous direct input was: ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"}),'."',C.jsx("br",{}),"When Node C runs, ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{mainTopic}"}),' becomes "The topic is AI ethics." (from Variable Node B).',C.jsx("br",{}),C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"}),' becomes "The topic is AI ethics." (from Node B, which is the direct input to C).',C.jsx("br",{}),'So, the LLM receives: "Discuss The topic is AI ethics. The previous direct input was: The topic is AI ethics."']})]}),C.jsx("hr",{className:"border-slate-700"}),C.jsxs("section",{children:[C.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Conditional Node Branching"}),C.jsx("p",{children:"Conditional nodes direct the workflow based on the LLM's response to their prompt. The LLM response is checked against branch conditions."}),C.jsx("p",{className:"font-medium mt-2",children:"Condition Matching Rules (applied to LLM output for the Conditional node):"}),C.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[C.jsxs("li",{children:[C.jsx("strong",{children:"Exact Match (Case-Insensitive):"})," Condition ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"Approved"}),' matches "Approved", "approved".']}),C.jsxs("li",{children:[C.jsx("strong",{children:"Contains (Case-Insensitive):"})," Condition ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"contains 'keyword'"}),' matches if LLM output includes "keyword".']}),C.jsxs("li",{children:[C.jsx("strong",{children:"Starts With (Case-Insensitive):"})," Condition ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"starts with 'prefix'"}),' matches if LLM output begins with "prefix".']}),C.jsxs("li",{children:[C.jsx("strong",{children:"Default Branch:"})," Condition ",C.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"default"})," (or empty) matches if no prior conditions met. Best as the last branch."]})]})]}),C.jsx("hr",{className:"border-slate-700"}),C.jsxs("section",{children:[C.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Execution Panel"}),C.jsx("p",{children:"The panel at the bottom shows real-time information during a workflow run:"}),C.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[C.jsx("li",{children:"Currently executing node."}),C.jsx("li",{children:"A log of each node: start time, end time, status, output (or value set for Variable nodes), and tokens used."}),C.jsx("li",{children:"After the run: total duration and total tokens for the entire workflow."})]}),C.jsx("p",{children:"This panel can be collapsed or expanded using the button on its header."})]})]})}),Nb=({isOpen:o,onClose:e,onSaveAndClose:t,onCloseWithoutSaving:l})=>{if(!o)return null;const s=C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:e,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:w-auto",children:"Cancel"}),C.jsx("button",{onClick:l,className:"ml-3 mt-3 inline-flex w-full justify-center rounded-md bg-yellow-500 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:w-auto",children:"Close without Saving"}),C.jsx("button",{onClick:t,className:"ml-3 mt-3 inline-flex w-full justify-center rounded-md bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:w-auto",children:"Save & Close"})]});return C.jsx(Bn,{isOpen:o,onClose:e,title:"Unsaved Changes",footerContent:s,children:C.jsx("p",{className:"text-slate-300",children:"You have unsaved changes. What would you like to do?"})})},Mb=({logs:o,currentExecutingNodeId:e,nodes:t,runStartTime:l,runEndTime:s,totalTokensThisRun:r,isOpen:m,onToggle:h,currentProjectName:y})=>{const p=R.useRef(null);R.useEffect(()=>{m&&p.current&&(p.current.scrollTop=p.current.scrollHeight)},[o,m]);const v=E=>{if(!E)return"-";try{const D=new Date(E),I=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),w=D.getMilliseconds().toString().padStart(3,"0");return`${I}.${w}`}catch{const I=new Date(E);return`${I.getHours()}:${I.getMinutes()}:${I.getSeconds()}`}},x=E=>{switch(E){case"running":return"text-yellow-400";case"completed":return"text-green-400";case"failed":return"text-red-400";case"skipped":return"text-slate-500";default:return"text-slate-300"}},S=e?t.find(E=>E.id===e):null,A=l&&s?((s-l)/1e3).toFixed(2)+"s":l?"Running...":"-";return C.jsxs("div",{className:`fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700 shadow-2xl z-40 transition-all duration-300 ease-in-out ${m?"max-h-72":"max-h-12 hover:max-h-14"} overflow-hidden`,children:[C.jsxs("div",{className:"flex justify-between items-center p-2 px-4 cursor-pointer bg-slate-750 hover:bg-slate-700",onClick:h,children:[C.jsxs("h3",{className:"text-md font-semibold text-slate-100 truncate",children:["Execution: ",y," ",S?`(Running: ${S.name||"Unnamed Node"})`:l&&!s?"(Running...)":s?"(Finished)":"(Idle)"]}),C.jsxs("div",{className:"flex items-center space-x-4 text-slate-300 text-sm flex-shrink-0",children:[l&&C.jsxs("span",{className:"truncate",children:["Duration: ",A]}),r>0&&C.jsxs("span",{className:"truncate",children:["Tokens: ",r]}),C.jsx("button",{className:"text-slate-300 hover:text-white",children:C.jsx("i",{className:`fas ${m?"fa-chevron-down":"fa-chevron-up"}`})})]})]}),m&&C.jsxs("div",{ref:p,className:"p-4 max-h-[calc(18rem-3rem)] /* Adjusted max-h for 72-12 = 60 */ overflow-y-auto custom-scroll space-y-2 text-sm",children:[o.length===0&&C.jsx("p",{className:"text-slate-400",children:"No execution data for this run yet."}),o.map((E,D)=>C.jsxs("div",{className:"p-2 bg-slate-700 rounded-md",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsxs("span",{className:`font-semibold ${x(E.status)}`,children:[E.nodeName||E.nodeId," - ",E.status.toUpperCase()]}),C.jsxs("span",{className:"text-xs text-slate-400",children:[v(E.startTime)," - ",E.endTime?v(E.endTime):"..."]})]}),E.output&&C.jsx("pre",{className:"mt-1 text-xs bg-slate-600 p-1 rounded whitespace-pre-wrap break-all max-h-20 overflow-y-auto custom-scroll",children:E.output}),E.error&&C.jsxs("p",{className:"mt-1 text-xs text-red-300",children:["Error: ",E.error]}),E.tokensUsed!==void 0&&C.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Tokens: ",E.tokensUsed]})]},D))]})]})},Rb=({scale:o,onZoomIn:e,onZoomOut:t,onReset:l,minScale:s=.25,maxScale:r=2})=>C.jsxs("div",{className:"absolute bottom-4 right-4 z-20 flex flex-col items-center space-y-2 p-2 bg-slate-700 bg-opacity-80 rounded-lg shadow-lg",children:[C.jsx("button",{onClick:e,disabled:o>=r,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom In",title:"Zoom In",children:C.jsx("i",{className:"fas fa-plus"})}),C.jsxs("div",{className:"text-xs text-slate-100 bg-slate-600 px-2 py-1 rounded-md w-full text-center cursor-pointer",onClick:l,title:"Reset Zoom (Current:)",children:[Math.round(o*100),"%"]}),C.jsx("button",{onClick:t,disabled:o<=s,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom Out",title:"Zoom Out",children:C.jsx("i",{className:"fas fa-minus"})})]}),xc=.25,Cc=2,bb=.001,wb=()=>{const o=R.useRef(null),e=R.useRef(null),[t,l]=R.useState(1),[s,r]=R.useState({x:0,y:0}),[m,h]=R.useState(!1),[y,p]=R.useState({x:0,y:0}),{currentProject:v,setCurrentProject:x,isLoading:S,hasUnsavedChanges:A,saveProjectState:E,isUnsavedChangesModalOpen:D,setIsUnsavedChangesModalOpen:I,handleRequestCloseProject:w,handleSaveAndClose:k,handleCloseWithoutSaving:z}=Dx(),{isProjectSettingsModalOpen:B,openProjectSettingsModal:V,closeProjectSettingsModal:$,isRunHistoryModalOpen:j,openRunHistoryModal:ie,closeRunHistoryModal:K,isHelpModalOpen:J,openHelpModal:Me,closeHelpModal:qe,isLlmErrorModalOpen:nt,llmErrorMessage:Qe,openLlmErrorModal:he,closeLlmErrorModal:q}=hb(),{selectedNodeState:ee,setSelectedNodeState:oe,isNodeModalOpen:xe,setIsNodeModalOpen:M,deleteNodeConfirm:Y,setDeleteNodeConfirm:te,deleteActionInitiated:ne,setDeleteActionInitiated:X,handleAddNode:de,handleSaveNode:re,confirmDeleteNode:Ce,handleDeleteNodeRequest:Ie}=Ix({currentProject:v,setCurrentProject:x,saveProjectState:E,editorAreaRef:o,scale:t,translate:s}),{handleNodeMouseDown:Mt}=Ux({currentProject:v,setCurrentProject:x,editorAreaRef:o,setSelectedNodeState:oe,setIsNodeModalOpen:M,deleteActionInitiated:ne,setDeleteActionInitiated:X,scale:t,translate:s}),{isWorkflowRunning:hi,executionLogs:qi,currentExecutingNodeId:Hl,runStartTime:Fl,runEndTime:Yl,totalTokensThisRun:Xs,isExecutionPanelOpen:Qs,setIsExecutionPanelOpen:Bt,runWorkflow:Ws,handleStopWorkflow:fa}=pb({currentProject:v,saveProjectState:E,setCurrentProject:x,hasUnsavedChanges:A}),Gn=R.useMemo(()=>pt(v==null?void 0:v.nodes),[v==null?void 0:v.nodes]),{visualLinks:Hi,getLineToRectangleIntersectionPoint:da}=yb(Gn),ma=R.useCallback(Q=>{if(!o.current)return;Q.preventDefault();const Oe=Q.deltaY*bb*-1,Ze=Math.max(xc,Math.min(Cc,t+Oe)),ht=o.current.getBoundingClientRect(),at=Q.clientX-ht.left,sn=Q.clientY-ht.top;r(Gt=>({x:at-(at-Gt.x)*(Ze/t),y:sn-(sn-Gt.y)*(Ze/t)})),l(Ze)},[t,s.x,s.y]),js=R.useCallback(Q=>{(Q.target===o.current||Q.target===e.current)&&(h(!0),p({x:Q.clientX-s.x,y:Q.clientY-s.y}),o.current&&(o.current.style.cursor="grabbing"))},[s.x,s.y]),Zl=R.useCallback(Q=>{m&&r({x:Q.clientX-y.x,y:Q.clientY-y.y})},[m,y.x,y.y]),Tn=R.useCallback(()=>{m&&(h(!1),o.current&&(o.current.style.cursor="grab"))},[m]);R.useEffect(()=>{const Q=o.current;if(m&&Q)return document.addEventListener("mousemove",Zl),document.addEventListener("mouseup",Tn),()=>{document.removeEventListener("mousemove",Zl),document.removeEventListener("mouseup",Tn),Q&&(Q.style.cursor="grab")};Q&&(Q.style.cursor="grab")},[m,Zl,Tn]);const St=R.useCallback(()=>{const Q=Math.min(Cc,t*1.2);if(o.current){const Oe=o.current.getBoundingClientRect(),Ze=Oe.width/2,ht=Oe.height/2;r(at=>({x:Ze-(Ze-at.x)*(Q/t),y:ht-(ht-at.y)*(Q/t)}))}l(Q)},[t]),an=R.useCallback(()=>{const Q=Math.max(xc,t/1.2);if(o.current){const Oe=o.current.getBoundingClientRect(),Ze=Oe.width/2,ht=Oe.height/2;r(at=>({x:Ze-(Ze-at.x)*(Q/t),y:ht-(ht-at.y)*(Q/t)}))}l(Q)},[t]),_t=R.useCallback(()=>{l(1),r({x:0,y:0})},[]),er=async()=>{if(v)try{await Ws()}catch(Q){const Oe=Q instanceof Error?Q.message:String(Q);Oe.toLowerCase().includes("gemini api error: api key issue")?he(C.jsxs(C.Fragment,{children:[C.jsx("strong",{children:"Gemini API Key Error:"}),' The API key may be missing, invalid, or lacks permissions. Please check your Gemini API Key in "Application Settings".',C.jsxs("p",{className:"text-xs mt-2",children:["Original error: ",Oe.replace("Gemini API Error: API key issue. ","")]})]})):Oe.toLowerCase().includes("ollama")?he(C.jsxs(C.Fragment,{children:[C.jsx("strong",{children:"Ollama Error:"})," ",Oe.replace("Ollama API Error:","").replace("Ollama Network Error:",""),C.jsx("p",{className:"text-xs mt-2",children:'Please check your Ollama server status and settings in "App Settings".'})]})):he(`An unexpected LLM error occurred: ${Oe}`)}},tr=Q=>{if(!v)return;const Oe={...v,...Q};E(Oe),$()};if(S)return C.jsx("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:"Loading project..."});if(!v)return C.jsxs("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:["Project not found. ",C.jsx(ra,{to:"/",className:"text-sky-400 hover:text-sky-300 mt-2",children:"Go Home"})]});const pa=Q=>Gn.find(Oe=>Oe.id===Q);return C.jsxs("div",{className:"flex h-screen flex-col",children:[C.jsx(wy,{onRunProject:er,onStopProject:fa,currentProjectName:v.name,isWorkflowRunning:hi}),C.jsxs("div",{className:"flex flex-1 overflow-hidden pb-12",children:[" ",C.jsxs("aside",{className:"w-60 sm:w-64 bg-slate-800 p-3 sm:p-4 space-y-3 overflow-y-auto custom-scroll shadow-lg flex flex-col",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-3",children:"Node Tools"}),C.jsx("button",{onClick:()=>de(ue.PROMPT),className:"w-full rounded bg-sky-600 px-3 py-2 text-sm text-white hover:bg-sky-700",children:"Add Prompt Node"}),C.jsx("button",{onClick:()=>de(ue.CONDITIONAL),className:"w-full rounded bg-amber-600 px-3 py-2 text-sm text-white hover:bg-amber-700 mt-2",children:"Add Conditional Node"}),C.jsx("button",{onClick:()=>de(ue.VARIABLE),className:"w-full rounded bg-teal-600 px-3 py-2 text-sm text-white hover:bg-teal-700 mt-2",children:"Add Variable Node"}),C.jsx("button",{onClick:()=>de(ue.CONCLUSION),className:"w-full rounded bg-indigo-600 px-3 py-2 text-sm text-white hover:bg-indigo-700 mt-2",children:"Add Conclusion Node"}),C.jsx("hr",{className:"border-slate-700 my-4"}),C.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-100 mb-3",children:"Project Actions"}),C.jsx("button",{onClick:V,className:"w-full rounded bg-slate-700 px-3 py-2 text-sm text-slate-200 hover:bg-slate-600",children:"Project Settings"}),C.jsxs("button",{onClick:ie,className:"w-full rounded bg-slate-700 px-3 py-2 text-sm text-slate-200 hover:bg-slate-600 mt-2",children:["View Run History (",v.runHistory.length,")"]})]}),C.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[C.jsxs("button",{onClick:()=>w(hi),disabled:hi,className:"w-full rounded bg-slate-600 px-3 py-2 text-sm text-slate-200 hover:bg-slate-500 flex items-center justify-center disabled:bg-slate-500 disabled:cursor-not-allowed",children:[C.jsx("i",{className:"fas fa-times-circle mr-2"}),"Close Project"]}),C.jsxs("button",{onClick:Me,className:"w-full rounded bg-slate-600 px-3 py-2 text-sm text-slate-200 hover:bg-slate-500 flex items-center justify-center",children:[C.jsx("i",{className:"fas fa-question-circle mr-2"}),"Help"]})]})]}),C.jsxs("main",{ref:o,className:"flex-1 bg-slate-850 p-0 relative overflow-hidden custom-scroll",style:{backgroundImage:`radial-gradient(${getComputedStyle(document.documentElement).getPropertyValue("--tw-colors-slate-700")||"#374151"} 1px, transparent 1px)`,backgroundSize:`${wl}px ${wl}px`,cursor:"grab"},onWheel:ma,onMouseDown:js,children:[C.jsxs("div",{ref:e,className:"absolute top-0 left-0",style:{transform:`translate(${s.x}px, ${s.y}px) scale(${t})`,transformOrigin:"0 0"},children:[Gn.map(Q=>{var at,sn;if(!Q||typeof Q.type!="string"||!Object.values(ue).includes(Q.type))return C.jsx("div",{className:"absolute rounded-lg shadow-xl p-3 border-2 border-red-700 bg-red-900 text-white flex flex-col justify-center items-center text-xs",style:{left:((at=Q==null?void 0:Q.position)==null?void 0:at.x)||0,top:((sn=Q==null?void 0:Q.position)==null?void 0:sn.y)||0,width:ki,height:Li,boxSizing:"border-box"},children:C.jsx("p",{className:"font-bold mb-1",children:"Error: Invalid Node"})},(Q==null?void 0:Q.id)||`invalid-node-${Math.random().toString(36).substr(2,9)}`);const Oe=oh[Q.type]||oh.PROMPT,Ze=Q.isRunning?"border-purple-500 animate-pulse":Q.hasError?"border-red-500":"border-transparent",ht=`${Oe} ${Ze}`;return C.jsxs("div",{className:`node-${Q.id} absolute rounded-lg shadow-xl p-3 border-2 ${ht} transition-all duration-150 cursor-grab flex flex-col justify-between items-center`,style:{left:Q.position.x,top:Q.position.y,width:ki,height:Li},onMouseDown:Gt=>Mt(Q.id,Gt),title:Q.type===ue.CONCLUSION?Q.lastRunOutput||"Conclusion node displays output here.":Q.type===ue.VARIABLE?`Variable: ${Q.name}. Value: ${Q.lastRunOutput||"(not set)"}`:Q.prompt||"Node has no prompt yet.",children:[C.jsxs("div",{className:"w-full",children:[C.jsxs("div",{className:"flex justify-between items-start w-full",children:[C.jsx("h4",{className:"font-bold text-sm text-white mb-1 truncate max-w-[calc(100%-20px)]",children:Q.name||`(${Q.type.toLowerCase()} node)`}),Q.type!==ue.START&&C.jsx("button",{onClick:Gt=>Ie(Q.id,Gt),className:"node-delete-button text-red-300 hover:text-red-100 text-xs p-0.5 rounded-full hover:bg-red-500/50 absolute top-1 right-1 z-10","aria-label":`Delete node ${Q.name||Q.type}`,children:C.jsx("i",{className:"fas fa-times"})})]}),Q.type===ue.CONCLUSION?C.jsxs("div",{className:"text-xs text-slate-200 mb-1 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[C.jsx("p",{className:"font-semibold italic",children:Q.prompt||ey}),Q.lastRunOutput?C.jsx("p",{className:"mt-1 text-green-300",children:Q.lastRunOutput}):C.jsx("p",{className:"mt-1 text-slate-400",children:"(Awaiting output)"})]}):Q.type===ue.VARIABLE?C.jsxs("div",{className:"text-xs text-slate-200 mb-1 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[C.jsxs("p",{className:"font-semibold italic",children:["Stores as: ","{"+Q.name+"}"]}),Q.lastRunOutput?C.jsxs("p",{className:"mt-1 text-green-300",children:["Last Value: ",Q.lastRunOutput]}):C.jsx("p",{className:"mt-1 text-slate-400",children:"(No value captured yet)"})]}):C.jsx("p",{className:"text-xs text-slate-200 mb-1 h-10 overflow-y-auto custom-scroll line-clamp-3 w-full text-center px-1",children:Q.prompt||"(No prompt configured)"})]}),Q.type!==ue.CONCLUSION&&Q.type!==ue.VARIABLE&&Q.lastRunOutput&&C.jsx("div",{className:"mt-auto pt-1 border-t border-slate-500/50 w-full overflow-hidden",children:C.jsxs("p",{className:`text-xs ${Q.hasError?"text-red-300":"text-green-300"} truncate text-center`,children:["Last Out: ",Q.lastRunOutput]})})]},Q.id)}),C.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:"10000px",height:"10000px"},"aria-hidden":"true",children:[C.jsx("defs",{children:C.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9.5",refY:"3.5",orient:"auto",fill:"#0EA5E9",children:C.jsx("polygon",{points:"0 0, 10 3.5, 0 7"})})}),Hi.map(Q=>{const Oe=pa(Q.sourceId),Ze=pa(Q.targetId);if(!Oe||!Ze)return null;const ht={x:Oe.position.x,y:Oe.position.y,width:ki,height:Li},at={x:Ze.position.x,y:Ze.position.y,width:ki,height:Li},sn={x:Oe.position.x+ki/2,y:Oe.position.y+Li/2},Gt={x:Ze.position.x+ki/2,y:Ze.position.y+Li/2},jt=da(Gt,sn,ht),rn=da(sn,Gt,at),xn=rn.x-jt.x,$l=rn.y-jt.y,Kl=.2;let ha=jt.x+xn*.5,Jl=jt.y+$l*.5;const Xl=-$l*Kl,ga=xn*Kl;let Ql=ha+Xl,zt=Jl+ga;Math.abs(xn)<1&&Math.abs($l)<1&&(Ql+=20,zt+=20);const ut=`M ${jt.x},${jt.y} Q ${Ql},${zt} ${rn.x},${rn.y}`,Tt=.25*jt.x+.5*Ql+.25*rn.x,zn=.25*jt.y+.5*zt+.25*rn.y;return C.jsxs("g",{children:[C.jsx("path",{d:ut,stroke:"#0EA5E9",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),Q.condition&&C.jsx("text",{x:Tt,y:zn-5,fill:"#94A3B8",fontSize:"10px",textAnchor:"middle",className:"pointer-events-auto",children:Q.condition})]},Q.id)})]})]}),C.jsx(Rb,{scale:t,onZoomIn:St,onZoomOut:an,onReset:_t,minScale:xc,maxScale:Cc})]})]}),C.jsx(Mb,{logs:qi,currentExecutingNodeId:Hl,nodes:Gn,runStartTime:Fl,runEndTime:Yl,totalTokensThisRun:Xs,isOpen:Qs,onToggle:()=>Bt(Q=>!Q),currentProjectName:v.name}),C.jsx(Sb,{node:ee,isOpen:xe,onClose:()=>{M(!1),oe(null)},onSave:re,allNodes:Gn}),C.jsx(_b,{project:v,isOpen:B,onClose:$,onSave:tr}),C.jsx(Eb,{runHistory:v.runHistory,isOpen:j,onClose:K}),C.jsx(Ab,{isOpen:J,onClose:qe}),C.jsx(qc,{isOpen:Y.isOpen,onClose:()=>{te({isOpen:!1,nodeId:null,nodeName:null}),X(!1)},onConfirm:()=>{Ce()},title:"Confirm Delete Node",message:C.jsxs(C.Fragment,{children:['Are you sure you want to delete node "',C.jsx("strong",{children:Y.nodeName||"this node"}),'"? This cannot be undone.']}),confirmText:"Delete"}),C.jsx(qc,{isOpen:nt,onClose:q,onConfirm:q,title:"LLM Configuration / API Error",message:Qe,confirmText:"OK",confirmButtonClass:"bg-sky-600 hover:bg-sky-700"}),C.jsx(Nb,{isOpen:D,onClose:()=>I(!1),onSaveAndClose:k,onCloseWithoutSaving:z})]})},Db=()=>{const[o,e]=R.useState(()=>Oi.getAppSettings()),[t,l]=R.useState(()=>Oi.getProjects()),s=R.useCallback(p=>{const v={...na,...p};e(v),Oi.saveAppSettings(v)},[]),r=R.useCallback(p=>{l(v=>{const x=[...v,p];return Oi.saveProjects(x),x})},[]),m=R.useCallback(p=>{l(v=>{const x={...p,updatedAt:new Date().toISOString()},S=v.map(A=>A.id===x.id?x:A);return Oi.saveProjects(S),S})},[]),h=R.useCallback(p=>{l(v=>{const x=v.filter(S=>S.id!==p);return Oi.saveProjects(x),x})},[]),y=R.useCallback(p=>t.find(v=>v.id===p),[t]);return C.jsx(Qg.Provider,{value:{appSettings:o,setAppSettings:s},children:C.jsx(Wg.Provider,{value:{projects:t,addProject:r,updateProject:m,deleteProject:h,getProjectById:y},children:C.jsx(hx,{children:C.jsxs(YT,{children:[C.jsx(_c,{path:"/",element:C.jsx(Cb,{})}),C.jsx(_c,{path:"/project/:projectId",element:C.jsx(wb,{})})]})})})})},Dy=document.getElementById("root");if(!Dy)throw new Error("Could not find root element to mount to");const Ib=j0.createRoot(Dy);Ib.render(C.jsx(Y0.StrictMode,{children:C.jsx(Db,{})}));
