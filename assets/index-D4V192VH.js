(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const x of f.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function d(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(m){if(m.ep)return;m.ep=!0;const f=d(m);fetch(m.href,f)}})();function Lm(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var lr={exports:{}},us={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function p0(){if(rm)return us;rm=1;var u=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function d(o,m,f){var x=null;if(f!==void 0&&(x=""+f),m.key!==void 0&&(x=""+m.key),"key"in m){f={};for(var N in m)N!=="key"&&(f[N]=m[N])}else f=m;return m=f.ref,{$$typeof:u,type:o,key:x,ref:m!==void 0?m:null,props:f}}return us.Fragment=c,us.jsx=d,us.jsxs=d,us}var cm;function y0(){return cm||(cm=1,lr.exports=p0()),lr.exports}var i=y0(),ar={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function x0(){if(fm)return ge;fm=1;var u=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=T&&S[T]||S["@@iterator"],typeof S=="function"?S:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,O={};function k(S,H,D){this.props=S,this.context=H,this.refs=O,this.updater=D||R}k.prototype.isReactComponent={},k.prototype.setState=function(S,H){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,H,"setState")},k.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function L(){}L.prototype=k.prototype;function U(S,H,D){this.props=S,this.context=H,this.refs=O,this.updater=D||R}var z=U.prototype=new L;z.constructor=U,y(z,k.prototype),z.isPureReactComponent=!0;var K=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function F(S,H,D,$,ie,xe){return D=xe.ref,{$$typeof:u,type:S,key:H,ref:D!==void 0?D:null,props:xe}}function te(S,H){return F(S.type,H,void 0,void 0,void 0,S.props)}function G(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function Y(S){var H={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(D){return H[D]})}var ae=/\/+/g;function se(S,H){return typeof S=="object"&&S!==null&&S.key!=null?Y(""+S.key):H.toString(36)}function le(){}function ue(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(le,le):(S.status="pending",S.then(function(H){S.status==="pending"&&(S.status="fulfilled",S.value=H)},function(H){S.status==="pending"&&(S.status="rejected",S.reason=H)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ce(S,H,D,$,ie){var xe=typeof S;(xe==="undefined"||xe==="boolean")&&(S=null);var me=!1;if(S===null)me=!0;else switch(xe){case"bigint":case"string":case"number":me=!0;break;case"object":switch(S.$$typeof){case u:case c:me=!0;break;case v:return me=S._init,ce(me(S._payload),H,D,$,ie)}}if(me)return ie=ie(S),me=$===""?"."+se(S,0):$,K(ie)?(D="",me!=null&&(D=me.replace(ae,"$&/")+"/"),ce(ie,H,D,"",function(Re){return Re})):ie!=null&&(G(ie)&&(ie=te(ie,D+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(ae,"$&/")+"/")+me)),H.push(ie)),1;me=0;var re=$===""?".":$+":";if(K(S))for(var ne=0;ne<S.length;ne++)$=S[ne],xe=re+se($,ne),me+=ce($,H,D,xe,ie);else if(ne=E(S),typeof ne=="function")for(S=ne.call(S),ne=0;!($=S.next()).done;)$=$.value,xe=re+se($,ne++),me+=ce($,H,D,xe,ie);else if(xe==="object"){if(typeof S.then=="function")return ce(ue(S),H,D,$,ie);throw H=String(S),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return me}function V(S,H,D){if(S==null)return S;var $=[],ie=0;return ce(S,$,"","",function(xe){return H.call(D,xe,ie++)}),$}function X(S){if(S._status===-1){var H=S._result;H=H(),H.then(function(D){(S._status===0||S._status===-1)&&(S._status=1,S._result=D)},function(D){(S._status===0||S._status===-1)&&(S._status=2,S._result=D)}),S._status===-1&&(S._status=0,S._result=H)}if(S._status===1)return S._result.default;throw S._result}var M=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Z(){}return ge.Children={map:V,forEach:function(S,H,D){V(S,function(){H.apply(this,arguments)},D)},count:function(S){var H=0;return V(S,function(){H++}),H},toArray:function(S){return V(S,function(H){return H})||[]},only:function(S){if(!G(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ge.Component=k,ge.Fragment=d,ge.Profiler=m,ge.PureComponent=U,ge.StrictMode=o,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ge.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Q.H.useMemoCache(S)}},ge.cache=function(S){return function(){return S.apply(null,arguments)}},ge.cloneElement=function(S,H,D){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var $=y({},S.props),ie=S.key,xe=void 0;if(H!=null)for(me in H.ref!==void 0&&(xe=void 0),H.key!==void 0&&(ie=""+H.key),H)!ee.call(H,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&H.ref===void 0||($[me]=H[me]);var me=arguments.length-2;if(me===1)$.children=D;else if(1<me){for(var re=Array(me),ne=0;ne<me;ne++)re[ne]=arguments[ne+2];$.children=re}return F(S.type,ie,void 0,void 0,xe,$)},ge.createContext=function(S){return S={$$typeof:x,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ge.createElement=function(S,H,D){var $,ie={},xe=null;if(H!=null)for($ in H.key!==void 0&&(xe=""+H.key),H)ee.call(H,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ie[$]=H[$]);var me=arguments.length-2;if(me===1)ie.children=D;else if(1<me){for(var re=Array(me),ne=0;ne<me;ne++)re[ne]=arguments[ne+2];ie.children=re}if(S&&S.defaultProps)for($ in me=S.defaultProps,me)ie[$]===void 0&&(ie[$]=me[$]);return F(S,xe,void 0,void 0,null,ie)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(S){return{$$typeof:N,render:S}},ge.isValidElement=G,ge.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:X}},ge.memo=function(S,H){return{$$typeof:h,type:S,compare:H===void 0?null:H}},ge.startTransition=function(S){var H=Q.T,D={};Q.T=D;try{var $=S(),ie=Q.S;ie!==null&&ie(D,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Z,M)}catch(xe){M(xe)}finally{Q.T=H}},ge.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ge.use=function(S){return Q.H.use(S)},ge.useActionState=function(S,H,D){return Q.H.useActionState(S,H,D)},ge.useCallback=function(S,H){return Q.H.useCallback(S,H)},ge.useContext=function(S){return Q.H.useContext(S)},ge.useDebugValue=function(){},ge.useDeferredValue=function(S,H){return Q.H.useDeferredValue(S,H)},ge.useEffect=function(S,H,D){var $=Q.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(S,H)},ge.useId=function(){return Q.H.useId()},ge.useImperativeHandle=function(S,H,D){return Q.H.useImperativeHandle(S,H,D)},ge.useInsertionEffect=function(S,H){return Q.H.useInsertionEffect(S,H)},ge.useLayoutEffect=function(S,H){return Q.H.useLayoutEffect(S,H)},ge.useMemo=function(S,H){return Q.H.useMemo(S,H)},ge.useOptimistic=function(S,H){return Q.H.useOptimistic(S,H)},ge.useReducer=function(S,H,D){return Q.H.useReducer(S,H,D)},ge.useRef=function(S){return Q.H.useRef(S)},ge.useState=function(S){return Q.H.useState(S)},ge.useSyncExternalStore=function(S,H,D){return Q.H.useSyncExternalStore(S,H,D)},ge.useTransition=function(){return Q.H.useTransition()},ge.version="19.1.0",ge}var dm;function xr(){return dm||(dm=1,ar.exports=x0()),ar.exports}var b=xr();const Uu=Lm(b);var nr={exports:{}},is={},sr={exports:{}},ur={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function g0(){return mm||(mm=1,function(u){function c(V,X){var M=V.length;V.push(X);e:for(;0<M;){var Z=M-1>>>1,S=V[Z];if(0<m(S,X))V[Z]=X,V[M]=S,M=Z;else break e}}function d(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var X=V[0],M=V.pop();if(M!==X){V[0]=M;e:for(var Z=0,S=V.length,H=S>>>1;Z<H;){var D=2*(Z+1)-1,$=V[D],ie=D+1,xe=V[ie];if(0>m($,M))ie<S&&0>m(xe,$)?(V[Z]=xe,V[ie]=M,Z=ie):(V[Z]=$,V[D]=M,Z=D);else if(ie<S&&0>m(xe,M))V[Z]=xe,V[ie]=M,Z=ie;else break e}}return X}function m(V,X){var M=V.sortIndex-X.sortIndex;return M!==0?M:V.id-X.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;u.unstable_now=function(){return f.now()}}else{var x=Date,N=x.now();u.unstable_now=function(){return x.now()-N}}var g=[],h=[],v=1,T=null,E=3,R=!1,y=!1,O=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function K(V){for(var X=d(h);X!==null;){if(X.callback===null)o(h);else if(X.startTime<=V)o(h),X.sortIndex=X.expirationTime,c(g,X);else break;X=d(h)}}function Q(V){if(O=!1,K(V),!y)if(d(g)!==null)y=!0,ee||(ee=!0,se());else{var X=d(h);X!==null&&ce(Q,X.startTime-V)}}var ee=!1,F=-1,te=5,G=-1;function Y(){return k?!0:!(u.unstable_now()-G<te)}function ae(){if(k=!1,ee){var V=u.unstable_now();G=V;var X=!0;try{e:{y=!1,O&&(O=!1,U(F),F=-1),R=!0;var M=E;try{t:{for(K(V),T=d(g);T!==null&&!(T.expirationTime>V&&Y());){var Z=T.callback;if(typeof Z=="function"){T.callback=null,E=T.priorityLevel;var S=Z(T.expirationTime<=V);if(V=u.unstable_now(),typeof S=="function"){T.callback=S,K(V),X=!0;break t}T===d(g)&&o(g),K(V)}else o(g);T=d(g)}if(T!==null)X=!0;else{var H=d(h);H!==null&&ce(Q,H.startTime-V),X=!1}}break e}finally{T=null,E=M,R=!1}X=void 0}}finally{X?se():ee=!1}}}var se;if(typeof z=="function")se=function(){z(ae)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ue=le.port2;le.port1.onmessage=ae,se=function(){ue.postMessage(null)}}else se=function(){L(ae,0)};function ce(V,X){F=L(function(){V(u.unstable_now())},X)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(V){V.callback=null},u.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<V?Math.floor(1e3/V):5},u.unstable_getCurrentPriorityLevel=function(){return E},u.unstable_next=function(V){switch(E){case 1:case 2:case 3:var X=3;break;default:X=E}var M=E;E=X;try{return V()}finally{E=M}},u.unstable_requestPaint=function(){k=!0},u.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var M=E;E=V;try{return X()}finally{E=M}},u.unstable_scheduleCallback=function(V,X,M){var Z=u.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,V){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=M+S,V={id:v++,callback:X,priorityLevel:V,startTime:M,expirationTime:S,sortIndex:-1},M>Z?(V.sortIndex=M,c(h,V),d(g)===null&&V===d(h)&&(O?(U(F),F=-1):O=!0,ce(Q,M-Z))):(V.sortIndex=S,c(g,V),y||R||(y=!0,ee||(ee=!0,se()))),V},u.unstable_shouldYield=Y,u.unstable_wrapCallback=function(V){var X=E;return function(){var M=E;E=X;try{return V.apply(this,arguments)}finally{E=M}}}}(ur)),ur}var hm;function v0(){return hm||(hm=1,sr.exports=g0()),sr.exports}var ir={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function b0(){if(pm)return ct;pm=1;var u=xr();function c(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(c(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function f(g,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:T==null?null:""+T,children:g,containerInfo:h,implementation:v}}var x=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(g,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(c(299));return f(g,h,null,v)},ct.flushSync=function(g){var h=x.T,v=o.p;try{if(x.T=null,o.p=2,g)return g()}finally{x.T=h,o.p=v,o.d.f()}},ct.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(g,h))},ct.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},ct.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var v=h.as,T=N(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?o.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:R}):v==="script"&&o.d.X(g,{crossOrigin:T,integrity:E,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ct.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=N(h.as,h.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(g)},ct.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=N(v,h.crossOrigin);o.d.L(g,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ct.preloadModule=function(g,h){if(typeof g=="string")if(h){var v=N(h.as,h.crossOrigin);o.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(g)},ct.requestFormReset=function(g){o.d.r(g)},ct.unstable_batchedUpdates=function(g,h){return g(h)},ct.useFormState=function(g,h,v){return x.H.useFormState(g,h,v)},ct.useFormStatus=function(){return x.H.useHostTransitionStatus()},ct.version="19.1.0",ct}var ym;function N0(){if(ym)return ir.exports;ym=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(c){console.error(c)}}return u(),ir.exports=b0(),ir.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function S0(){if(xm)return is;xm=1;var u=v0(),c=xr(),d=N0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(f(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var s=n.alternate;if(s===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===l)return N(n),e;if(s===a)return N(n),t;s=s.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=s;else{for(var r=!1,p=n.child;p;){if(p===l){r=!0,l=n,a=s;break}if(p===a){r=!0,a=n,l=s;break}p=p.sibling}if(!r){for(p=s.child;p;){if(p===l){r=!0,l=s,a=n;break}if(p===a){r=!0,a=s,l=n;break}p=p.sibling}if(!r)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=ae&&e[ae]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case k:return"Profiler";case O:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case z:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}var ce=Array.isArray,V=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},Z=[],S=-1;function H(e){return{current:e}}function D(e){0>S||(e.current=Z[S],Z[S]=null,S--)}function $(e,t){S++,Z[S]=e.current,e.current=t}var ie=H(null),xe=H(null),me=H(null),re=H(null);function ne(e,t){switch($(me,t),$(xe,e),$(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kd(t),e=Hd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(ie),$(ie,e)}function Re(){D(ie),D(xe),D(me)}function Ze(e){e.memoizedState!==null&&$(re,e);var t=ie.current,l=Hd(t,e.type);t!==l&&($(xe,e),$(ie,l))}function yt(e){xe.current===e&&(D(ie),D(xe)),re.current===e&&(D(re),ts._currentValue=M)}var dt=Object.prototype.hasOwnProperty,Te=u.unstable_scheduleCallback,Ee=u.unstable_cancelCallback,Je=u.unstable_shouldYield,Rt=u.unstable_requestPaint,ut=u.unstable_now,el=u.unstable_getCurrentPriorityLevel,vl=u.unstable_ImmediatePriority,vs=u.unstable_UserBlockingPriority,ya=u.unstable_NormalPriority,Vu=u.unstable_LowPriority,ql=u.unstable_IdlePriority,qu=u.log,Gu=u.unstable_setDisableYieldValue,Gl=null,mt=null;function Xt(e){if(typeof qu=="function"&&Gu(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(Gl,e)}catch{}}var ht=Math.clz32?Math.clz32:bs,Xu=Math.log,Qu=Math.LN2;function bs(e){return e>>>=0,e===0?32:31-(Xu(e)/Qu|0)|0}var xa=256,ga=4194304;function tl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function va(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var p=a&134217727;return p!==0?(a=p&~s,a!==0?n=tl(a):(r&=p,r!==0?n=tl(r):l||(l=p&~e,l!==0&&(n=tl(l))))):(p=a&~s,p!==0?n=tl(p):r!==0?n=tl(r):l||(l=a&~e,l!==0&&(n=tl(l)))),n===0?0:t!==0&&t!==n&&(t&s)===0&&(s=n&-n,l=t&-t,s>=l||s===32&&(l&4194048)!==0)?t:n}function Xl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ba(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var e=xa;return xa<<=1,(xa&4194048)===0&&(xa=256),e}function Ss(){var e=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),e}function Ql(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function $l(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zl(e,t,l,a,n,s){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var p=e.entanglements,j=e.expirationTimes,I=e.hiddenUpdates;for(l=r&~l;0<l;){var P=31-ht(l),W=1<<P;p[P]=0,j[P]=-1;var B=I[P];if(B!==null)for(I[P]=null,P=0;P<B.length;P++){var q=B[P];q!==null&&(q.lane&=-536870913)}l&=~W}a!==0&&on(e,a,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function on(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-ht(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function rn(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-ht(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function cn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lt(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function it(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var xt=Math.random().toString(36).slice(2),Ge="__reactFiber$"+xt,ot="__reactProps$"+xt,Na="__reactContainer$"+xt,$u="__reactEvents$"+xt,sh="__reactListeners$"+xt,uh="__reactHandles$"+xt,jr="__reactResources$"+xt,dn="__reactMarker$"+xt;function Zu(e){delete e[Ge],delete e[ot],delete e[$u],delete e[sh],delete e[uh]}function Sa(e){var t=e[Ge];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Na]||l[Ge]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Vd(e);e!==null;){if(l=e[Ge])return l;e=Vd(e)}return t}e=l,l=e.parentNode}return null}function Ea(e){if(e=e[Ge]||e[Na]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function mn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ja(e){var t=e[jr];return t||(t=e[jr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[dn]=!0}var Tr=new Set,Ar={};function Pl(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(Ar[e]=t,e=0;e<t.length;e++)Tr.add(t[e])}var ih=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cr={},Or={};function oh(e){return dt.call(Or,e)?!0:dt.call(Cr,e)?!1:ih.test(e)?Or[e]=!0:(Cr[e]=!0,!1)}function Es(e,t,l){if(oh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function js(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function ll(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}var Pu,wr;function Aa(e){if(Pu===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Pu=t&&t[1]||"",wr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pu+e+wr}var Ku=!1;function Ju(e,t){if(!e||Ku)return"";Ku=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var B=q}Reflect.construct(e,[],W)}else{try{W.call()}catch(q){B=q}e.call(W.prototype)}}else{try{throw Error()}catch(q){B=q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),r=s[0],p=s[1];if(r&&p){var j=r.split(`
`),I=p.split(`
`);for(n=a=0;a<j.length&&!j[a].includes("DetermineComponentFrameRoot");)a++;for(;n<I.length&&!I[n].includes("DetermineComponentFrameRoot");)n++;if(a===j.length||n===I.length)for(a=j.length-1,n=I.length-1;1<=a&&0<=n&&j[a]!==I[n];)n--;for(;1<=a&&0<=n;a--,n--)if(j[a]!==I[n]){if(a!==1||n!==1)do if(a--,n--,0>n||j[a]!==I[n]){var P=`
`+j[a].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=a&&0<=n);break}}}finally{Ku=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Aa(l):""}function rh(e){switch(e.tag){case 26:case 27:case 5:return Aa(e.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 15:return Ju(e.type,!1);case 11:return Ju(e.type.render,!1);case 1:return Ju(e.type,!0);case 31:return Aa("Activity");default:return""}}function Rr(e){try{var t="";do t+=rh(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ch(e){var t=Mr(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ts(e){e._valueTracker||(e._valueTracker=ch(e))}function Lr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Mr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function As(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fh=/[\n"\\]/g;function Lt(e){return e.replace(fh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wu(e,t,l,a,n,s,r,p){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mt(t)):e.value!==""+Mt(t)&&(e.value=""+Mt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Fu(e,r,Mt(t)):l!=null?Fu(e,r,Mt(l)):a!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Mt(p):e.removeAttribute("name")}function Dr(e,t,l,a,n,s,r,p){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||l!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;l=l!=null?""+Mt(l):"",t=t!=null?""+Mt(t):l,p||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=p?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function Fu(e,t,l){t==="number"&&As(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ca(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Ur(e,t,l){if(t!=null&&(t=""+Mt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Mt(l):""}function _r(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(ce(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Mt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Oa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||dh.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function kr(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&zr(e,n,a)}else for(var s in t)t.hasOwnProperty(s)&&zr(e,s,t[s])}function ei(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cs(e){return hh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ti=null;function li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,Ra=null;function Hr(e){var t=Ea(e);if(t&&(e=t.stateNode)){var l=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wu(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[ot]||null;if(!n)throw Error(o(90));Wu(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Lr(a)}break e;case"textarea":Ur(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ca(e,!!l.multiple,t,!1)}}}var ai=!1;function Ir(e,t,l){if(ai)return e(t,l);ai=!0;try{var a=e(t);return a}finally{if(ai=!1,(wa!==null||Ra!==null)&&(du(),wa&&(t=wa,e=Ra,Ra=wa=null,Hr(t),e)))for(t=0;t<e.length;t++)Hr(e[t])}}function hn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ot]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=!1;if(al)try{var pn={};Object.defineProperty(pn,"passive",{get:function(){ni=!0}}),window.addEventListener("test",pn,pn),window.removeEventListener("test",pn,pn)}catch{ni=!1}var bl=null,si=null,Os=null;function Br(){if(Os)return Os;var e,t=si,l=t.length,a,n="value"in bl?bl.value:bl.textContent,s=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===n[s-a];a++);return Os=n.slice(e,1<a?1-a:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rs(){return!0}function Yr(){return!1}function gt(e){function t(l,a,n,s,r){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(l=e[p],this[p]=l?l(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rs:Yr,this.isPropagationStopped=Yr,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),t}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=gt(Kl),yn=v({},Kl,{view:0,detail:0}),ph=gt(yn),ui,ii,xn,Ls=v({},yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xn&&(xn&&e.type==="mousemove"?(ui=e.screenX-xn.screenX,ii=e.screenY-xn.screenY):ii=ui=0,xn=e),ui)},movementY:function(e){return"movementY"in e?e.movementY:ii}}),Vr=gt(Ls),yh=v({},Ls,{dataTransfer:0}),xh=gt(yh),gh=v({},yn,{relatedTarget:0}),oi=gt(gh),vh=v({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),bh=gt(vh),Nh=v({},Kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sh=gt(Nh),Eh=v({},Kl,{data:0}),qr=gt(Eh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ah={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ch(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ah[e])?!!t[e]:!1}function ri(){return Ch}var Oh=v({},yn,{key:function(e){if(e.key){var t=jh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Th[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=gt(Oh),Rh=v({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gr=gt(Rh),Mh=v({},yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri}),Lh=gt(Mh),Dh=v({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uh=gt(Dh),_h=v({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zh=gt(_h),kh=v({},Kl,{newState:0,oldState:0}),Hh=gt(kh),Ih=[9,13,27,32],ci=al&&"CompositionEvent"in window,gn=null;al&&"documentMode"in document&&(gn=document.documentMode);var Bh=al&&"TextEvent"in window&&!gn,Xr=al&&(!ci||gn&&8<gn&&11>=gn),Qr=" ",$r=!1;function Zr(e,t){switch(e){case"keyup":return Ih.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ma=!1;function Yh(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return t.which!==32?null:($r=!0,Qr);case"textInput":return e=t.data,e===Qr&&$r?null:e;default:return null}}function Vh(e,t){if(Ma)return e==="compositionend"||!ci&&Zr(e,t)?(e=Br(),Os=si=bl=null,Ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xr&&t.locale!=="ko"?null:t.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qh[e.type]:t==="textarea"}function Jr(e,t,l,a){wa?Ra?Ra.push(a):Ra=[a]:wa=a,t=gu(t,"onChange"),0<t.length&&(l=new Ms("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var vn=null,bn=null;function Gh(e){Ld(e,0)}function Ds(e){var t=mn(e);if(Lr(t))return e}function Wr(e,t){if(e==="change")return t}var Fr=!1;if(al){var fi;if(al){var di="oninput"in document;if(!di){var ec=document.createElement("div");ec.setAttribute("oninput","return;"),di=typeof ec.oninput=="function"}fi=di}else fi=!1;Fr=fi&&(!document.documentMode||9<document.documentMode)}function tc(){vn&&(vn.detachEvent("onpropertychange",lc),bn=vn=null)}function lc(e){if(e.propertyName==="value"&&Ds(bn)){var t=[];Jr(t,bn,e,li(e)),Ir(Gh,t)}}function Xh(e,t,l){e==="focusin"?(tc(),vn=t,bn=l,vn.attachEvent("onpropertychange",lc)):e==="focusout"&&tc()}function Qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ds(bn)}function $h(e,t){if(e==="click")return Ds(t)}function Zh(e,t){if(e==="input"||e==="change")return Ds(t)}function Ph(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Ph;function Nn(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!dt.call(t,n)||!St(e[n],t[n]))return!1}return!0}function ac(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var l=ac(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ac(l)}}function sc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=As(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=As(e.document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kh=al&&"documentMode"in document&&11>=document.documentMode,La=null,hi=null,Sn=null,pi=!1;function ic(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;pi||La==null||La!==As(a)||(a=La,"selectionStart"in a&&mi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Sn&&Nn(Sn,a)||(Sn=a,a=gu(hi,"onSelect"),0<a.length&&(t=new Ms("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=La)))}function Jl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Da={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionrun:Jl("Transition","TransitionRun"),transitionstart:Jl("Transition","TransitionStart"),transitioncancel:Jl("Transition","TransitionCancel"),transitionend:Jl("Transition","TransitionEnd")},yi={},oc={};al&&(oc=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Wl(e){if(yi[e])return yi[e];if(!Da[e])return e;var t=Da[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in oc)return yi[e]=t[l];return e}var rc=Wl("animationend"),cc=Wl("animationiteration"),fc=Wl("animationstart"),Jh=Wl("transitionrun"),Wh=Wl("transitionstart"),Fh=Wl("transitioncancel"),dc=Wl("transitionend"),mc=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xi.push("scrollEnd");function Bt(e,t){mc.set(e,t),Pl(t,[e])}var hc=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var l=hc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Rr(t)},hc.set(e,t),t)}return{value:e,source:t,stack:Rr(t)}}var Ut=[],Ua=0,gi=0;function Us(){for(var e=Ua,t=gi=Ua=0;t<e;){var l=Ut[t];Ut[t++]=null;var a=Ut[t];Ut[t++]=null;var n=Ut[t];Ut[t++]=null;var s=Ut[t];if(Ut[t++]=null,a!==null&&n!==null){var r=a.pending;r===null?n.next=n:(n.next=r.next,r.next=n),a.pending=n}s!==0&&pc(l,n,s)}}function _s(e,t,l,a){Ut[Ua++]=e,Ut[Ua++]=t,Ut[Ua++]=l,Ut[Ua++]=a,gi|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function vi(e,t,l,a){return _s(e,t,l,a),zs(e)}function _a(e,t){return _s(e,null,null,t),zs(e)}function pc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,s=e.return;s!==null;)s.childLanes|=l,a=s.alternate,a!==null&&(a.childLanes|=l),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-ht(l),e=s.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),s):null}function zs(e){if(50<$n)throw $n=0,Ao=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var za={};function ep(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,l,a){return new ep(e,t,l,a)}function bi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nl(e,t){var l=e.alternate;return l===null?(l=Et(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function yc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,l,a,n,s){var r=0;if(a=e,typeof e=="function")bi(e)&&(r=1);else if(typeof e=="string")r=l0(e,l,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case G:return e=Et(31,l,t,n),e.elementType=G,e.lanes=s,e;case y:return Fl(l.children,n,s,t);case O:r=8,n|=24;break;case k:return e=Et(12,l,t,n|2),e.elementType=k,e.lanes=s,e;case Q:return e=Et(13,l,t,n),e.elementType=Q,e.lanes=s,e;case ee:return e=Et(19,l,t,n),e.elementType=ee,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:case z:r=10;break e;case U:r=9;break e;case K:r=11;break e;case F:r=14;break e;case te:r=16,a=null;break e}r=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Et(r,l,t,n),t.elementType=e,t.type=a,t.lanes=s,t}function Fl(e,t,l,a){return e=Et(7,e,a,t),e.lanes=l,e}function Ni(e,t,l){return e=Et(6,e,null,t),e.lanes=l,e}function Si(e,t,l){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ka=[],Ha=0,Hs=null,Is=0,_t=[],zt=0,ea=null,sl=1,ul="";function ta(e,t){ka[Ha++]=Is,ka[Ha++]=Hs,Hs=e,Is=t}function xc(e,t,l){_t[zt++]=sl,_t[zt++]=ul,_t[zt++]=ea,ea=e;var a=sl;e=ul;var n=32-ht(a)-1;a&=~(1<<n),l+=1;var s=32-ht(t)+n;if(30<s){var r=n-n%5;s=(a&(1<<r)-1).toString(32),a>>=r,n-=r,sl=1<<32-ht(t)+n|l<<n|a,ul=s+e}else sl=1<<s|l<<n|a,ul=e}function Ei(e){e.return!==null&&(ta(e,1),xc(e,1,0))}function ji(e){for(;e===Hs;)Hs=ka[--Ha],ka[Ha]=null,Is=ka[--Ha],ka[Ha]=null;for(;e===ea;)ea=_t[--zt],_t[zt]=null,ul=_t[--zt],_t[zt]=null,sl=_t[--zt],_t[zt]=null}var pt=null,Ie=null,Ce=!1,la=null,Qt=!1,Ti=Error(o(519));function aa(e){var t=Error(o(418,""));throw Tn(Dt(t,e)),Ti}function gc(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Ge]=e,t[ot]=a,l){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(l=0;l<Pn.length;l++)Se(Pn[l],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Dr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ts(t);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),_r(t,a.value,a.defaultValue,a.children),Ts(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||zd(t.textContent,l)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=vu),t=!0):t=!1,t||aa(e)}function vc(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:pt=pt.return}}function En(e){if(e!==pt)return!1;if(!Ce)return vc(e),Ce=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Vo(e.type,e.memoizedProps)),l=!l),l&&Ie&&aa(e),vc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Ie=Vt(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Ie=null}}else t===27?(t=Ie,zl(e.type)?(e=Qo,Qo=null,Ie=e):Ie=t):Ie=pt?Vt(e.stateNode.nextSibling):null;return!0}function jn(){Ie=pt=null,Ce=!1}function bc(){var e=la;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),la=null),e}function Tn(e){la===null?la=[e]:la.push(e)}var Ai=H(null),na=null,il=null;function Nl(e,t,l){$(Ai,t._currentValue),t._currentValue=l}function ol(e){e._currentValue=Ai.current,D(Ai)}function Ci(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Oi(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var r=n.child;s=s.firstContext;e:for(;s!==null;){var p=s;s=n;for(var j=0;j<t.length;j++)if(p.context===t[j]){s.lanes|=l,p=s.alternate,p!==null&&(p.lanes|=l),Ci(s.return,l,e),a||(r=null);break e}s=p.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(o(341));r.lanes|=l,s=r.alternate,s!==null&&(s.lanes|=l),Ci(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function An(e,t,l,a){e=null;for(var n=t,s=!1;n!==null;){if(!s){if((n.flags&524288)!==0)s=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var p=n.type;St(n.pendingProps.value,r.value)||(e!==null?e.push(p):e=[p])}}else if(n===re.current){if(r=n.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(ts):e=[ts])}n=n.return}e!==null&&Oi(t,e,l,a),t.flags|=262144}function Bs(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){na=e,il=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return Nc(na,e)}function Ys(e,t){return na===null&&sa(e),Nc(e,t)}function Nc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},il===null){if(e===null)throw Error(o(308));il=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else il=il.next=t;return l}var tp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},lp=u.unstable_scheduleCallback,ap=u.unstable_NormalPriority,Pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wi(){return{controller:new tp,data:new Map,refCount:0}}function Cn(e){e.refCount--,e.refCount===0&&lp(ap,function(){e.controller.abort()})}var On=null,Ri=0,Ia=0,Ba=null;function np(e,t){if(On===null){var l=On=[];Ri=0,Ia=Do(),Ba={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ri++,t.then(Sc,Sc),t}function Sc(){if(--Ri===0&&On!==null){Ba!==null&&(Ba.status="fulfilled");var e=On;On=null,Ia=0,Ba=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sp(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Ec=V.S;V.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&np(e,t),Ec!==null&&Ec(e,t)};var ua=H(null);function Mi(){var e=ua.current;return e!==null?e:_e.pooledCache}function Vs(e,t){t===null?$(ua,ua.current):$(ua,t.pool)}function jc(){var e=Mi();return e===null?null:{parent:Pe._currentValue,pool:e}}var wn=Error(o(460)),Tc=Error(o(474)),qs=Error(o(542)),Li={then:function(){}};function Ac(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gs(){}function Cc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Gs,Gs),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wc(e),e;default:if(typeof t.status=="string")t.then(Gs,Gs);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wc(e),e}throw Rn=t,wn}}var Rn=null;function Oc(){if(Rn===null)throw Error(o(459));var e=Rn;return Rn=null,e}function wc(e){if(e===wn||e===qs)throw Error(o(483))}var Sl=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function El(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Oe&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=zs(e),pc(e,null,l),t}return _s(e,a,t,l),zs(e)}function Mn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,rn(e,l)}}function _i(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,s=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};s===null?n=s=r:s=s.next=r,l=l.next}while(l!==null);s===null?n=s=t:s=s.next=t}else n=s=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var zi=!1;function Ln(){if(zi){var e=Ba;if(e!==null)throw e}}function Dn(e,t,l,a){zi=!1;var n=e.updateQueue;Sl=!1;var s=n.firstBaseUpdate,r=n.lastBaseUpdate,p=n.shared.pending;if(p!==null){n.shared.pending=null;var j=p,I=j.next;j.next=null,r===null?s=I:r.next=I,r=j;var P=e.alternate;P!==null&&(P=P.updateQueue,p=P.lastBaseUpdate,p!==r&&(p===null?P.firstBaseUpdate=I:p.next=I,P.lastBaseUpdate=j))}if(s!==null){var W=n.baseState;r=0,P=I=j=null,p=s;do{var B=p.lane&-536870913,q=B!==p.lane;if(q?(je&B)===B:(a&B)===B){B!==0&&B===Ia&&(zi=!0),P!==null&&(P=P.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ye=e,he=p;B=t;var De=l;switch(he.tag){case 1:if(ye=he.payload,typeof ye=="function"){W=ye.call(De,W,B);break e}W=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=he.payload,B=typeof ye=="function"?ye.call(De,W,B):ye,B==null)break e;W=v({},W,B);break e;case 2:Sl=!0}}B=p.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=n.callbacks,q===null?n.callbacks=[B]:q.push(B))}else q={lane:B,tag:p.tag,payload:p.payload,callback:p.callback,next:null},P===null?(I=P=q,j=W):P=P.next=q,r|=B;if(p=p.next,p===null){if(p=n.shared.pending,p===null)break;q=p,p=q.next,q.next=null,n.lastBaseUpdate=q,n.shared.pending=null}}while(!0);P===null&&(j=W),n.baseState=j,n.firstBaseUpdate=I,n.lastBaseUpdate=P,s===null&&(n.shared.lanes=0),Ll|=r,e.lanes=r,e.memoizedState=W}}function Rc(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Mc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Rc(l[e],t)}var Ya=H(null),Xs=H(0);function Lc(e,t){e=pl,$(Xs,e),$(Ya,t),pl=e|t.baseLanes}function ki(){$(Xs,pl),$(Ya,Ya.current)}function Hi(){pl=Xs.current,D(Ya),D(Xs)}var Tl=0,ve=null,Me=null,Xe=null,Qs=!1,Va=!1,ia=!1,$s=0,Un=0,qa=null,up=0;function Ve(){throw Error(o(321))}function Ii(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!St(e[l],t[l]))return!1;return!0}function Bi(e,t,l,a,n,s){return Tl=s,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?yf:xf,ia=!1,s=l(a,n),ia=!1,Va&&(s=Uc(t,l,a,n)),Dc(e),s}function Dc(e){V.H=Fs;var t=Me!==null&&Me.next!==null;if(Tl=0,Xe=Me=ve=null,Qs=!1,Un=0,qa=null,t)throw Error(o(300));e===null||Fe||(e=e.dependencies,e!==null&&Bs(e)&&(Fe=!0))}function Uc(e,t,l,a){ve=e;var n=0;do{if(Va&&(qa=null),Un=0,Va=!1,25<=n)throw Error(o(301));if(n+=1,Xe=Me=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}V.H=mp,s=t(l,a)}while(Va);return s}function ip(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?_n(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(ve.flags|=1024),t}function Yi(){var e=$s!==0;return $s=0,e}function Vi(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function qi(e){if(Qs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qs=!1}Tl=0,Xe=Me=ve=null,Va=!1,Un=$s=0,qa=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Qe(){if(Me===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Xe===null?ve.memoizedState:Xe.next;if(t!==null)Xe=t,Me=e;else{if(e===null)throw ve.alternate===null?Error(o(467)):Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _n(e){var t=Un;return Un+=1,qa===null&&(qa=[]),e=Cc(qa,e,t),t=ve,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?yf:xf),e}function Zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return _n(e);if(e.$$typeof===z)return rt(e)}throw Error(o(438,String(e)))}function Xi(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Gi(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Y;return t.index++,l}function rl(e,t){return typeof t=="function"?t(e):t}function Ps(e){var t=Qe();return Qi(t,Me,e)}function Qi(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,s=a.pending;if(s!==null){if(n!==null){var r=n.next;n.next=s.next,s.next=r}t.baseQueue=n=s,a.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var p=r=null,j=null,I=t,P=!1;do{var W=I.lane&-536870913;if(W!==I.lane?(je&W)===W:(Tl&W)===W){var B=I.revertLane;if(B===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),W===Ia&&(P=!0);else if((Tl&B)===B){I=I.next,B===Ia&&(P=!0);continue}else W={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},j===null?(p=j=W,r=s):j=j.next=W,ve.lanes|=B,Ll|=B;W=I.action,ia&&l(s,W),s=I.hasEagerState?I.eagerState:l(s,W)}else B={lane:W,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},j===null?(p=j=B,r=s):j=j.next=B,ve.lanes|=W,Ll|=W;I=I.next}while(I!==null&&I!==t);if(j===null?r=s:j.next=p,!St(s,e.memoizedState)&&(Fe=!0,P&&(l=Ba,l!==null)))throw l;e.memoizedState=s,e.baseState=r,e.baseQueue=j,a.lastRenderedState=s}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function $i(e){var t=Qe(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,s=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do s=e(s,r.action),r=r.next;while(r!==n);St(s,t.memoizedState)||(Fe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),l.lastRenderedState=s}return[s,a]}function _c(e,t,l){var a=ve,n=Qe(),s=Ce;if(s){if(l===void 0)throw Error(o(407));l=l()}else l=t();var r=!St((Me||n).memoizedState,l);r&&(n.memoizedState=l,Fe=!0),n=n.queue;var p=Hc.bind(null,a,n,e);if(zn(2048,8,p,[e]),n.getSnapshot!==t||r||Xe!==null&&Xe.memoizedState.tag&1){if(a.flags|=2048,Ga(9,Ks(),kc.bind(null,a,n,l,t),null),_e===null)throw Error(o(349));s||(Tl&124)!==0||zc(a,t,l)}return l}function zc(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=Gi(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function kc(e,t,l,a){t.value=l,t.getSnapshot=a,Ic(t)&&Bc(e)}function Hc(e,t,l){return l(function(){Ic(t)&&Bc(e)})}function Ic(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!St(e,l)}catch{return!0}}function Bc(e){var t=_a(e,2);t!==null&&Ot(t,e,2)}function Zi(e){var t=vt();if(typeof e=="function"){var l=e;if(e=l(),ia){Xt(!0);try{l()}finally{Xt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function Yc(e,t,l,a){return e.baseState=l,Qi(e,Me,typeof a=="function"?a:rl)}function op(e,t,l,a,n){if(Ws(e))throw Error(o(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};V.T!==null?l(!0):s.isTransition=!1,a(s),l=t.pending,l===null?(s.next=t.pending=s,Vc(t,s)):(s.next=l.next,t.pending=l.next=s)}}function Vc(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var s=V.T,r={};V.T=r;try{var p=l(n,a),j=V.S;j!==null&&j(r,p),qc(e,t,p)}catch(I){Pi(e,t,I)}finally{V.T=s}}else try{s=l(n,a),qc(e,t,s)}catch(I){Pi(e,t,I)}}function qc(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Gc(e,t,a)},function(a){return Pi(e,t,a)}):Gc(e,t,l)}function Gc(e,t,l){t.status="fulfilled",t.value=l,Xc(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Vc(e,l)))}function Pi(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Xc(t),t=t.next;while(t!==a)}e.action=null}function Xc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qc(e,t){return t}function $c(e,t){if(Ce){var l=_e.formState;if(l!==null){e:{var a=ve;if(Ce){if(Ie){t:{for(var n=Ie,s=Qt;n.nodeType!==8;){if(!s){n=null;break t}if(n=Vt(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){Ie=Vt(n.nextSibling),a=n.data==="F!";break e}}aa(a)}a=!1}a&&(t=l[0])}}return l=vt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qc,lastRenderedState:t},l.queue=a,l=mf.bind(null,ve,a),a.dispatch=l,a=Zi(!1),s=eo.bind(null,ve,!1,a.queue),a=vt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=op.bind(null,ve,n,s,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Zc(e){var t=Qe();return Pc(t,Me,e)}function Pc(e,t,l){if(t=Qi(e,t,Qc)[0],e=Ps(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=_n(t)}catch(r){throw r===wn?qs:r}else a=t;t=Qe();var n=t.queue,s=n.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,Ga(9,Ks(),rp.bind(null,n,l),null)),[a,s,e]}function rp(e,t){e.action=t}function Kc(e){var t=Qe(),l=Me;if(l!==null)return Pc(t,l,e);Qe(),t=t.memoizedState,l=Qe();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ga(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Gi(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Ks(){return{destroy:void 0,resource:void 0}}function Jc(){return Qe().memoizedState}function Js(e,t,l,a){var n=vt();a=a===void 0?null:a,ve.flags|=e,n.memoizedState=Ga(1|t,Ks(),l,a)}function zn(e,t,l,a){var n=Qe();a=a===void 0?null:a;var s=n.memoizedState.inst;Me!==null&&a!==null&&Ii(a,Me.memoizedState.deps)?n.memoizedState=Ga(t,s,l,a):(ve.flags|=e,n.memoizedState=Ga(1|t,s,l,a))}function Wc(e,t){Js(8390656,8,e,t)}function Fc(e,t){zn(2048,8,e,t)}function ef(e,t){return zn(4,2,e,t)}function tf(e,t){return zn(4,4,e,t)}function lf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,l){l=l!=null?l.concat([e]):null,zn(4,4,lf.bind(null,t,e),l)}function Ki(){}function nf(e,t){var l=Qe();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Ii(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function sf(e,t){var l=Qe();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Ii(t,a[1]))return a[0];if(a=e(),ia){Xt(!0);try{e()}finally{Xt(!1)}}return l.memoizedState=[a,t],a}function Ji(e,t,l){return l===void 0||(Tl&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=rd(),ve.lanes|=e,Ll|=e,l)}function uf(e,t,l,a){return St(l,t)?l:Ya.current!==null?(e=Ji(e,l,a),St(e,t)||(Fe=!0),e):(Tl&42)===0?(Fe=!0,e.memoizedState=l):(e=rd(),ve.lanes|=e,Ll|=e,t)}function of(e,t,l,a,n){var s=X.p;X.p=s!==0&&8>s?s:8;var r=V.T,p={};V.T=p,eo(e,!1,t,l);try{var j=n(),I=V.S;if(I!==null&&I(p,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var P=sp(j,a);kn(e,t,P,Ct(e))}else kn(e,t,a,Ct(e))}catch(W){kn(e,t,{then:function(){},status:"rejected",reason:W},Ct())}finally{X.p=s,V.T=r}}function cp(){}function Wi(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=rf(e).queue;of(e,n,t,M,l===null?cp:function(){return cf(e),l(a)})}function rf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:M},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cf(e){var t=rf(e).next.queue;kn(e,t,{},Ct())}function Fi(){return rt(ts)}function ff(){return Qe().memoizedState}function df(){return Qe().memoizedState}function fp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ct();e=El(l);var a=jl(t,e,l);a!==null&&(Ot(a,t,l),Mn(a,t,l)),t={cache:wi()},e.payload=t;return}t=t.return}}function dp(e,t,l){var a=Ct();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ws(e)?hf(t,l):(l=vi(e,t,l,a),l!==null&&(Ot(l,e,a),pf(l,t,a)))}function mf(e,t,l){var a=Ct();kn(e,t,l,a)}function kn(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))hf(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,p=s(r,l);if(n.hasEagerState=!0,n.eagerState=p,St(p,r))return _s(e,t,n,0),_e===null&&Us(),!1}catch{}finally{}if(l=vi(e,t,n,a),l!==null)return Ot(l,e,a),pf(l,t,a),!0}return!1}function eo(e,t,l,a){if(a={lane:2,revertLane:Do(),action:a,hasEagerState:!1,eagerState:null,next:null},Ws(e)){if(t)throw Error(o(479))}else t=vi(e,l,a,2),t!==null&&Ot(t,e,2)}function Ws(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function hf(e,t){Va=Qs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function pf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,rn(e,l)}}var Fs={readContext:rt,use:Zs,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},yf={readContext:rt,use:Zs,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Wc,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Js(4194308,4,lf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){Js(4,2,e,t)},useMemo:function(e,t){var l=vt();t=t===void 0?null:t;var a=e();if(ia){Xt(!0);try{e()}finally{Xt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=vt();if(l!==void 0){var n=l(t);if(ia){Xt(!0);try{l(t)}finally{Xt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=dp.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zi(e);var t=e.queue,l=mf.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Ki,useDeferredValue:function(e,t){var l=vt();return Ji(l,e,t)},useTransition:function(){var e=Zi(!1);return e=of.bind(null,ve,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=ve,n=vt();if(Ce){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),_e===null)throw Error(o(349));(je&124)!==0||zc(a,t,l)}n.memoizedState=l;var s={value:l,getSnapshot:t};return n.queue=s,Wc(Hc.bind(null,a,s,e),[e]),a.flags|=2048,Ga(9,Ks(),kc.bind(null,a,s,l,t),null),l},useId:function(){var e=vt(),t=_e.identifierPrefix;if(Ce){var l=ul,a=sl;l=(a&~(1<<32-ht(a)-1)).toString(32)+l,t="«"+t+"R"+l,l=$s++,0<l&&(t+="H"+l.toString(32)),t+="»"}else l=up++,t="«"+t+"r"+l.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Fi,useFormState:$c,useActionState:$c,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=eo.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Xi,useCacheRefresh:function(){return vt().memoizedState=fp.bind(null,ve)}},xf={readContext:rt,use:Zs,useCallback:nf,useContext:rt,useEffect:Fc,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:Ps,useRef:Jc,useState:function(){return Ps(rl)},useDebugValue:Ki,useDeferredValue:function(e,t){var l=Qe();return uf(l,Me.memoizedState,e,t)},useTransition:function(){var e=Ps(rl)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:_n(e),t]},useSyncExternalStore:_c,useId:ff,useHostTransitionStatus:Fi,useFormState:Zc,useActionState:Zc,useOptimistic:function(e,t){var l=Qe();return Yc(l,Me,e,t)},useMemoCache:Xi,useCacheRefresh:df},mp={readContext:rt,use:Zs,useCallback:nf,useContext:rt,useEffect:Fc,useImperativeHandle:af,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:sf,useReducer:$i,useRef:Jc,useState:function(){return $i(rl)},useDebugValue:Ki,useDeferredValue:function(e,t){var l=Qe();return Me===null?Ji(l,e,t):uf(l,Me.memoizedState,e,t)},useTransition:function(){var e=$i(rl)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:_n(e),t]},useSyncExternalStore:_c,useId:ff,useHostTransitionStatus:Fi,useFormState:Kc,useActionState:Kc,useOptimistic:function(e,t){var l=Qe();return Me!==null?Yc(l,Me,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Xi,useCacheRefresh:df},Xa=null,Hn=0;function eu(e){var t=Hn;return Hn+=1,Xa===null&&(Xa=[]),Cc(Xa,e,t)}function In(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function tu(e,t){throw t.$$typeof===T?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gf(e){var t=e._init;return t(e._payload)}function vf(e){function t(w,C){if(e){var _=w.deletions;_===null?(w.deletions=[C],w.flags|=16):_.push(C)}}function l(w,C){if(!e)return null;for(;C!==null;)t(w,C),C=C.sibling;return null}function a(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function n(w,C){return w=nl(w,C),w.index=0,w.sibling=null,w}function s(w,C,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<C?(w.flags|=67108866,C):_):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function r(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function p(w,C,_,J){return C===null||C.tag!==6?(C=Ni(_,w.mode,J),C.return=w,C):(C=n(C,_),C.return=w,C)}function j(w,C,_,J){var oe=_.type;return oe===y?P(w,C,_.props.children,J,_.key):C!==null&&(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&gf(oe)===C.type)?(C=n(C,_.props),In(C,_),C.return=w,C):(C=ks(_.type,_.key,_.props,null,w.mode,J),In(C,_),C.return=w,C)}function I(w,C,_,J){return C===null||C.tag!==4||C.stateNode.containerInfo!==_.containerInfo||C.stateNode.implementation!==_.implementation?(C=Si(_,w.mode,J),C.return=w,C):(C=n(C,_.children||[]),C.return=w,C)}function P(w,C,_,J,oe){return C===null||C.tag!==7?(C=Fl(_,w.mode,J,oe),C.return=w,C):(C=n(C,_),C.return=w,C)}function W(w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Ni(""+C,w.mode,_),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case E:return _=ks(C.type,C.key,C.props,null,w.mode,_),In(_,C),_.return=w,_;case R:return C=Si(C,w.mode,_),C.return=w,C;case te:var J=C._init;return C=J(C._payload),W(w,C,_)}if(ce(C)||se(C))return C=Fl(C,w.mode,_,null),C.return=w,C;if(typeof C.then=="function")return W(w,eu(C),_);if(C.$$typeof===z)return W(w,Ys(w,C),_);tu(w,C)}return null}function B(w,C,_,J){var oe=C!==null?C.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return oe!==null?null:p(w,C,""+_,J);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E:return _.key===oe?j(w,C,_,J):null;case R:return _.key===oe?I(w,C,_,J):null;case te:return oe=_._init,_=oe(_._payload),B(w,C,_,J)}if(ce(_)||se(_))return oe!==null?null:P(w,C,_,J,null);if(typeof _.then=="function")return B(w,C,eu(_),J);if(_.$$typeof===z)return B(w,C,Ys(w,_),J);tu(w,_)}return null}function q(w,C,_,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return w=w.get(_)||null,p(C,w,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case E:return w=w.get(J.key===null?_:J.key)||null,j(C,w,J,oe);case R:return w=w.get(J.key===null?_:J.key)||null,I(C,w,J,oe);case te:var be=J._init;return J=be(J._payload),q(w,C,_,J,oe)}if(ce(J)||se(J))return w=w.get(_)||null,P(C,w,J,oe,null);if(typeof J.then=="function")return q(w,C,_,eu(J),oe);if(J.$$typeof===z)return q(w,C,_,Ys(C,J),oe);tu(C,J)}return null}function ye(w,C,_,J){for(var oe=null,be=null,fe=C,pe=C=0,tt=null;fe!==null&&pe<_.length;pe++){fe.index>pe?(tt=fe,fe=null):tt=fe.sibling;var Ae=B(w,fe,_[pe],J);if(Ae===null){fe===null&&(fe=tt);break}e&&fe&&Ae.alternate===null&&t(w,fe),C=s(Ae,C,pe),be===null?oe=Ae:be.sibling=Ae,be=Ae,fe=tt}if(pe===_.length)return l(w,fe),Ce&&ta(w,pe),oe;if(fe===null){for(;pe<_.length;pe++)fe=W(w,_[pe],J),fe!==null&&(C=s(fe,C,pe),be===null?oe=fe:be.sibling=fe,be=fe);return Ce&&ta(w,pe),oe}for(fe=a(fe);pe<_.length;pe++)tt=q(fe,w,pe,_[pe],J),tt!==null&&(e&&tt.alternate!==null&&fe.delete(tt.key===null?pe:tt.key),C=s(tt,C,pe),be===null?oe=tt:be.sibling=tt,be=tt);return e&&fe.forEach(function(Yl){return t(w,Yl)}),Ce&&ta(w,pe),oe}function he(w,C,_,J){if(_==null)throw Error(o(151));for(var oe=null,be=null,fe=C,pe=C=0,tt=null,Ae=_.next();fe!==null&&!Ae.done;pe++,Ae=_.next()){fe.index>pe?(tt=fe,fe=null):tt=fe.sibling;var Yl=B(w,fe,Ae.value,J);if(Yl===null){fe===null&&(fe=tt);break}e&&fe&&Yl.alternate===null&&t(w,fe),C=s(Yl,C,pe),be===null?oe=Yl:be.sibling=Yl,be=Yl,fe=tt}if(Ae.done)return l(w,fe),Ce&&ta(w,pe),oe;if(fe===null){for(;!Ae.done;pe++,Ae=_.next())Ae=W(w,Ae.value,J),Ae!==null&&(C=s(Ae,C,pe),be===null?oe=Ae:be.sibling=Ae,be=Ae);return Ce&&ta(w,pe),oe}for(fe=a(fe);!Ae.done;pe++,Ae=_.next())Ae=q(fe,w,pe,Ae.value,J),Ae!==null&&(e&&Ae.alternate!==null&&fe.delete(Ae.key===null?pe:Ae.key),C=s(Ae,C,pe),be===null?oe=Ae:be.sibling=Ae,be=Ae);return e&&fe.forEach(function(h0){return t(w,h0)}),Ce&&ta(w,pe),oe}function De(w,C,_,J){if(typeof _=="object"&&_!==null&&_.type===y&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case E:e:{for(var oe=_.key;C!==null;){if(C.key===oe){if(oe=_.type,oe===y){if(C.tag===7){l(w,C.sibling),J=n(C,_.props.children),J.return=w,w=J;break e}}else if(C.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&gf(oe)===C.type){l(w,C.sibling),J=n(C,_.props),In(J,_),J.return=w,w=J;break e}l(w,C);break}else t(w,C);C=C.sibling}_.type===y?(J=Fl(_.props.children,w.mode,J,_.key),J.return=w,w=J):(J=ks(_.type,_.key,_.props,null,w.mode,J),In(J,_),J.return=w,w=J)}return r(w);case R:e:{for(oe=_.key;C!==null;){if(C.key===oe)if(C.tag===4&&C.stateNode.containerInfo===_.containerInfo&&C.stateNode.implementation===_.implementation){l(w,C.sibling),J=n(C,_.children||[]),J.return=w,w=J;break e}else{l(w,C);break}else t(w,C);C=C.sibling}J=Si(_,w.mode,J),J.return=w,w=J}return r(w);case te:return oe=_._init,_=oe(_._payload),De(w,C,_,J)}if(ce(_))return ye(w,C,_,J);if(se(_)){if(oe=se(_),typeof oe!="function")throw Error(o(150));return _=oe.call(_),he(w,C,_,J)}if(typeof _.then=="function")return De(w,C,eu(_),J);if(_.$$typeof===z)return De(w,C,Ys(w,_),J);tu(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,C!==null&&C.tag===6?(l(w,C.sibling),J=n(C,_),J.return=w,w=J):(l(w,C),J=Ni(_,w.mode,J),J.return=w,w=J),r(w)):l(w,C)}return function(w,C,_,J){try{Hn=0;var oe=De(w,C,_,J);return Xa=null,oe}catch(fe){if(fe===wn||fe===qs)throw fe;var be=Et(29,fe,null,w.mode);return be.lanes=J,be.return=w,be}finally{}}}var Qa=vf(!0),bf=vf(!1),kt=H(null),$t=null;function Al(e){var t=e.alternate;$(Ke,Ke.current&1),$(kt,e),$t===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&($t=e)}function Nf(e){if(e.tag===22){if($(Ke,Ke.current),$(kt,e),$t===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&($t=e)}}else Cl()}function Cl(){$(Ke,Ke.current),$(kt,kt.current)}function cl(e){D(kt),$t===e&&($t=null),D(Ke)}var Ke=H(0);function lu(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Xo(l)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function to(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:v({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var lo={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Ct(),n=El(a);n.payload=t,l!=null&&(n.callback=l),t=jl(e,n,a),t!==null&&(Ot(t,e,a),Mn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Ct(),n=El(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=jl(e,n,a),t!==null&&(Ot(t,e,a),Mn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ct(),a=El(l);a.tag=2,t!=null&&(a.callback=t),t=jl(e,a,l),t!==null&&(Ot(t,e,l),Mn(t,e,l))}};function Sf(e,t,l,a,n,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,r):t.prototype&&t.prototype.isPureReactComponent?!Nn(l,a)||!Nn(n,s):!0}function Ef(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&lo.enqueueReplaceState(t,t.state,null)}function oa(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=v({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jf(e){au(e)}function Tf(e){console.error(e)}function Af(e){au(e)}function nu(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Cf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ao(e,t,l){return l=El(l),l.tag=3,l.payload={element:null},l.callback=function(){nu(e,t)},l}function Of(e){return e=El(e),e.tag=3,e}function wf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var s=a.value;e.payload=function(){return n(s)},e.callback=function(){Cf(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Cf(t,l,a),typeof n!="function"&&(Dl===null?Dl=new Set([this]):Dl.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function hp(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&An(t,l,n,!0),l=kt.current,l!==null){switch(l.tag){case 13:return $t===null?Oo():l.alternate===null&&Be===0&&(Be=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Li?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Ro(e,a,n)),!1;case 22:return l.flags|=65536,a===Li?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Ro(e,a,n)),!1}throw Error(o(435,l.tag))}return Ro(e,a,n),Oo(),!1}if(Ce)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Ti&&(e=Error(o(422),{cause:a}),Tn(Dt(e,l)))):(a!==Ti&&(t=Error(o(423),{cause:a}),Tn(Dt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Dt(a,l),n=ao(e.stateNode,a,n),_i(e,n),Be!==4&&(Be=2)),!1;var s=Error(o(520),{cause:a});if(s=Dt(s,l),Qn===null?Qn=[s]:Qn.push(s),Be!==4&&(Be=2),t===null)return!0;a=Dt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=ao(l.stateNode,a,e),_i(l,e),!1;case 1:if(t=l.type,s=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Dl===null||!Dl.has(s))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Of(n),wf(n,e,l,a),_i(l,n),!1}l=l.return}while(l!==null);return!1}var Rf=Error(o(461)),Fe=!1;function at(e,t,l,a){t.child=e===null?bf(t,null,l,a):Qa(t,e.child,l,a)}function Mf(e,t,l,a,n){l=l.render;var s=t.ref;if("ref"in a){var r={};for(var p in a)p!=="ref"&&(r[p]=a[p])}else r=a;return sa(t),a=Bi(e,t,l,r,s,n),p=Yi(),e!==null&&!Fe?(Vi(e,t,n),fl(e,t,n)):(Ce&&p&&Ei(t),t.flags|=1,at(e,t,a,n),t.child)}function Lf(e,t,l,a,n){if(e===null){var s=l.type;return typeof s=="function"&&!bi(s)&&s.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=s,Df(e,t,s,a,n)):(e=ks(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!fo(e,n)){var r=s.memoizedProps;if(l=l.compare,l=l!==null?l:Nn,l(r,a)&&e.ref===t.ref)return fl(e,t,n)}return t.flags|=1,e=nl(s,a),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,l,a,n){if(e!==null){var s=e.memoizedProps;if(Nn(s,a)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=a=s,fo(e,n))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,fl(e,t,n)}return no(e,t,l,a,n)}function Uf(e,t,l){var a=t.pendingProps,n=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=s!==null?s.baseLanes|l:l,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return _f(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,s!==null?s.cachePool:null),s!==null?Lc(t,s):ki(),Nf(t);else return t.lanes=t.childLanes=536870912,_f(e,t,s!==null?s.baseLanes|l:l,l)}else s!==null?(Vs(t,s.cachePool),Lc(t,s),Cl(),t.memoizedState=null):(e!==null&&Vs(t,null),ki(),Cl());return at(e,t,n,l),t.child}function _f(e,t,l,a){var n=Mi();return n=n===null?null:{parent:Pe._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&Vs(t,null),ki(),Nf(t),e!==null&&An(e,t,a,!0),null}function su(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function no(e,t,l,a,n){return sa(t),l=Bi(e,t,l,a,void 0,n),a=Yi(),e!==null&&!Fe?(Vi(e,t,n),fl(e,t,n)):(Ce&&a&&Ei(t),t.flags|=1,at(e,t,l,n),t.child)}function zf(e,t,l,a,n,s){return sa(t),t.updateQueue=null,l=Uc(t,a,l,n),Dc(e),a=Yi(),e!==null&&!Fe?(Vi(e,t,s),fl(e,t,s)):(Ce&&a&&Ei(t),t.flags|=1,at(e,t,l,s),t.child)}function kf(e,t,l,a,n){if(sa(t),t.stateNode===null){var s=za,r=l.contextType;typeof r=="object"&&r!==null&&(s=rt(r)),s=new l(a,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lo,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=a,s.state=t.memoizedState,s.refs={},Di(t),r=l.contextType,s.context=typeof r=="object"&&r!==null?rt(r):za,s.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(to(t,l,r,a),s.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&lo.enqueueReplaceState(s,s.state,null),Dn(t,a,s,n),Ln(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){s=t.stateNode;var p=t.memoizedProps,j=oa(l,p);s.props=j;var I=s.context,P=l.contextType;r=za,typeof P=="object"&&P!==null&&(r=rt(P));var W=l.getDerivedStateFromProps;P=typeof W=="function"||typeof s.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,P||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p||I!==r)&&Ef(t,s,a,r),Sl=!1;var B=t.memoizedState;s.state=B,Dn(t,a,s,n),Ln(),I=t.memoizedState,p||B!==I||Sl?(typeof W=="function"&&(to(t,l,W,a),I=t.memoizedState),(j=Sl||Sf(t,l,j,a,B,I,r))?(P||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),s.props=a,s.state=I,s.context=r,a=j):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Ui(e,t),r=t.memoizedProps,P=oa(l,r),s.props=P,W=t.pendingProps,B=s.context,I=l.contextType,j=za,typeof I=="object"&&I!==null&&(j=rt(I)),p=l.getDerivedStateFromProps,(I=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==W||B!==j)&&Ef(t,s,a,j),Sl=!1,B=t.memoizedState,s.state=B,Dn(t,a,s,n),Ln();var q=t.memoizedState;r!==W||B!==q||Sl||e!==null&&e.dependencies!==null&&Bs(e.dependencies)?(typeof p=="function"&&(to(t,l,p,a),q=t.memoizedState),(P=Sl||Sf(t,l,P,a,B,q,j)||e!==null&&e.dependencies!==null&&Bs(e.dependencies))?(I||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(a,q,j),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(a,q,j)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=q),s.props=a,s.state=q,s.context=j,a=P):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,su(e,t),a=(t.flags&128)!==0,s||a?(s=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&a?(t.child=Qa(t,e.child,null,n),t.child=Qa(t,null,l,n)):at(e,t,l,n),t.memoizedState=s.state,e=t.child):e=fl(e,t,n),e}function Hf(e,t,l,a){return jn(),t.flags|=256,at(e,t,l,a),t.child}var so={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uo(e){return{baseLanes:e,cachePool:jc()}}function io(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Ht),e}function If(e,t,l){var a=t.pendingProps,n=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(n?Al(t):Cl(),Ce){var p=Ie,j;if(j=p){e:{for(j=p,p=Qt;j.nodeType!==8;){if(!p){p=null;break e}if(j=Vt(j.nextSibling),j===null){p=null;break e}}p=j}p!==null?(t.memoizedState={dehydrated:p,treeContext:ea!==null?{id:sl,overflow:ul}:null,retryLane:536870912,hydrationErrors:null},j=Et(18,null,null,0),j.stateNode=p,j.return=t,t.child=j,pt=t,Ie=null,j=!0):j=!1}j||aa(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return Xo(p)?t.lanes=32:t.lanes=536870912,null;cl(t)}return p=a.children,a=a.fallback,n?(Cl(),n=t.mode,p=uu({mode:"hidden",children:p},n),a=Fl(a,n,l,null),p.return=t,a.return=t,p.sibling=a,t.child=p,n=t.child,n.memoizedState=uo(l),n.childLanes=io(e,r,l),t.memoizedState=so,a):(Al(t),oo(t,p))}if(j=e.memoizedState,j!==null&&(p=j.dehydrated,p!==null)){if(s)t.flags&256?(Al(t),t.flags&=-257,t=ro(e,t,l)):t.memoizedState!==null?(Cl(),t.child=e.child,t.flags|=128,t=null):(Cl(),n=a.fallback,p=t.mode,a=uu({mode:"visible",children:a.children},p),n=Fl(n,p,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,Qa(t,e.child,null,l),a=t.child,a.memoizedState=uo(l),a.childLanes=io(e,r,l),t.memoizedState=so,t=n);else if(Al(t),Xo(p)){if(r=p.nextSibling&&p.nextSibling.dataset,r)var I=r.dgst;r=I,a=Error(o(419)),a.stack="",a.digest=r,Tn({value:a,source:null,stack:null}),t=ro(e,t,l)}else if(Fe||An(e,t,l,!1),r=(l&e.childLanes)!==0,Fe||r){if(r=_e,r!==null&&(a=l&-l,a=(a&42)!==0?1:cn(a),a=(a&(r.suspendedLanes|l))!==0?0:a,a!==0&&a!==j.retryLane))throw j.retryLane=a,_a(e,a),Ot(r,e,a),Rf;p.data==="$?"||Oo(),t=ro(e,t,l)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Ie=Vt(p.nextSibling),pt=t,Ce=!0,la=null,Qt=!1,e!==null&&(_t[zt++]=sl,_t[zt++]=ul,_t[zt++]=ea,sl=e.id,ul=e.overflow,ea=t),t=oo(t,a.children),t.flags|=4096);return t}return n?(Cl(),n=a.fallback,p=t.mode,j=e.child,I=j.sibling,a=nl(j,{mode:"hidden",children:a.children}),a.subtreeFlags=j.subtreeFlags&65011712,I!==null?n=nl(I,n):(n=Fl(n,p,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,p=e.child.memoizedState,p===null?p=uo(l):(j=p.cachePool,j!==null?(I=Pe._currentValue,j=j.parent!==I?{parent:I,pool:I}:j):j=jc(),p={baseLanes:p.baseLanes|l,cachePool:j}),n.memoizedState=p,n.childLanes=io(e,r,l),t.memoizedState=so,a):(Al(t),l=e.child,e=l.sibling,l=nl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function oo(e,t){return t=uu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function uu(e,t){return e=Et(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ro(e,t,l){return Qa(t,e.child,null,l),e=oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bf(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ci(e.return,t,l)}function co(e,t,l,a,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=l,s.tailMode=n)}function Yf(e,t,l){var a=t.pendingProps,n=a.revealOrder,s=a.tail;if(at(e,t,a.children,l),a=Ke.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bf(e,l,t);else if(e.tag===19)Bf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch($(Ke,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&lu(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),co(t,!1,n,l,s);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&lu(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}co(t,!0,l,null,s);break;case"together":co(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(An(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=nl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=nl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function fo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bs(e)))}function pp(e,t,l){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),Nl(t,Pe,e.memoizedState.cache),jn();break;case 27:case 5:Ze(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:Nl(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Al(t),t.flags|=128,null):(l&t.child.childLanes)!==0?If(e,t,l):(Al(t),e=fl(e,t,l),e!==null?e.sibling:null);Al(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(An(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Yf(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),$(Ke,Ke.current),a)break;return null;case 22:case 23:return t.lanes=0,Uf(e,t,l);case 24:Nl(t,Pe,e.memoizedState.cache)}return fl(e,t,l)}function Vf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!fo(e,l)&&(t.flags&128)===0)return Fe=!1,pp(e,t,l);Fe=(e.flags&131072)!==0}else Fe=!1,Ce&&(t.flags&1048576)!==0&&xc(t,Is,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")bi(a)?(e=oa(a,e),t.tag=1,t=kf(null,t,a,e,l)):(t.tag=0,t=no(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===K){t.tag=11,t=Mf(null,t,a,e,l);break e}else if(n===F){t.tag=14,t=Lf(null,t,a,e,l);break e}}throw t=ue(a)||a,Error(o(306,t,""))}}return t;case 0:return no(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=oa(a,t.pendingProps),kf(e,t,a,n,l);case 3:e:{if(ne(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var s=t.memoizedState;n=s.element,Ui(e,t),Dn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,Nl(t,Pe,a),a!==s.cache&&Oi(t,[Pe],l,!0),Ln(),a=r.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Hf(e,t,a,l);break e}else if(a!==n){n=Dt(Error(o(424)),t),Tn(n),t=Hf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=Vt(e.firstChild),pt=t,Ce=!0,la=null,Qt=!0,l=bf(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(jn(),a===n){t=fl(e,t,l);break e}at(e,t,a,l)}t=t.child}return t;case 26:return su(e,t),e===null?(l=Qd(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ce||(l=t.type,e=t.pendingProps,a=bu(me.current).createElement(l),a[Ge]=t,a[ot]=e,st(a,l,e),We(a),t.stateNode=a):t.memoizedState=Qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ze(t),e===null&&Ce&&(a=t.stateNode=qd(t.type,t.pendingProps,me.current),pt=t,Qt=!0,n=Ie,zl(t.type)?(Qo=n,Ie=Vt(a.firstChild)):Ie=n),at(e,t,t.pendingProps.children,l),su(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((n=a=Ie)&&(a=qp(a,t.type,t.pendingProps,Qt),a!==null?(t.stateNode=a,pt=t,Ie=Vt(a.firstChild),Qt=!1,n=!0):n=!1),n||aa(t)),Ze(t),n=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,a=s.children,Vo(n,s)?a=null:r!==null&&Vo(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=Bi(e,t,ip,null,null,l),ts._currentValue=n),su(e,t),at(e,t,a,l),t.child;case 6:return e===null&&Ce&&((e=l=Ie)&&(l=Gp(l,t.pendingProps,Qt),l!==null?(t.stateNode=l,pt=t,Ie=null,e=!0):e=!1),e||aa(t)),null;case 13:return If(e,t,l);case 4:return ne(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Qa(t,null,a,l):at(e,t,a,l),t.child;case 11:return Mf(e,t,t.type,t.pendingProps,l);case 7:return at(e,t,t.pendingProps,l),t.child;case 8:return at(e,t,t.pendingProps.children,l),t.child;case 12:return at(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Nl(t,t.type,a.value),at(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,sa(t),n=rt(n),a=a(n),t.flags|=1,at(e,t,a,l),t.child;case 14:return Lf(e,t,t.type,t.pendingProps,l);case 15:return Df(e,t,t.type,t.pendingProps,l);case 19:return Yf(e,t,l);case 31:return a=t.pendingProps,l=t.mode,a={mode:a.mode,children:a.children},e===null?(l=uu(a,l),l.ref=t.ref,t.child=l,l.return=t,t=l):(l=nl(e.child,a),l.ref=t.ref,t.child=l,l.return=t,t=l),t;case 22:return Uf(e,t,l);case 24:return sa(t),a=rt(Pe),e===null?(n=Mi(),n===null&&(n=_e,s=wi(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=l),n=s),t.memoizedState={parent:a,cache:n},Di(t),Nl(t,Pe,n)):((e.lanes&l)!==0&&(Ui(e,t),Dn(t,null,null,l),Ln()),n=e.memoizedState,s=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Nl(t,Pe,a)):(a=s.cache,Nl(t,Pe,a),a!==n.cache&&Oi(t,[Pe],l,!0))),at(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function dl(e){e.flags|=4}function qf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jd(t)){if(t=kt.current,t!==null&&((je&4194048)===je?$t!==null:(je&62914560)!==je&&(je&536870912)===0||t!==$t))throw Rn=Li,Tc;e.flags|=8192}}function iu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ss():536870912,e.lanes|=t,Ka|=t)}function Bn(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function yp(e,t,l){var a=t.pendingProps;switch(ji(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ol(Pe),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(En(t)?dl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bc())),ke(t),null;case 26:return l=t.memoizedState,e===null?(dl(t),l!==null?(ke(t),qf(t,l)):(ke(t),t.flags&=-16777217)):l?l!==e.memoizedState?(dl(t),ke(t),qf(t,l)):(ke(t),t.flags&=-16777217):(e.memoizedProps!==a&&dl(t),ke(t),t.flags&=-16777217),null;case 27:yt(t),l=me.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ke(t),null}e=ie.current,En(t)?gc(t):(e=qd(n,a,l),t.stateNode=e,dl(t))}return ke(t),null;case 5:if(yt(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return ke(t),null}if(e=ie.current,En(t))gc(t);else{switch(n=bu(me.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[Ge]=t,e[ot]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(st(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&dl(t)}}return ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=me.current,En(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=pt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Ge]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||zd(e.nodeValue,l)),e||aa(t)}else e=bu(e).createTextNode(a),e[Ge]=t,t.stateNode=e}return ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=En(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[Ge]=t}else jn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),n=!1}else n=bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(cl(t),t):(cl(t),null)}if(cl(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var s=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),iu(t,t.updateQueue),ke(t),null;case 4:return Re(),e===null&&ko(t.stateNode.containerInfo),ke(t),null;case 10:return ol(t.type),ke(t),null;case 19:if(D(Ke),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,s=n.rendering,s===null)if(a)Bn(n,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=lu(e),s!==null){for(t.flags|=128,Bn(n,!1),e=s.updateQueue,t.updateQueue=e,iu(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)yc(l,e),l=l.sibling;return $(Ke,Ke.current&1|2),t.child}e=e.sibling}n.tail!==null&&ut()>cu&&(t.flags|=128,a=!0,Bn(n,!1),t.lanes=4194304)}else{if(!a)if(e=lu(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,iu(t,e),Bn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Ce)return ke(t),null}else 2*ut()-n.renderingStartTime>cu&&l!==536870912&&(t.flags|=128,a=!0,Bn(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=ut(),t.sibling=null,e=Ke.current,$(Ke,a?e&1|2:e&1),t):(ke(t),null);case 22:case 23:return cl(t),Hi(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),l=t.updateQueue,l!==null&&iu(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&D(ua),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ol(Pe),ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function xp(e,t){switch(ji(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(Pe),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return yt(t),null;case 13:if(cl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));jn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Ke),null;case 4:return Re(),null;case 10:return ol(t.type),null;case 22:case 23:return cl(t),Hi(),e!==null&&D(ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ol(Pe),null;case 25:return null;default:return null}}function Gf(e,t){switch(ji(t),t.tag){case 3:ol(Pe),Re();break;case 26:case 27:case 5:yt(t);break;case 4:Re();break;case 13:cl(t);break;case 19:D(Ke);break;case 10:ol(t.type);break;case 22:case 23:cl(t),Hi(),e!==null&&D(ua);break;case 24:ol(Pe)}}function Yn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var s=l.create,r=l.inst;a=s(),r.destroy=a}l=l.next}while(l!==n)}}catch(p){Ue(t,t.return,p)}}function Ol(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){var r=a.inst,p=r.destroy;if(p!==void 0){r.destroy=void 0,n=t;var j=l,I=p;try{I()}catch(P){Ue(n,j,P)}}}a=a.next}while(a!==s)}}catch(P){Ue(t,t.return,P)}}function Xf(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Mc(t,l)}catch(a){Ue(e,e.return,a)}}}function Qf(e,t,l){l.props=oa(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Ue(e,t,a)}}function Vn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){Ue(e,t,n)}}function Zt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){Ue(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Ue(e,t,n)}else l.current=null}function $f(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){Ue(e,e.return,n)}}function mo(e,t,l){try{var a=e.stateNode;Hp(a,e.type,l,t),a[ot]=t}catch(n){Ue(e,e.return,n)}}function Zf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zl(e.type)||e.tag===4}function ho(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=vu));else if(a!==4&&(a===27&&zl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(po(e,t,l),e=e.sibling;e!==null;)po(e,t,l),e=e.sibling}function ou(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&zl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ou(e,t,l),e=e.sibling;e!==null;)ou(e,t,l),e=e.sibling}function Pf(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);st(t,a,l),t[Ge]=e,t[ot]=l}catch(s){Ue(e,e.return,s)}}var ml=!1,qe=!1,yo=!1,Kf=typeof WeakSet=="function"?WeakSet:Set,et=null;function gp(e,t){if(e=e.containerInfo,Bo=Au,e=uc(e),mi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{l.nodeType,s.nodeType}catch{l=null;break e}var r=0,p=-1,j=-1,I=0,P=0,W=e,B=null;t:for(;;){for(var q;W!==l||n!==0&&W.nodeType!==3||(p=r+n),W!==s||a!==0&&W.nodeType!==3||(j=r+a),W.nodeType===3&&(r+=W.nodeValue.length),(q=W.firstChild)!==null;)B=W,W=q;for(;;){if(W===e)break t;if(B===l&&++I===n&&(p=r),B===s&&++P===a&&(j=r),(q=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=q}l=p===-1||j===-1?null:{start:p,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yo={focusedElem:e,selectionRange:l},Au=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,l=t,n=s.memoizedProps,s=s.memoizedState,a=l.stateNode;try{var ye=oa(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(ye,s),a.__reactInternalSnapshotBeforeUpdate=e}catch(he){Ue(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Go(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Go(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Jf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:wl(e,l),a&4&&Yn(5,l);break;case 1:if(wl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){Ue(l,l.return,r)}else{var n=oa(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ue(l,l.return,r)}}a&64&&Xf(l),a&512&&Vn(l,l.return);break;case 3:if(wl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Mc(e,t)}catch(r){Ue(l,l.return,r)}}break;case 27:t===null&&a&4&&Pf(l);case 26:case 5:wl(e,l),t===null&&a&4&&$f(l),a&512&&Vn(l,l.return);break;case 12:wl(e,l);break;case 13:wl(e,l),a&4&&ed(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Cp.bind(null,l),Xp(e,l))));break;case 22:if(a=l.memoizedState!==null||ml,!a){t=t!==null&&t.memoizedState!==null||qe,n=ml;var s=qe;ml=a,(qe=t)&&!s?Rl(e,l,(l.subtreeFlags&8772)!==0):wl(e,l),ml=n,qe=s}break;case 30:break;default:wl(e,l)}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,bt=!1;function hl(e,t,l){for(l=l.child;l!==null;)Ff(e,t,l),l=l.sibling}function Ff(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(Gl,l)}catch{}switch(l.tag){case 26:qe||Zt(l,t),hl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||Zt(l,t);var a=ze,n=bt;zl(l.type)&&(ze=l.stateNode,bt=!1),hl(e,t,l),Jn(l.stateNode),ze=a,bt=n;break;case 5:qe||Zt(l,t);case 6:if(a=ze,n=bt,ze=null,hl(e,t,l),ze=a,bt=n,ze!==null)if(bt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(s){Ue(l,t,s)}else try{ze.removeChild(l.stateNode)}catch(s){Ue(l,t,s)}break;case 18:ze!==null&&(bt?(e=ze,Yd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ss(e)):Yd(ze,l.stateNode));break;case 4:a=ze,n=bt,ze=l.stateNode.containerInfo,bt=!0,hl(e,t,l),ze=a,bt=n;break;case 0:case 11:case 14:case 15:qe||Ol(2,l,t),qe||Ol(4,l,t),hl(e,t,l);break;case 1:qe||(Zt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Qf(l,t,a)),hl(e,t,l);break;case 21:hl(e,t,l);break;case 22:qe=(a=qe)||l.memoizedState!==null,hl(e,t,l),qe=a;break;default:hl(e,t,l)}}function ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ss(e)}catch(l){Ue(t,t.return,l)}}function vp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Kf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Kf),t;default:throw Error(o(435,e.tag))}}function xo(e,t){var l=vp(e);t.forEach(function(a){var n=Op.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function jt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],s=e,r=t,p=r;e:for(;p!==null;){switch(p.tag){case 27:if(zl(p.type)){ze=p.stateNode,bt=!1;break e}break;case 5:ze=p.stateNode,bt=!1;break e;case 3:case 4:ze=p.stateNode.containerInfo,bt=!0;break e}p=p.return}if(ze===null)throw Error(o(160));Ff(s,r,n),ze=null,bt=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)td(t,e),t=t.sibling}var Yt=null;function td(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(t,e),Tt(e),a&4&&(Ol(3,e,e.return),Yn(3,e),Ol(5,e,e.return));break;case 1:jt(t,e),Tt(e),a&512&&(qe||l===null||Zt(l,l.return)),a&64&&ml&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Yt;if(jt(t,e),Tt(e),a&512&&(qe||l===null||Zt(l,l.return)),a&4){var s=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":s=n.getElementsByTagName("title")[0],(!s||s[dn]||s[Ge]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(a),n.head.insertBefore(s,n.querySelector("head > title"))),st(s,a,l),s[Ge]=e,We(s),a=s;break e;case"link":var r=Pd("link","href",n).get(a+(l.href||""));if(r){for(var p=0;p<r.length;p++)if(s=r[p],s.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&s.getAttribute("rel")===(l.rel==null?null:l.rel)&&s.getAttribute("title")===(l.title==null?null:l.title)&&s.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(p,1);break t}}s=n.createElement(a),st(s,a,l),n.head.appendChild(s);break;case"meta":if(r=Pd("meta","content",n).get(a+(l.content||""))){for(p=0;p<r.length;p++)if(s=r[p],s.getAttribute("content")===(l.content==null?null:""+l.content)&&s.getAttribute("name")===(l.name==null?null:l.name)&&s.getAttribute("property")===(l.property==null?null:l.property)&&s.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&s.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(p,1);break t}}s=n.createElement(a),st(s,a,l),n.head.appendChild(s);break;default:throw Error(o(468,a))}s[Ge]=e,We(s),a=s}e.stateNode=a}else Kd(n,e.type,e.stateNode);else e.stateNode=Zd(n,a,e.memoizedProps);else s!==a?(s===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):s.count--,a===null?Kd(n,e.type,e.stateNode):Zd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&mo(e,e.memoizedProps,l.memoizedProps)}break;case 27:jt(t,e),Tt(e),a&512&&(qe||l===null||Zt(l,l.return)),l!==null&&a&4&&mo(e,e.memoizedProps,l.memoizedProps);break;case 5:if(jt(t,e),Tt(e),a&512&&(qe||l===null||Zt(l,l.return)),e.flags&32){n=e.stateNode;try{Oa(n,"")}catch(q){Ue(e,e.return,q)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,mo(e,n,l!==null?l.memoizedProps:n)),a&1024&&(yo=!0);break;case 6:if(jt(t,e),Tt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(q){Ue(e,e.return,q)}}break;case 3:if(Eu=null,n=Yt,Yt=Nu(t.containerInfo),jt(t,e),Yt=n,Tt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(q){Ue(e,e.return,q)}yo&&(yo=!1,ld(e));break;case 4:a=Yt,Yt=Nu(e.stateNode.containerInfo),jt(t,e),Tt(e),Yt=a;break;case 12:jt(t,e),Tt(e);break;case 13:jt(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Eo=ut()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xo(e,a)));break;case 22:n=e.memoizedState!==null;var j=l!==null&&l.memoizedState!==null,I=ml,P=qe;if(ml=I||n,qe=P||j,jt(t,e),qe=P,ml=I,Tt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||j||ml||qe||ra(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){j=l=t;try{if(s=j.stateNode,n)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{p=j.stateNode;var W=j.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;p.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Ue(j,j.return,q)}}}else if(t.tag===6){if(l===null){j=t;try{j.stateNode.nodeValue=n?"":j.memoizedProps}catch(q){Ue(j,j.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,xo(e,l))));break;case 19:jt(t,e),Tt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xo(e,a)));break;case 30:break;case 21:break;default:jt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Zf(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,s=ho(e);ou(e,s,n);break;case 5:var r=l.stateNode;l.flags&32&&(Oa(r,""),l.flags&=-33);var p=ho(e);ou(e,p,r);break;case 3:case 4:var j=l.stateNode.containerInfo,I=ho(e);po(e,I,j);break;default:throw Error(o(161))}}catch(P){Ue(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ld(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Jf(e,t.alternate,t),t=t.sibling}function ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ol(4,t,t.return),ra(t);break;case 1:Zt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Qf(t,t.return,l),ra(t);break;case 27:Jn(t.stateNode);case 26:case 5:Zt(t,t.return),ra(t);break;case 22:t.memoizedState===null&&ra(t);break;case 30:ra(t);break;default:ra(t)}e=e.sibling}}function Rl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Rl(n,s,l),Yn(4,s);break;case 1:if(Rl(n,s,l),a=s,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(I){Ue(a,a.return,I)}if(a=s,n=a.updateQueue,n!==null){var p=a.stateNode;try{var j=n.shared.hiddenCallbacks;if(j!==null)for(n.shared.hiddenCallbacks=null,n=0;n<j.length;n++)Rc(j[n],p)}catch(I){Ue(a,a.return,I)}}l&&r&64&&Xf(s),Vn(s,s.return);break;case 27:Pf(s);case 26:case 5:Rl(n,s,l),l&&a===null&&r&4&&$f(s),Vn(s,s.return);break;case 12:Rl(n,s,l);break;case 13:Rl(n,s,l),l&&r&4&&ed(n,s);break;case 22:s.memoizedState===null&&Rl(n,s,l),Vn(s,s.return);break;case 30:break;default:Rl(n,s,l)}t=t.sibling}}function go(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Cn(l))}function vo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cn(e))}function Pt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ad(e,t,l,a),t=t.sibling}function ad(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,l,a),n&2048&&Yn(9,t);break;case 1:Pt(e,t,l,a);break;case 3:Pt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cn(e)));break;case 12:if(n&2048){Pt(e,t,l,a),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,p=s.onPostCommit;typeof p=="function"&&p(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Ue(t,t.return,j)}}else Pt(e,t,l,a);break;case 13:Pt(e,t,l,a);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Pt(e,t,l,a):qn(e,t):s._visibility&2?Pt(e,t,l,a):(s._visibility|=2,$a(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&go(r,t);break;case 24:Pt(e,t,l,a),n&2048&&vo(t.alternate,t);break;default:Pt(e,t,l,a)}}function $a(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,r=t,p=l,j=a,I=r.flags;switch(r.tag){case 0:case 11:case 15:$a(s,r,p,j,n),Yn(8,r);break;case 23:break;case 22:var P=r.stateNode;r.memoizedState!==null?P._visibility&2?$a(s,r,p,j,n):qn(s,r):(P._visibility|=2,$a(s,r,p,j,n)),n&&I&2048&&go(r.alternate,r);break;case 24:$a(s,r,p,j,n),n&&I&2048&&vo(r.alternate,r);break;default:$a(s,r,p,j,n)}t=t.sibling}}function qn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:qn(l,a),n&2048&&go(a.alternate,a);break;case 24:qn(l,a),n&2048&&vo(a.alternate,a);break;default:qn(l,a)}t=t.sibling}}var Gn=8192;function Za(e){if(e.subtreeFlags&Gn)for(e=e.child;e!==null;)nd(e),e=e.sibling}function nd(e){switch(e.tag){case 26:Za(e),e.flags&Gn&&e.memoizedState!==null&&n0(Yt,e.memoizedState,e.memoizedProps);break;case 5:Za(e);break;case 3:case 4:var t=Yt;Yt=Nu(e.stateNode.containerInfo),Za(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Gn,Gn=16777216,Za(e),Gn=t):Za(e));break;default:Za(e)}}function sd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];et=a,id(a,e)}sd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ud(e),e=e.sibling}function ud(e){switch(e.tag){case 0:case 11:case 15:Xn(e),e.flags&2048&&Ol(9,e,e.return);break;case 3:Xn(e);break;case 12:Xn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ru(e)):Xn(e);break;default:Xn(e)}}function ru(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];et=a,id(a,e)}sd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ol(8,t,t.return),ru(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ru(t));break;default:ru(t)}e=e.sibling}}function id(e,t){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:Ol(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:Cn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,et=a;else e:for(l=e;et!==null;){a=et;var n=a.sibling,s=a.return;if(Wf(a),a===l){et=null;break e}if(n!==null){n.return=s,et=n;break e}et=s}}}var bp={getCacheForType:function(e){var t=rt(Pe),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},Np=typeof WeakMap=="function"?WeakMap:Map,Oe=0,_e=null,Ne=null,je=0,we=0,At=null,Ml=!1,Pa=!1,bo=!1,pl=0,Be=0,Ll=0,ca=0,No=0,Ht=0,Ka=0,Qn=null,Nt=null,So=!1,Eo=0,cu=1/0,fu=null,Dl=null,nt=0,Ul=null,Ja=null,Wa=0,jo=0,To=null,od=null,$n=0,Ao=null;function Ct(){if((Oe&2)!==0&&je!==0)return je&-je;if(V.T!==null){var e=Ia;return e!==0?e:Do()}return lt()}function rd(){Ht===0&&(Ht=(je&536870912)===0||Ce?Ns():536870912);var e=kt.current;return e!==null&&(e.flags|=32),Ht}function Ot(e,t,l){(e===_e&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),_l(e,je,Ht,!1)),$l(e,l),((Oe&2)===0||e!==_e)&&(e===_e&&((Oe&2)===0&&(ca|=l),Be===4&&_l(e,je,Ht,!1)),Kt(e))}function cd(e,t,l){if((Oe&6)!==0)throw Error(o(327));var a=!l&&(t&124)===0&&(t&e.expiredLanes)===0||Xl(e,t),n=a?jp(e,t):wo(e,t,!0),s=a;do{if(n===0){Pa&&!a&&_l(e,t,0,!1);break}else{if(l=e.current.alternate,s&&!Sp(l)){n=wo(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var p=e;n=Qn;var j=p.current.memoizedState.isDehydrated;if(j&&(Fa(p,r).flags|=256),r=wo(p,r,!1),r!==2){if(bo&&!j){p.errorRecoveryDisabledLanes|=s,ca|=s,n=4;break e}s=Nt,Nt=n,s!==null&&(Nt===null?Nt=s:Nt.push.apply(Nt,s))}n=r}if(s=!1,n!==2)continue}}if(n===1){Fa(e,0),_l(e,t,0,!0);break}e:{switch(a=e,s=n,s){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:_l(a,t,Ht,!Ml);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Eo+300-ut(),10<n)){if(_l(a,t,Ht,!Ml),va(a,0,!0)!==0)break e;a.timeoutHandle=Id(fd.bind(null,a,l,Nt,fu,So,t,Ht,ca,Ka,Ml,s,2,-0,0),n);break e}fd(a,l,Nt,fu,So,t,Ht,ca,Ka,Ml,s,0,-0,0)}}break}while(!0);Kt(e)}function fd(e,t,l,a,n,s,r,p,j,I,P,W,B,q){if(e.timeoutHandle=-1,W=t.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(es={stylesheets:null,count:0,unsuspend:a0},nd(t),W=s0(),W!==null)){e.cancelPendingCommit=W(gd.bind(null,e,t,s,l,a,n,r,p,j,P,1,B,q)),_l(e,s,r,!I);return}gd(e,t,s,l,a,n,r,p,j)}function Sp(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],s=n.getSnapshot;n=n.value;try{if(!St(s(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _l(e,t,l,a){t&=~No,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var s=31-ht(n),r=1<<s;a[s]=-1,n&=~r}l!==0&&on(e,l,t)}function du(){return(Oe&6)===0?(Zn(0),!1):!0}function Co(){if(Ne!==null){if(we===0)var e=Ne.return;else e=Ne,il=na=null,qi(e),Xa=null,Hn=0,e=Ne;for(;e!==null;)Gf(e.alternate,e),e=e.return;Ne=null}}function Fa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Bp(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Co(),_e=e,Ne=l=nl(e.current,null),je=t,we=0,At=null,Ml=!1,Pa=Xl(e,t),bo=!1,Ka=Ht=No=ca=Ll=Be=0,Nt=Qn=null,So=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-ht(a),s=1<<n;t|=e[n],a&=~s}return pl=t,Us(),l}function dd(e,t){ve=null,V.H=Fs,t===wn||t===qs?(t=Oc(),we=3):t===Tc?(t=Oc(),we=4):we=t===Rf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,Ne===null&&(Be=1,nu(e,Dt(t,e.current)))}function md(){var e=V.H;return V.H=Fs,e===null?Fs:e}function hd(){var e=V.A;return V.A=bp,e}function Oo(){Be=4,Ml||(je&4194048)!==je&&kt.current!==null||(Pa=!0),(Ll&134217727)===0&&(ca&134217727)===0||_e===null||_l(_e,je,Ht,!1)}function wo(e,t,l){var a=Oe;Oe|=2;var n=md(),s=hd();(_e!==e||je!==t)&&(fu=null,Fa(e,t)),t=!1;var r=Be;e:do try{if(we!==0&&Ne!==null){var p=Ne,j=At;switch(we){case 8:Co(),r=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var I=we;if(we=0,At=null,en(e,p,j,I),l&&Pa){r=0;break e}break;default:I=we,we=0,At=null,en(e,p,j,I)}}Ep(),r=Be;break}catch(P){dd(e,P)}while(!0);return t&&e.shellSuspendCounter++,il=na=null,Oe=a,V.H=n,V.A=s,Ne===null&&(_e=null,je=0,Us()),r}function Ep(){for(;Ne!==null;)pd(Ne)}function jp(e,t){var l=Oe;Oe|=2;var a=md(),n=hd();_e!==e||je!==t?(fu=null,cu=ut()+500,Fa(e,t)):Pa=Xl(e,t);e:do try{if(we!==0&&Ne!==null){t=Ne;var s=At;t:switch(we){case 1:we=0,At=null,en(e,t,s,1);break;case 2:case 9:if(Ac(s)){we=0,At=null,yd(t);break}t=function(){we!==2&&we!==9||_e!==e||(we=7),Kt(e)},s.then(t,t);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:Ac(s)?(we=0,At=null,yd(t)):(we=0,At=null,en(e,t,s,7));break;case 5:var r=null;switch(Ne.tag){case 26:r=Ne.memoizedState;case 5:case 27:var p=Ne;if(!r||Jd(r)){we=0,At=null;var j=p.sibling;if(j!==null)Ne=j;else{var I=p.return;I!==null?(Ne=I,mu(I)):Ne=null}break t}}we=0,At=null,en(e,t,s,5);break;case 6:we=0,At=null,en(e,t,s,6);break;case 8:Co(),Be=6;break e;default:throw Error(o(462))}}Tp();break}catch(P){dd(e,P)}while(!0);return il=na=null,V.H=a,V.A=n,Oe=l,Ne!==null?0:(_e=null,je=0,Us(),Be)}function Tp(){for(;Ne!==null&&!Je();)pd(Ne)}function pd(e){var t=Vf(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?mu(e):Ne=t}function yd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=zf(l,t,t.pendingProps,t.type,void 0,je);break;case 11:t=zf(l,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:qi(t);default:Gf(l,t),t=Ne=yc(t,pl),t=Vf(l,t,pl)}e.memoizedProps=e.pendingProps,t===null?mu(e):Ne=t}function en(e,t,l,a){il=na=null,qi(t),Xa=null,Hn=0;var n=t.return;try{if(hp(e,n,t,l,je)){Be=1,nu(e,Dt(l,e.current)),Ne=null;return}}catch(s){if(n!==null)throw Ne=n,s;Be=1,nu(e,Dt(l,e.current)),Ne=null;return}t.flags&32768?(Ce||a===1?e=!0:Pa||(je&536870912)!==0?e=!1:(Ml=e=!0,(a===2||a===9||a===3||a===6)&&(a=kt.current,a!==null&&a.tag===13&&(a.flags|=16384))),xd(t,e)):mu(t)}function mu(e){var t=e;do{if((t.flags&32768)!==0){xd(t,Ml);return}e=t.return;var l=yp(t.alternate,t,pl);if(l!==null){Ne=l;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Be===0&&(Be=5)}function xd(e,t){do{var l=xp(e.alternate,e);if(l!==null){l.flags&=32767,Ne=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ne=e;return}Ne=e=l}while(e!==null);Be=6,Ne=null}function gd(e,t,l,a,n,s,r,p,j){e.cancelPendingCommit=null;do hu();while(nt!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,s|=gi,Zl(e,l,s,r,p,j),e===_e&&(Ne=_e=null,je=0),Ja=t,Ul=e,Wa=l,jo=s,To=n,od=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wp(ya,function(){return Ed(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=V.T,V.T=null,n=X.p,X.p=2,r=Oe,Oe|=4;try{gp(e,t,l)}finally{Oe=r,X.p=n,V.T=a}}nt=1,vd(),bd(),Nd()}}function vd(){if(nt===1){nt=0;var e=Ul,t=Ja,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var a=X.p;X.p=2;var n=Oe;Oe|=4;try{td(t,e);var s=Yo,r=uc(e.containerInfo),p=s.focusedElem,j=s.selectionRange;if(r!==p&&p&&p.ownerDocument&&sc(p.ownerDocument.documentElement,p)){if(j!==null&&mi(p)){var I=j.start,P=j.end;if(P===void 0&&(P=I),"selectionStart"in p)p.selectionStart=I,p.selectionEnd=Math.min(P,p.value.length);else{var W=p.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var q=B.getSelection(),ye=p.textContent.length,he=Math.min(j.start,ye),De=j.end===void 0?he:Math.min(j.end,ye);!q.extend&&he>De&&(r=De,De=he,he=r);var w=nc(p,he),C=nc(p,De);if(w&&C&&(q.rangeCount!==1||q.anchorNode!==w.node||q.anchorOffset!==w.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var _=W.createRange();_.setStart(w.node,w.offset),q.removeAllRanges(),he>De?(q.addRange(_),q.extend(C.node,C.offset)):(_.setEnd(C.node,C.offset),q.addRange(_))}}}}for(W=[],q=p;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<W.length;p++){var J=W[p];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Au=!!Bo,Yo=Bo=null}finally{Oe=n,X.p=a,V.T=l}}e.current=t,nt=2}}function bd(){if(nt===2){nt=0;var e=Ul,t=Ja,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var a=X.p;X.p=2;var n=Oe;Oe|=4;try{Jf(e,t.alternate,t)}finally{Oe=n,X.p=a,V.T=l}}nt=3}}function Nd(){if(nt===4||nt===3){nt=0,Rt();var e=Ul,t=Ja,l=Wa,a=od;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Ja=Ul=null,Sd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Dl=null),fn(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=V.T,n=X.p,X.p=2,V.T=null;try{for(var s=e.onRecoverableError,r=0;r<a.length;r++){var p=a[r];s(p.value,{componentStack:p.stack})}}finally{V.T=t,X.p=n}}(Wa&3)!==0&&hu(),Kt(e),n=e.pendingLanes,(l&4194090)!==0&&(n&42)!==0?e===Ao?$n++:($n=0,Ao=e):$n=0,Zn(0)}}function Sd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cn(t)))}function hu(e){return vd(),bd(),Nd(),Ed()}function Ed(){if(nt!==5)return!1;var e=Ul,t=jo;jo=0;var l=fn(Wa),a=V.T,n=X.p;try{X.p=32>l?32:l,V.T=null,l=To,To=null;var s=Ul,r=Wa;if(nt=0,Ja=Ul=null,Wa=0,(Oe&6)!==0)throw Error(o(331));var p=Oe;if(Oe|=4,ud(s.current),ad(s,s.current,r,l),Oe=p,Zn(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(Gl,s)}catch{}return!0}finally{X.p=n,V.T=a,Sd(e,t)}}function jd(e,t,l){t=Dt(l,t),t=ao(e.stateNode,t,2),e=jl(e,t,2),e!==null&&($l(e,2),Kt(e))}function Ue(e,t,l){if(e.tag===3)jd(e,e,l);else for(;t!==null;){if(t.tag===3){jd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Dl===null||!Dl.has(a))){e=Dt(l,e),l=Of(2),a=jl(t,l,2),a!==null&&(wf(l,a,t,e),$l(a,2),Kt(a));break}}t=t.return}}function Ro(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Np;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(bo=!0,n.add(l),e=Ap.bind(null,e,t,l),t.then(e,e))}function Ap(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,_e===e&&(je&l)===l&&(Be===4||Be===3&&(je&62914560)===je&&300>ut()-Eo?(Oe&2)===0&&Fa(e,0):No|=l,Ka===je&&(Ka=0)),Kt(e)}function Td(e,t){t===0&&(t=Ss()),e=_a(e,t),e!==null&&($l(e,t),Kt(e))}function Cp(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Td(e,l)}function Op(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Td(e,l)}function wp(e,t){return Te(e,t)}var pu=null,tn=null,Mo=!1,yu=!1,Lo=!1,fa=0;function Kt(e){e!==tn&&e.next===null&&(tn===null?pu=tn=e:tn=tn.next=e),yu=!0,Mo||(Mo=!0,Mp())}function Zn(e,t){if(!Lo&&yu){Lo=!0;do for(var l=!1,a=pu;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var s=0;else{var r=a.suspendedLanes,p=a.pingedLanes;s=(1<<31-ht(42|e)+1)-1,s&=n&~(r&~p),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(l=!0,wd(a,s))}else s=je,s=va(a,a===_e?s:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(s&3)===0||Xl(a,s)||(l=!0,wd(a,s));a=a.next}while(l);Lo=!1}}function Rp(){Ad()}function Ad(){yu=Mo=!1;var e=0;fa!==0&&(Ip()&&(e=fa),fa=0);for(var t=ut(),l=null,a=pu;a!==null;){var n=a.next,s=Cd(a,t);s===0?(a.next=null,l===null?pu=n:l.next=n,n===null&&(tn=l)):(l=a,(e!==0||(s&3)!==0)&&(yu=!0)),a=n}Zn(e)}function Cd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-ht(s),p=1<<r,j=n[r];j===-1?((p&l)===0||(p&a)!==0)&&(n[r]=ba(p,t)):j<=t&&(e.expiredLanes|=p),s&=~p}if(t=_e,l=je,l=va(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(we===2||we===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ee(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Xl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ee(a),fn(l)){case 2:case 8:l=vs;break;case 32:l=ya;break;case 268435456:l=ql;break;default:l=ya}return a=Od.bind(null,e),l=Te(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ee(a),e.callbackPriority=2,e.callbackNode=null,2}function Od(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(hu()&&e.callbackNode!==l)return null;var a=je;return a=va(e,e===_e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(cd(e,a,t),Cd(e,ut()),e.callbackNode!=null&&e.callbackNode===l?Od.bind(null,e):null)}function wd(e,t){if(hu())return null;cd(e,t,!0)}function Mp(){Yp(function(){(Oe&6)!==0?Te(vl,Rp):Ad()})}function Do(){return fa===0&&(fa=Ns()),fa}function Rd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cs(""+e)}function Md(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Lp(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var s=Rd((n[ot]||null).action),r=a.submitter;r&&(t=(t=r[ot]||null)?Rd(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var p=new Ms("action","action",null,a,n);e.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(fa!==0){var j=r?Md(n,r):new FormData(n);Wi(l,{pending:!0,data:j,method:n.method,action:s},null,j)}}else typeof s=="function"&&(p.preventDefault(),j=r?Md(n,r):new FormData(n),Wi(l,{pending:!0,data:j,method:n.method,action:s},s,j))},currentTarget:n}]})}}for(var Uo=0;Uo<xi.length;Uo++){var _o=xi[Uo],Dp=_o.toLowerCase(),Up=_o[0].toUpperCase()+_o.slice(1);Bt(Dp,"on"+Up)}Bt(rc,"onAnimationEnd"),Bt(cc,"onAnimationIteration"),Bt(fc,"onAnimationStart"),Bt("dblclick","onDoubleClick"),Bt("focusin","onFocus"),Bt("focusout","onBlur"),Bt(Jh,"onTransitionRun"),Bt(Wh,"onTransitionStart"),Bt(Fh,"onTransitionCancel"),Bt(dc,"onTransitionEnd"),Ta("onMouseEnter",["mouseout","mouseover"]),Ta("onMouseLeave",["mouseout","mouseover"]),Ta("onPointerEnter",["pointerout","pointerover"]),Ta("onPointerLeave",["pointerout","pointerover"]),Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_p=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pn));function Ld(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var r=a.length-1;0<=r;r--){var p=a[r],j=p.instance,I=p.currentTarget;if(p=p.listener,j!==s&&n.isPropagationStopped())break e;s=p,n.currentTarget=I;try{s(n)}catch(P){au(P)}n.currentTarget=null,s=j}else for(r=0;r<a.length;r++){if(p=a[r],j=p.instance,I=p.currentTarget,p=p.listener,j!==s&&n.isPropagationStopped())break e;s=p,n.currentTarget=I;try{s(n)}catch(P){au(P)}n.currentTarget=null,s=j}}}}function Se(e,t){var l=t[$u];l===void 0&&(l=t[$u]=new Set);var a=e+"__bubble";l.has(a)||(Dd(t,e,2,!1),l.add(a))}function zo(e,t,l){var a=0;t&&(a|=4),Dd(l,e,a,t)}var xu="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[xu]){e[xu]=!0,Tr.forEach(function(l){l!=="selectionchange"&&(_p.has(l)||zo(l,!1,e),zo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xu]||(t[xu]=!0,zo("selectionchange",!1,t))}}function Dd(e,t,l,a){switch(am(t)){case 2:var n=o0;break;case 8:n=r0;break;default:n=Jo}l=n.bind(null,t,l,e),n=void 0,!ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ho(e,t,l,a,n){var s=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var p=a.stateNode.containerInfo;if(p===n)break;if(r===4)for(r=a.return;r!==null;){var j=r.tag;if((j===3||j===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;p!==null;){if(r=Sa(p),r===null)return;if(j=r.tag,j===5||j===6||j===26||j===27){a=s=r;continue e}p=p.parentNode}}a=a.return}Ir(function(){var I=s,P=li(l),W=[];e:{var B=mc.get(e);if(B!==void 0){var q=Ms,ye=e;switch(e){case"keypress":if(ws(l)===0)break e;case"keydown":case"keyup":q=wh;break;case"focusin":ye="focus",q=oi;break;case"focusout":ye="blur",q=oi;break;case"beforeblur":case"afterblur":q=oi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Lh;break;case rc:case cc:case fc:q=bh;break;case dc:q=Uh;break;case"scroll":case"scrollend":q=ph;break;case"wheel":q=zh;break;case"copy":case"cut":case"paste":q=Sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gr;break;case"toggle":case"beforetoggle":q=Hh}var he=(t&4)!==0,De=!he&&(e==="scroll"||e==="scrollend"),w=he?B!==null?B+"Capture":null:B;he=[];for(var C=I,_;C!==null;){var J=C;if(_=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||_===null||w===null||(J=hn(C,w),J!=null&&he.push(Kn(C,J,_))),De)break;C=C.return}0<he.length&&(B=new q(B,ye,null,l,P),W.push({event:B,listeners:he}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&l!==ti&&(ye=l.relatedTarget||l.fromElement)&&(Sa(ye)||ye[Na]))break e;if((q||B)&&(B=P.window===P?P:(B=P.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ye=l.relatedTarget||l.toElement,q=I,ye=ye?Sa(ye):null,ye!==null&&(De=f(ye),he=ye.tag,ye!==De||he!==5&&he!==27&&he!==6)&&(ye=null)):(q=null,ye=I),q!==ye)){if(he=Vr,J="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(he=Gr,J="onPointerLeave",w="onPointerEnter",C="pointer"),De=q==null?B:mn(q),_=ye==null?B:mn(ye),B=new he(J,C+"leave",q,l,P),B.target=De,B.relatedTarget=_,J=null,Sa(P)===I&&(he=new he(w,C+"enter",ye,l,P),he.target=_,he.relatedTarget=De,J=he),De=J,q&&ye)t:{for(he=q,w=ye,C=0,_=he;_;_=ln(_))C++;for(_=0,J=w;J;J=ln(J))_++;for(;0<C-_;)he=ln(he),C--;for(;0<_-C;)w=ln(w),_--;for(;C--;){if(he===w||w!==null&&he===w.alternate)break t;he=ln(he),w=ln(w)}he=null}else he=null;q!==null&&Ud(W,B,q,he,!1),ye!==null&&De!==null&&Ud(W,De,ye,he,!0)}}e:{if(B=I?mn(I):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var oe=Wr;else if(Kr(B))if(Fr)oe=Zh;else{oe=Qh;var be=Xh}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?I&&ei(I.elementType)&&(oe=Wr):oe=$h;if(oe&&(oe=oe(e,I))){Jr(W,oe,l,P);break e}be&&be(e,B,I),e==="focusout"&&I&&B.type==="number"&&I.memoizedProps.value!=null&&Fu(B,"number",B.value)}switch(be=I?mn(I):window,e){case"focusin":(Kr(be)||be.contentEditable==="true")&&(La=be,hi=I,Sn=null);break;case"focusout":Sn=hi=La=null;break;case"mousedown":pi=!0;break;case"contextmenu":case"mouseup":case"dragend":pi=!1,ic(W,l,P);break;case"selectionchange":if(Kh)break;case"keydown":case"keyup":ic(W,l,P)}var fe;if(ci)e:{switch(e){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Ma?Zr(e,l)&&(pe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(pe="onCompositionStart");pe&&(Xr&&l.locale!=="ko"&&(Ma||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Ma&&(fe=Br()):(bl=P,si="value"in bl?bl.value:bl.textContent,Ma=!0)),be=gu(I,pe),0<be.length&&(pe=new qr(pe,e,null,l,P),W.push({event:pe,listeners:be}),fe?pe.data=fe:(fe=Pr(l),fe!==null&&(pe.data=fe)))),(fe=Bh?Yh(e,l):Vh(e,l))&&(pe=gu(I,"onBeforeInput"),0<pe.length&&(be=new qr("onBeforeInput","beforeinput",null,l,P),W.push({event:be,listeners:pe}),be.data=fe)),Lp(W,e,I,l,P)}Ld(W,t)})}function Kn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function gu(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=hn(e,l),n!=null&&a.unshift(Kn(e,n,s)),n=hn(e,t),n!=null&&a.push(Kn(e,n,s))),e.tag===3)return a;e=e.return}return[]}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ud(e,t,l,a,n){for(var s=t._reactName,r=[];l!==null&&l!==a;){var p=l,j=p.alternate,I=p.stateNode;if(p=p.tag,j!==null&&j===a)break;p!==5&&p!==26&&p!==27||I===null||(j=I,n?(I=hn(l,s),I!=null&&r.unshift(Kn(l,I,j))):n||(I=hn(l,s),I!=null&&r.push(Kn(l,I,j)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var zp=/\r\n?/g,kp=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(kp,"")}function zd(e,t){return t=_d(t),_d(e)===t}function vu(){}function Le(e,t,l,a,n,s){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Oa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Oa(e,""+a);break;case"className":js(e,"class",a);break;case"tabIndex":js(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":js(e,l,a);break;case"style":kr(e,a,s);break;case"data":if(t!=="object"){js(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Cs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(l==="formAction"?(t!=="input"&&Le(e,t,"name",n.name,n,null),Le(e,t,"formEncType",n.formEncType,n,null),Le(e,t,"formMethod",n.formMethod,n,null),Le(e,t,"formTarget",n.formTarget,n,null)):(Le(e,t,"encType",n.encType,n,null),Le(e,t,"method",n.method,n,null),Le(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Cs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=vu);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Cs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Es(e,"popover",a);break;case"xlinkActuate":ll(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ll(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ll(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ll(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ll(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ll(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ll(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ll(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ll(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Es(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=mh.get(l)||l,Es(e,l,a))}}function Io(e,t,l,a,n,s){switch(l){case"style":kr(e,a,s);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Oa(e,a):(typeof a=="number"||typeof a=="bigint")&&Oa(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ar.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),s=e[ot]||null,s=s!=null?s[l]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof a=="function")){typeof s!="function"&&s!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Es(e,l,a)}}}function st(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,n=!1,s;for(s in l)if(l.hasOwnProperty(s)){var r=l[s];if(r!=null)switch(s){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Le(e,t,s,r,l,null)}}n&&Le(e,t,"srcSet",l.srcSet,l,null),a&&Le(e,t,"src",l.src,l,null);return;case"input":Se("invalid",e);var p=s=r=n=null,j=null,I=null;for(a in l)if(l.hasOwnProperty(a)){var P=l[a];if(P!=null)switch(a){case"name":n=P;break;case"type":r=P;break;case"checked":j=P;break;case"defaultChecked":I=P;break;case"value":s=P;break;case"defaultValue":p=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,t));break;default:Le(e,t,a,P,l,null)}}Dr(e,s,p,j,I,r,n,!1),Ts(e);return;case"select":Se("invalid",e),a=r=s=null;for(n in l)if(l.hasOwnProperty(n)&&(p=l[n],p!=null))switch(n){case"value":s=p;break;case"defaultValue":r=p;break;case"multiple":a=p;default:Le(e,t,n,p,l,null)}t=s,l=r,e.multiple=!!a,t!=null?Ca(e,!!a,t,!1):l!=null&&Ca(e,!!a,l,!0);return;case"textarea":Se("invalid",e),s=n=a=null;for(r in l)if(l.hasOwnProperty(r)&&(p=l[r],p!=null))switch(r){case"value":a=p;break;case"defaultValue":n=p;break;case"children":s=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:Le(e,t,r,p,l,null)}_r(e,a,n,s),Ts(e);return;case"option":for(j in l)if(l.hasOwnProperty(j)&&(a=l[j],a!=null))switch(j){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Le(e,t,j,a,l,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<Pn.length;a++)Se(Pn[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(a=l[I],a!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Le(e,t,I,a,l,null)}return;default:if(ei(t)){for(P in l)l.hasOwnProperty(P)&&(a=l[P],a!==void 0&&Io(e,t,P,a,l,void 0));return}}for(p in l)l.hasOwnProperty(p)&&(a=l[p],a!=null&&Le(e,t,p,a,l,null))}function Hp(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,r=null,p=null,j=null,I=null,P=null;for(q in l){var W=l[q];if(l.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":j=W;default:a.hasOwnProperty(q)||Le(e,t,q,null,a,W)}}for(var B in a){var q=a[B];if(W=l[B],a.hasOwnProperty(B)&&(q!=null||W!=null))switch(B){case"type":s=q;break;case"name":n=q;break;case"checked":I=q;break;case"defaultChecked":P=q;break;case"value":r=q;break;case"defaultValue":p=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:q!==W&&Le(e,t,B,q,a,W)}}Wu(e,r,p,j,I,P,s,n);return;case"select":q=r=p=B=null;for(s in l)if(j=l[s],l.hasOwnProperty(s)&&j!=null)switch(s){case"value":break;case"multiple":q=j;default:a.hasOwnProperty(s)||Le(e,t,s,null,a,j)}for(n in a)if(s=a[n],j=l[n],a.hasOwnProperty(n)&&(s!=null||j!=null))switch(n){case"value":B=s;break;case"defaultValue":p=s;break;case"multiple":r=s;default:s!==j&&Le(e,t,n,s,a,j)}t=p,l=r,a=q,B!=null?Ca(e,!!l,B,!1):!!a!=!!l&&(t!=null?Ca(e,!!l,t,!0):Ca(e,!!l,l?[]:"",!1));return;case"textarea":q=B=null;for(p in l)if(n=l[p],l.hasOwnProperty(p)&&n!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Le(e,t,p,null,a,n)}for(r in a)if(n=a[r],s=l[r],a.hasOwnProperty(r)&&(n!=null||s!=null))switch(r){case"value":B=n;break;case"defaultValue":q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==s&&Le(e,t,r,n,a,s)}Ur(e,B,q);return;case"option":for(var ye in l)if(B=l[ye],l.hasOwnProperty(ye)&&B!=null&&!a.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Le(e,t,ye,null,a,B)}for(j in a)if(B=a[j],q=l[j],a.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Le(e,t,j,B,a,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)B=l[he],l.hasOwnProperty(he)&&B!=null&&!a.hasOwnProperty(he)&&Le(e,t,he,null,a,B);for(I in a)if(B=a[I],q=l[I],a.hasOwnProperty(I)&&B!==q&&(B!=null||q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,t));break;default:Le(e,t,I,B,a,q)}return;default:if(ei(t)){for(var De in l)B=l[De],l.hasOwnProperty(De)&&B!==void 0&&!a.hasOwnProperty(De)&&Io(e,t,De,void 0,a,B);for(P in a)B=a[P],q=l[P],!a.hasOwnProperty(P)||B===q||B===void 0&&q===void 0||Io(e,t,P,B,a,q);return}}for(var w in l)B=l[w],l.hasOwnProperty(w)&&B!=null&&!a.hasOwnProperty(w)&&Le(e,t,w,null,a,B);for(W in a)B=a[W],q=l[W],!a.hasOwnProperty(W)||B===q||B==null&&q==null||Le(e,t,W,B,a,q)}var Bo=null,Yo=null;function bu(e){return e.nodeType===9?e:e.ownerDocument}function kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=null;function Ip(){var e=window.event;return e&&e.type==="popstate"?e===qo?!1:(qo=e,!0):(qo=null,!1)}var Id=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,Yp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(e){return Bd.resolve(null).then(e).catch(Vp)}:Id;function Vp(e){setTimeout(function(){throw e})}function zl(e){return e==="head"}function Yd(e,t){var l=t,a=0,n=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(0<a&&8>a){l=a;var r=e.ownerDocument;if(l&1&&Jn(r.documentElement),l&2&&Jn(r.body),l&4)for(l=r.head,Jn(l),r=l.firstChild;r;){var p=r.nextSibling,j=r.nodeName;r[dn]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&r.rel.toLowerCase()==="stylesheet"||l.removeChild(r),r=p}}if(n===0){e.removeChild(s),ss(t);return}n--}else l==="$"||l==="$?"||l==="$!"?n++:a=l.charCodeAt(0)-48;else a=0;l=s}while(l);ss(t)}function Go(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Go(l),Zu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function qp(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Gp(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Vt(e.nextSibling),e===null))return null;return e}function Xo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Xp(e,t){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qo=null;function Vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function qd(e,t,l){switch(t=bu(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Jn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zu(e)}var It=new Map,Gd=new Set;function Nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yl=X.d;X.d={f:Qp,r:$p,D:Zp,C:Pp,L:Kp,m:Jp,X:Fp,S:Wp,M:e0};function Qp(){var e=yl.f(),t=du();return e||t}function $p(e){var t=Ea(e);t!==null&&t.tag===5&&t.type==="form"?cf(t):yl.r(e)}var an=typeof document>"u"?null:document;function Xd(e,t,l){var a=an;if(a&&typeof t=="string"&&t){var n=Lt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Gd.has(n)||(Gd.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),st(t,"link",e),We(t),a.head.appendChild(t)))}}function Zp(e){yl.D(e),Xd("dns-prefetch",e,null)}function Pp(e,t){yl.C(e,t),Xd("preconnect",e,t)}function Kp(e,t,l){yl.L(e,t,l);var a=an;if(a&&e&&t){var n='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Lt(l.imageSizes)+'"]')):n+='[href="'+Lt(e)+'"]';var s=n;switch(t){case"style":s=nn(e);break;case"script":s=sn(e)}It.has(s)||(e=v({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),It.set(s,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Wn(s))||t==="script"&&a.querySelector(Fn(s))||(t=a.createElement("link"),st(t,"link",e),We(t),a.head.appendChild(t)))}}function Jp(e,t){yl.m(e,t);var l=an;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Lt(a)+'"][href="'+Lt(e)+'"]',s=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=sn(e)}if(!It.has(s)&&(e=v({rel:"modulepreload",href:e},t),It.set(s,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Fn(s)))return}a=l.createElement("link"),st(a,"link",e),We(a),l.head.appendChild(a)}}}function Wp(e,t,l){yl.S(e,t,l);var a=an;if(a&&e){var n=ja(a).hoistableStyles,s=nn(e);t=t||"default";var r=n.get(s);if(!r){var p={loading:0,preload:null};if(r=a.querySelector(Wn(s)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},l),(l=It.get(s))&&$o(e,l);var j=r=a.createElement("link");We(j),st(j,"link",e),j._p=new Promise(function(I,P){j.onload=I,j.onerror=P}),j.addEventListener("load",function(){p.loading|=1}),j.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Su(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:p},n.set(s,r)}}}function Fp(e,t){yl.X(e,t);var l=an;if(l&&e){var a=ja(l).hoistableScripts,n=sn(e),s=a.get(n);s||(s=l.querySelector(Fn(n)),s||(e=v({src:e,async:!0},t),(t=It.get(n))&&Zo(e,t),s=l.createElement("script"),We(s),st(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function e0(e,t){yl.M(e,t);var l=an;if(l&&e){var a=ja(l).hoistableScripts,n=sn(e),s=a.get(n);s||(s=l.querySelector(Fn(n)),s||(e=v({src:e,async:!0,type:"module"},t),(t=It.get(n))&&Zo(e,t),s=l.createElement("script"),We(s),st(s,"link",e),l.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(n,s))}}function Qd(e,t,l,a){var n=(n=me.current)?Nu(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=nn(l.href),l=ja(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=nn(l.href);var s=ja(n).hoistableStyles,r=s.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=n.querySelector(Wn(e)))&&!s._p&&(r.instance=s,r.state.loading=5),It.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},It.set(e,l),s||t0(n,e,l,r.state))),t&&a===null)throw Error(o(528,""));return r}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sn(l),l=ja(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function nn(e){return'href="'+Lt(e)+'"'}function Wn(e){return'link[rel="stylesheet"]['+e+"]"}function $d(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function t0(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),st(t,"link",l),We(t),e.head.appendChild(t))}function sn(e){return'[src="'+Lt(e)+'"]'}function Fn(e){return"script[async]"+e}function Zd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(a)return t.instance=a,We(a),a;var n=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),We(a),st(a,"style",n),Su(a,l.precedence,e),t.instance=a;case"stylesheet":n=nn(l.href);var s=e.querySelector(Wn(n));if(s)return t.state.loading|=4,t.instance=s,We(s),s;a=$d(l),(n=It.get(n))&&$o(a,n),s=(e.ownerDocument||e).createElement("link"),We(s);var r=s;return r._p=new Promise(function(p,j){r.onload=p,r.onerror=j}),st(s,"link",a),t.state.loading|=4,Su(s,l.precedence,e),t.instance=s;case"script":return s=sn(l.src),(n=e.querySelector(Fn(s)))?(t.instance=n,We(n),n):(a=l,(n=It.get(s))&&(a=v({},l),Zo(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),We(n),st(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Su(a,l.precedence,e));return t.instance}function Su(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,s=n,r=0;r<a.length;r++){var p=a[r];if(p.dataset.precedence===t)s=p;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function $o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Eu=null;function Pd(e,t,l){if(Eu===null){var a=new Map,n=Eu=new Map;n.set(l,a)}else n=Eu,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var s=l[n];if(!(s[dn]||s[Ge]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var p=a.get(r);p?p.push(s):a.set(r,[s])}}return a}function Kd(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function l0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var es=null;function a0(){}function n0(e,t,l){if(es===null)throw Error(o(475));var a=es;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=nn(l.href),s=e.querySelector(Wn(n));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=ju.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=s,We(s);return}s=e.ownerDocument||e,l=$d(l),(n=It.get(n))&&$o(l,n),s=s.createElement("link"),We(s);var r=s;r._p=new Promise(function(p,j){r.onload=p,r.onerror=j}),st(s,"link",l),t.instance=s}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=ju.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function s0(){if(es===null)throw Error(o(475));var e=es;return e.stylesheets&&e.count===0&&Po(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&Po(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function ju(){if(this.count--,this.count===0){if(this.stylesheets)Po(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tu=null;function Po(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tu=new Map,t.forEach(u0,e),Tu=null,ju.call(e))}function u0(e,t){if(!(t.state.loading&4)){var l=Tu.get(e);if(l)var a=l.get(null);else{l=new Map,Tu.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var r=n[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}n=t.instance,r=n.getAttribute("data-precedence"),s=l.get(r)||a,s===a&&l.set(null,n),l.set(r,n),this.count++,a=ju.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var ts={$$typeof:z,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function i0(e,t,l,a,n,s,r,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.hiddenUpdates=Ql(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Wd(e,t,l,a,n,s,r,p,j,I,P,W){return e=new i0(e,t,l,r,p,j,I,W),t=1,s===!0&&(t|=24),s=Et(3,null,null,t),e.current=s,s.stateNode=e,t=wi(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:l,cache:t},Di(s),e}function Fd(e){return e?(e=za,e):za}function em(e,t,l,a,n,s){n=Fd(n),a.context===null?a.context=n:a.pendingContext=n,a=El(t),a.payload={element:l},s=s===void 0?null:s,s!==null&&(a.callback=s),l=jl(e,a,t),l!==null&&(Ot(l,e,t),Mn(l,e,t))}function tm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Ko(e,t){tm(e,t),(e=e.alternate)&&tm(e,t)}function lm(e){if(e.tag===13){var t=_a(e,67108864);t!==null&&Ot(t,e,67108864),Ko(e,67108864)}}var Au=!0;function o0(e,t,l,a){var n=V.T;V.T=null;var s=X.p;try{X.p=2,Jo(e,t,l,a)}finally{X.p=s,V.T=n}}function r0(e,t,l,a){var n=V.T;V.T=null;var s=X.p;try{X.p=8,Jo(e,t,l,a)}finally{X.p=s,V.T=n}}function Jo(e,t,l,a){if(Au){var n=Wo(a);if(n===null)Ho(e,t,a,Cu,l),nm(e,a);else if(f0(n,e,t,l,a))a.stopPropagation();else if(nm(e,a),t&4&&-1<c0.indexOf(e)){for(;n!==null;){var s=Ea(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=tl(s.pendingLanes);if(r!==0){var p=s;for(p.pendingLanes|=2,p.entangledLanes|=2;r;){var j=1<<31-ht(r);p.entanglements[1]|=j,r&=~j}Kt(s),(Oe&6)===0&&(cu=ut()+500,Zn(0))}}break;case 13:p=_a(s,2),p!==null&&Ot(p,s,2),du(),Ko(s,2)}if(s=Wo(a),s===null&&Ho(e,t,a,Cu,l),s===n)break;n=s}n!==null&&a.stopPropagation()}else Ho(e,t,a,null,l)}}function Wo(e){return e=li(e),Fo(e)}var Cu=null;function Fo(e){if(Cu=null,e=Sa(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=x(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cu=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(el()){case vl:return 2;case vs:return 8;case ya:case Vu:return 32;case ql:return 268435456;default:return 32}default:return 32}}var er=!1,kl=null,Hl=null,Il=null,ls=new Map,as=new Map,Bl=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function ns(e,t,l,a,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:s,targetContainers:[n]},t!==null&&(t=Ea(t),t!==null&&lm(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function f0(e,t,l,a,n){switch(t){case"focusin":return kl=ns(kl,e,t,l,a,n),!0;case"dragenter":return Hl=ns(Hl,e,t,l,a,n),!0;case"mouseover":return Il=ns(Il,e,t,l,a,n),!0;case"pointerover":var s=n.pointerId;return ls.set(s,ns(ls.get(s)||null,e,t,l,a,n)),!0;case"gotpointercapture":return s=n.pointerId,as.set(s,ns(as.get(s)||null,e,t,l,a,n)),!0}return!1}function sm(e){var t=Sa(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=x(l),t!==null){e.blockedOn=t,it(e.priority,function(){if(l.tag===13){var a=Ct();a=cn(a);var n=_a(l,a);n!==null&&Ot(n,l,a),Ko(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ou(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Wo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ti=a,l.target.dispatchEvent(a),ti=null}else return t=Ea(l),t!==null&&lm(t),e.blockedOn=l,!1;t.shift()}return!0}function um(e,t,l){Ou(e)&&l.delete(t)}function d0(){er=!1,kl!==null&&Ou(kl)&&(kl=null),Hl!==null&&Ou(Hl)&&(Hl=null),Il!==null&&Ou(Il)&&(Il=null),ls.forEach(um),as.forEach(um)}function wu(e,t){e.blockedOn===t&&(e.blockedOn=null,er||(er=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,d0)))}var Ru=null;function im(e){Ru!==e&&(Ru=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){Ru===e&&(Ru=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Fo(a||l)===null)continue;break}var s=Ea(l);s!==null&&(e.splice(t,3),t-=3,Wi(s,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function ss(e){function t(j){return wu(j,e)}kl!==null&&wu(kl,e),Hl!==null&&wu(Hl,e),Il!==null&&wu(Il,e),ls.forEach(t),as.forEach(t);for(var l=0;l<Bl.length;l++){var a=Bl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Bl.length&&(l=Bl[0],l.blockedOn===null);)sm(l),l.blockedOn===null&&Bl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],s=l[a+1],r=n[ot]||null;if(typeof s=="function")r||im(l);else if(r){var p=null;if(s&&s.hasAttribute("formAction")){if(n=s,r=s[ot]||null)p=r.formAction;else if(Fo(n)!==null)continue}else p=r.action;typeof p=="function"?l[a+1]=p:(l.splice(a,3),a-=3),im(l)}}}function tr(e){this._internalRoot=e}Mu.prototype.render=tr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Ct();em(l,a,e,t,null,null)},Mu.prototype.unmount=tr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;em(e.current,2,null,e,null,null),du(),t[Na]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=lt();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Bl.length&&t!==0&&t<Bl[l].priority;l++);Bl.splice(l,0,e),l===0&&sm(e)}};var om=c.version;if(om!=="19.1.0")throw Error(o(527,om,"19.1.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var m0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Gl=Lu.inject(m0),mt=Lu}catch{}}return is.createRoot=function(e,t){if(!m(e))throw Error(o(299));var l=!1,a="",n=jf,s=Tf,r=Af,p=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=Wd(e,1,!1,null,null,l,a,n,s,r,p,null),e[Na]=t.current,ko(e),new tr(t)},is.hydrateRoot=function(e,t,l){if(!m(e))throw Error(o(299));var a=!1,n="",s=jf,r=Tf,p=Af,j=null,I=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(s=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(p=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(j=l.unstable_transitionCallbacks),l.formState!==void 0&&(I=l.formState)),t=Wd(e,1,!0,t,l??null,a,n,s,r,p,j,I),t.context=Fd(null),l=t.current,a=Ct(),a=cn(a),n=El(a),n.callback=null,jl(l,n,a),l=a,t.current.lanes=l,$l(t,l),Kt(t),e[Na]=t.current,ko(e),new Mu(t)},is.version="19.1.0",is}var gm;function E0(){if(gm)return nr.exports;gm=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(c){console.error(c)}}return u(),nr.exports=S0(),nr.exports}var j0=E0();const T0=Lm(j0);var os={},vm;function A0(){if(vm)return os;vm=1,Object.defineProperty(os,"__esModule",{value:!0}),os.parse=x,os.serialize=h;const u=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,c=/^[\u0021-\u003A\u003C-\u007E]*$/,d=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,m=Object.prototype.toString,f=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function x(E,R){const y=new f,O=E.length;if(O<2)return y;const k=(R==null?void 0:R.decode)||v;let L=0;do{const U=E.indexOf("=",L);if(U===-1)break;const z=E.indexOf(";",L),K=z===-1?O:z;if(U>K){L=E.lastIndexOf(";",U-1)+1;continue}const Q=N(E,L,U),ee=g(E,U,Q),F=E.slice(Q,ee);if(y[F]===void 0){let te=N(E,U+1,K),G=g(E,K,te);const Y=k(E.slice(te,G));y[F]=Y}L=K+1}while(L<O);return y}function N(E,R,y){do{const O=E.charCodeAt(R);if(O!==32&&O!==9)return R}while(++R<y);return y}function g(E,R,y){for(;R>y;){const O=E.charCodeAt(--R);if(O!==32&&O!==9)return R+1}return y}function h(E,R,y){const O=(y==null?void 0:y.encode)||encodeURIComponent;if(!u.test(E))throw new TypeError(`argument name is invalid: ${E}`);const k=O(R);if(!c.test(k))throw new TypeError(`argument val is invalid: ${R}`);let L=E+"="+k;if(!y)return L;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);L+="; Max-Age="+y.maxAge}if(y.domain){if(!d.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);L+="; Domain="+y.domain}if(y.path){if(!o.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);L+="; Path="+y.path}if(y.expires){if(!T(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);L+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(L+="; HttpOnly"),y.secure&&(L+="; Secure"),y.partitioned&&(L+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return L}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return m.call(E)==="[object Date]"}return os}A0();var bm="popstate";function C0(u={}){function c(m,f){let{pathname:x="/",search:N="",hash:g=""}=pa(m.location.hash.substring(1));return!x.startsWith("/")&&!x.startsWith(".")&&(x="/"+x),fr("",{pathname:x,search:N,hash:g},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(m,f){let x=m.document.querySelector("base"),N="";if(x&&x.getAttribute("href")){let g=m.location.href,h=g.indexOf("#");N=h===-1?g:g.slice(0,h)}return N+"#"+(typeof f=="string"?f:cs(f))}function o(m,f){qt(m.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return w0(c,d,o,u)}function He(u,c){if(u===!1||u===null||typeof u>"u")throw new Error(c)}function qt(u,c){if(!u){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function O0(){return Math.random().toString(36).substring(2,10)}function Nm(u,c){return{usr:u.state,key:u.key,idx:c}}function fr(u,c,d=null,o){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof c=="string"?pa(c):c,state:d,key:c&&c.key||o||O0()}}function cs({pathname:u="/",search:c="",hash:d=""}){return c&&c!=="?"&&(u+=c.charAt(0)==="?"?c:"?"+c),d&&d!=="#"&&(u+=d.charAt(0)==="#"?d:"#"+d),u}function pa(u){let c={};if(u){let d=u.indexOf("#");d>=0&&(c.hash=u.substring(d),u=u.substring(0,d));let o=u.indexOf("?");o>=0&&(c.search=u.substring(o),u=u.substring(0,o)),u&&(c.pathname=u)}return c}function w0(u,c,d,o={}){let{window:m=document.defaultView,v5Compat:f=!1}=o,x=m.history,N="POP",g=null,h=v();h==null&&(h=0,x.replaceState({...x.state,idx:h},""));function v(){return(x.state||{idx:null}).idx}function T(){N="POP";let k=v(),L=k==null?null:k-h;h=k,g&&g({action:N,location:O.location,delta:L})}function E(k,L){N="PUSH";let U=fr(O.location,k,L);d&&d(U,k),h=v()+1;let z=Nm(U,h),K=O.createHref(U);try{x.pushState(z,"",K)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;m.location.assign(K)}f&&g&&g({action:N,location:O.location,delta:1})}function R(k,L){N="REPLACE";let U=fr(O.location,k,L);d&&d(U,k),h=v();let z=Nm(U,h),K=O.createHref(U);x.replaceState(z,"",K),f&&g&&g({action:N,location:O.location,delta:0})}function y(k){return R0(k)}let O={get action(){return N},get location(){return u(m,x)},listen(k){if(g)throw new Error("A history only accepts one active listener");return m.addEventListener(bm,T),g=k,()=>{m.removeEventListener(bm,T),g=null}},createHref(k){return c(m,k)},createURL:y,encodeLocation(k){let L=y(k);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:R,go(k){return x.go(k)}};return O}function R0(u,c=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),He(d,"No window.location.(origin|href) available to create URL");let o=typeof u=="string"?u:cs(u);return o=o.replace(/ $/,"%20"),!c&&o.startsWith("//")&&(o=d+o),new URL(o,d)}function Dm(u,c,d="/"){return M0(u,c,d,!1)}function M0(u,c,d,o){let m=typeof c=="string"?pa(c):c,f=gl(m.pathname||"/",d);if(f==null)return null;let x=Um(u);L0(x);let N=null;for(let g=0;N==null&&g<x.length;++g){let h=q0(f);N=Y0(x[g],h,o)}return N}function Um(u,c=[],d=[],o=""){let m=(f,x,N)=>{let g={relativePath:N===void 0?f.path||"":N,caseSensitive:f.caseSensitive===!0,childrenIndex:x,route:f};g.relativePath.startsWith("/")&&(He(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length));let h=xl([o,g.relativePath]),v=d.concat(g);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Um(f.children,c,v,h)),!(f.path==null&&!f.index)&&c.push({path:h,score:I0(h,f.index),routesMeta:v})};return u.forEach((f,x)=>{var N;if(f.path===""||!((N=f.path)!=null&&N.includes("?")))m(f,x);else for(let g of _m(f.path))m(f,x,g)}),c}function _m(u){let c=u.split("/");if(c.length===0)return[];let[d,...o]=c,m=d.endsWith("?"),f=d.replace(/\?$/,"");if(o.length===0)return m?[f,""]:[f];let x=_m(o.join("/")),N=[];return N.push(...x.map(g=>g===""?f:[f,g].join("/"))),m&&N.push(...x),N.map(g=>u.startsWith("/")&&g===""?"/":g)}function L0(u){u.sort((c,d)=>c.score!==d.score?d.score-c.score:B0(c.routesMeta.map(o=>o.childrenIndex),d.routesMeta.map(o=>o.childrenIndex)))}var D0=/^:[\w-]+$/,U0=3,_0=2,z0=1,k0=10,H0=-2,Sm=u=>u==="*";function I0(u,c){let d=u.split("/"),o=d.length;return d.some(Sm)&&(o+=H0),c&&(o+=_0),d.filter(m=>!Sm(m)).reduce((m,f)=>m+(D0.test(f)?U0:f===""?z0:k0),o)}function B0(u,c){return u.length===c.length&&u.slice(0,-1).every((o,m)=>o===c[m])?u[u.length-1]-c[c.length-1]:0}function Y0(u,c,d=!1){let{routesMeta:o}=u,m={},f="/",x=[];for(let N=0;N<o.length;++N){let g=o[N],h=N===o.length-1,v=f==="/"?c:c.slice(f.length)||"/",T=ku({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},v),E=g.route;if(!T&&h&&d&&!o[o.length-1].route.index&&(T=ku({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(m,T.params),x.push({params:m,pathname:xl([f,T.pathname]),pathnameBase:$0(xl([f,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(f=xl([f,T.pathnameBase]))}return x}function ku(u,c){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[d,o]=V0(u.path,u.caseSensitive,u.end),m=c.match(d);if(!m)return null;let f=m[0],x=f.replace(/(.)\/+$/,"$1"),N=m.slice(1);return{params:o.reduce((h,{paramName:v,isOptional:T},E)=>{if(v==="*"){let y=N[E]||"";x=f.slice(0,f.length-y.length).replace(/(.)\/+$/,"$1")}const R=N[E];return T&&!R?h[v]=void 0:h[v]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:f,pathnameBase:x,pattern:u}}function V0(u,c=!1,d=!0){qt(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let o=[],m="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,N,g)=>(o.push({paramName:N,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(o.push({paramName:"*"}),m+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?m+="\\/*$":u!==""&&u!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,c?void 0:"i"),o]}function q0(u){try{return u.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return qt(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),u}}function gl(u,c){if(c==="/")return u;if(!u.toLowerCase().startsWith(c.toLowerCase()))return null;let d=c.endsWith("/")?c.length-1:c.length,o=u.charAt(d);return o&&o!=="/"?null:u.slice(d)||"/"}function G0(u,c="/"){let{pathname:d,search:o="",hash:m=""}=typeof u=="string"?pa(u):u;return{pathname:d?d.startsWith("/")?d:X0(d,c):c,search:Z0(o),hash:P0(m)}}function X0(u,c){let d=c.replace(/\/+$/,"").split("/");return u.split("/").forEach(m=>{m===".."?d.length>1&&d.pop():m!=="."&&d.push(m)}),d.length>1?d.join("/"):"/"}function or(u,c,d,o){return`Cannot include a '${u}' character in a manually specified \`to.${c}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q0(u){return u.filter((c,d)=>d===0||c.route.path&&c.route.path.length>0)}function zm(u){let c=Q0(u);return c.map((d,o)=>o===c.length-1?d.pathname:d.pathnameBase)}function km(u,c,d,o=!1){let m;typeof u=="string"?m=pa(u):(m={...u},He(!m.pathname||!m.pathname.includes("?"),or("?","pathname","search",m)),He(!m.pathname||!m.pathname.includes("#"),or("#","pathname","hash",m)),He(!m.search||!m.search.includes("#"),or("#","search","hash",m)));let f=u===""||m.pathname==="",x=f?"/":m.pathname,N;if(x==null)N=d;else{let T=c.length-1;if(!o&&x.startsWith("..")){let E=x.split("/");for(;E[0]==="..";)E.shift(),T-=1;m.pathname=E.join("/")}N=T>=0?c[T]:"/"}let g=G0(m,N),h=x&&x!=="/"&&x.endsWith("/"),v=(f||x===".")&&d.endsWith("/");return!g.pathname.endsWith("/")&&(h||v)&&(g.pathname+="/"),g}var xl=u=>u.join("/").replace(/\/\/+/g,"/"),$0=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),Z0=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,P0=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function K0(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}var Hm=["POST","PUT","PATCH","DELETE"];new Set(Hm);var J0=["GET",...Hm];new Set(J0);var un=b.createContext(null);un.displayName="DataRouter";var Bu=b.createContext(null);Bu.displayName="DataRouterState";var Im=b.createContext({isTransitioning:!1});Im.displayName="ViewTransition";var W0=b.createContext(new Map);W0.displayName="Fetchers";var F0=b.createContext(null);F0.displayName="Await";var Wt=b.createContext(null);Wt.displayName="Navigation";var ms=b.createContext(null);ms.displayName="Location";var Ft=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ft.displayName="Route";var gr=b.createContext(null);gr.displayName="RouteError";function ey(u,{relative:c}={}){He(hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:o}=b.useContext(Wt),{hash:m,pathname:f,search:x}=ys(u,{relative:c}),N=f;return d!=="/"&&(N=f==="/"?d:xl([d,f])),o.createHref({pathname:N,search:x,hash:m})}function hs(){return b.useContext(ms)!=null}function Vl(){return He(hs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ms).location}var Bm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ym(u){b.useContext(Wt).static||b.useLayoutEffect(u)}function ps(){let{isDataRoute:u}=b.useContext(Ft);return u?hy():ty()}function ty(){He(hs(),"useNavigate() may be used only in the context of a <Router> component.");let u=b.useContext(un),{basename:c,navigator:d}=b.useContext(Wt),{matches:o}=b.useContext(Ft),{pathname:m}=Vl(),f=JSON.stringify(zm(o)),x=b.useRef(!1);return Ym(()=>{x.current=!0}),b.useCallback((g,h={})=>{if(qt(x.current,Bm),!x.current)return;if(typeof g=="number"){d.go(g);return}let v=km(g,JSON.parse(f),m,h.relative==="path");u==null&&c!=="/"&&(v.pathname=v.pathname==="/"?c:xl([c,v.pathname])),(h.replace?d.replace:d.push)(v,h.state,h)},[c,d,f,m,u])}b.createContext(null);function ly(){let{matches:u}=b.useContext(Ft),c=u[u.length-1];return c?c.params:{}}function ys(u,{relative:c}={}){let{matches:d}=b.useContext(Ft),{pathname:o}=Vl(),m=JSON.stringify(zm(d));return b.useMemo(()=>km(u,JSON.parse(m),o,c==="path"),[u,m,o,c])}function ay(u,c){return Vm(u,c)}function Vm(u,c,d,o){var L;He(hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=b.useContext(Wt),{matches:f}=b.useContext(Ft),x=f[f.length-1],N=x?x.params:{},g=x?x.pathname:"/",h=x?x.pathnameBase:"/",v=x&&x.route;{let U=v&&v.path||"";qm(g,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=Vl(),E;if(c){let U=typeof c=="string"?pa(c):c;He(h==="/"||((L=U.pathname)==null?void 0:L.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${U.pathname}" was given in the \`location\` prop.`),E=U}else E=T;let R=E.pathname||"/",y=R;if(h!=="/"){let U=h.replace(/^\//,"").split("/");y="/"+R.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=Dm(u,{pathname:y});qt(v||O!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),qt(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=oy(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},N,U.params),pathname:xl([h,m.encodeLocation?m.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?h:xl([h,m.encodeLocation?m.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),f,d,o);return c&&k?b.createElement(ms.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function ny(){let u=my(),c=K0(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),d=u instanceof Error?u.stack:null,o="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},x=null;return console.error("Error handled by React Router default ErrorBoundary:",u),x=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},c),d?b.createElement("pre",{style:m},d):null,x)}var sy=b.createElement(ny,null),uy=class extends b.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,c){return c.location!==u.location||c.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:c.error,location:c.location,revalidation:u.revalidation||c.revalidation}}componentDidCatch(u,c){console.error("React Router caught the following error during render",u,c)}render(){return this.state.error!==void 0?b.createElement(Ft.Provider,{value:this.props.routeContext},b.createElement(gr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iy({routeContext:u,match:c,children:d}){let o=b.useContext(un);return o&&o.static&&o.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=c.route.id),b.createElement(Ft.Provider,{value:u},d)}function oy(u,c=[],d=null,o=null){if(u==null){if(!d)return null;if(d.errors)u=d.matches;else if(c.length===0&&!d.initialized&&d.matches.length>0)u=d.matches;else return null}let m=u,f=d==null?void 0:d.errors;if(f!=null){let g=m.findIndex(h=>h.route.id&&(f==null?void 0:f[h.route.id])!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,g+1))}let x=!1,N=-1;if(d)for(let g=0;g<m.length;g++){let h=m[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(N=g),h.route.id){let{loaderData:v,errors:T}=d,E=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!T||T[h.route.id]===void 0);if(h.route.lazy||E){x=!0,N>=0?m=m.slice(0,N+1):m=[m[0]];break}}}return m.reduceRight((g,h,v)=>{let T,E=!1,R=null,y=null;d&&(T=f&&h.route.id?f[h.route.id]:void 0,R=h.route.errorElement||sy,x&&(N<0&&v===0?(qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,y=null):N===v&&(E=!0,y=h.route.hydrateFallbackElement||null)));let O=c.concat(m.slice(0,v+1)),k=()=>{let L;return T?L=R:E?L=y:h.route.Component?L=b.createElement(h.route.Component,null):h.route.element?L=h.route.element:L=g,b.createElement(iy,{match:h,routeContext:{outlet:g,matches:O,isDataRoute:d!=null},children:L})};return d&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?b.createElement(uy,{location:d.location,revalidation:d.revalidation,component:R,error:T,children:k(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):k()},null)}function vr(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ry(u){let c=b.useContext(un);return He(c,vr(u)),c}function cy(u){let c=b.useContext(Bu);return He(c,vr(u)),c}function fy(u){let c=b.useContext(Ft);return He(c,vr(u)),c}function br(u){let c=fy(u),d=c.matches[c.matches.length-1];return He(d.route.id,`${u} can only be used on routes that contain a unique "id"`),d.route.id}function dy(){return br("useRouteId")}function my(){var o;let u=b.useContext(gr),c=cy("useRouteError"),d=br("useRouteError");return u!==void 0?u:(o=c.errors)==null?void 0:o[d]}function hy(){let{router:u}=ry("useNavigate"),c=br("useNavigate"),d=b.useRef(!1);return Ym(()=>{d.current=!0}),b.useCallback(async(m,f={})=>{qt(d.current,Bm),d.current&&(typeof m=="number"?u.navigate(m):await u.navigate(m,{fromRouteId:c,...f}))},[u,c])}var Em={};function qm(u,c,d){!c&&!Em[u]&&(Em[u]=!0,qt(!1,d))}b.memo(py);function py({routes:u,future:c,state:d}){return Vm(u,void 0,d,c)}function dr(u){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yy({basename:u="/",children:c=null,location:d,navigationType:o="POP",navigator:m,static:f=!1}){He(!hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=u.replace(/^\/*/,"/"),N=b.useMemo(()=>({basename:x,navigator:m,static:f,future:{}}),[x,m,f]);typeof d=="string"&&(d=pa(d));let{pathname:g="/",search:h="",hash:v="",state:T=null,key:E="default"}=d,R=b.useMemo(()=>{let y=gl(g,x);return y==null?null:{location:{pathname:y,search:h,hash:v,state:T,key:E},navigationType:o}},[x,g,h,v,T,E,o]);return qt(R!=null,`<Router basename="${x}"> is not able to match the URL "${g}${h}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:b.createElement(Wt.Provider,{value:N},b.createElement(ms.Provider,{children:c,value:R}))}function xy({children:u,location:c}){return ay(mr(u),c)}function mr(u,c=[]){let d=[];return b.Children.forEach(u,(o,m)=>{if(!b.isValidElement(o))return;let f=[...c,m];if(o.type===b.Fragment){d.push.apply(d,mr(o.props.children,f));return}He(o.type===dr,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!o.props.index||!o.props.children,"An index route cannot have child routes.");let x={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(x.children=mr(o.props.children,f)),d.push(x)}),d}var _u="get",zu="application/x-www-form-urlencoded";function Yu(u){return u!=null&&typeof u.tagName=="string"}function gy(u){return Yu(u)&&u.tagName.toLowerCase()==="button"}function vy(u){return Yu(u)&&u.tagName.toLowerCase()==="form"}function by(u){return Yu(u)&&u.tagName.toLowerCase()==="input"}function Ny(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function Sy(u,c){return u.button===0&&(!c||c==="_self")&&!Ny(u)}var Du=null;function Ey(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var jy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rr(u){return u!=null&&!jy.has(u)?(qt(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zu}"`),null):u}function Ty(u,c){let d,o,m,f,x;if(vy(u)){let N=u.getAttribute("action");o=N?gl(N,c):null,d=u.getAttribute("method")||_u,m=rr(u.getAttribute("enctype"))||zu,f=new FormData(u)}else if(gy(u)||by(u)&&(u.type==="submit"||u.type==="image")){let N=u.form;if(N==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=u.getAttribute("formaction")||N.getAttribute("action");if(o=g?gl(g,c):null,d=u.getAttribute("formmethod")||N.getAttribute("method")||_u,m=rr(u.getAttribute("formenctype"))||rr(N.getAttribute("enctype"))||zu,f=new FormData(N,u),!Ey()){let{name:h,type:v,value:T}=u;if(v==="image"){let E=h?`${h}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else h&&f.append(h,T)}}else{if(Yu(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=_u,o=null,m=zu,x=u}return f&&m==="text/plain"&&(x=f,f=void 0),{action:o,method:d.toLowerCase(),encType:m,formData:f,body:x}}function Nr(u,c){if(u===!1||u===null||typeof u>"u")throw new Error(c)}async function Ay(u,c){if(u.id in c)return c[u.id];try{let d=await import(u.module);return c[u.id]=d,d}catch(d){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cy(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function Oy(u,c,d){let o=await Promise.all(u.map(async m=>{let f=c.routes[m.route.id];if(f){let x=await Ay(f,d);return x.links?x.links():[]}return[]}));return Ly(o.flat(1).filter(Cy).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function jm(u,c,d,o,m,f){let x=(g,h)=>d[h]?g.route.id!==d[h].route.id:!0,N=(g,h)=>{var v;return d[h].pathname!==g.pathname||((v=d[h].route.path)==null?void 0:v.endsWith("*"))&&d[h].params["*"]!==g.params["*"]};return f==="assets"?c.filter((g,h)=>x(g,h)||N(g,h)):f==="data"?c.filter((g,h)=>{var T;let v=o.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(x(g,h)||N(g,h))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:((T=d[0])==null?void 0:T.params)||{},nextUrl:new URL(u,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function wy(u,c,{includeHydrateFallback:d}={}){return Ry(u.map(o=>{let m=c.routes[o.route.id];if(!m)return[];let f=[m.module];return m.clientActionModule&&(f=f.concat(m.clientActionModule)),m.clientLoaderModule&&(f=f.concat(m.clientLoaderModule)),d&&m.hydrateFallbackModule&&(f=f.concat(m.hydrateFallbackModule)),m.imports&&(f=f.concat(m.imports)),f}).flat(1))}function Ry(u){return[...new Set(u)]}function My(u){let c={},d=Object.keys(u).sort();for(let o of d)c[o]=u[o];return c}function Ly(u,c){let d=new Set;return new Set(c),u.reduce((o,m)=>{let f=JSON.stringify(My(m));return d.has(f)||(d.add(f),o.push({key:f,link:m})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dy=new Set([100,101,204,205]);function Uy(u,c){let d=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return d.pathname==="/"?d.pathname="_root.data":c&&gl(d.pathname,c)==="/"?d.pathname=`${c.replace(/\/$/,"")}/_root.data`:d.pathname=`${d.pathname.replace(/\/$/,"")}.data`,d}function Gm(){let u=b.useContext(un);return Nr(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function _y(){let u=b.useContext(Bu);return Nr(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var Sr=b.createContext(void 0);Sr.displayName="FrameworkContext";function Xm(){let u=b.useContext(Sr);return Nr(u,"You must render this element inside a <HydratedRouter> element"),u}function zy(u,c){let d=b.useContext(Sr),[o,m]=b.useState(!1),[f,x]=b.useState(!1),{onFocus:N,onBlur:g,onMouseEnter:h,onMouseLeave:v,onTouchStart:T}=c,E=b.useRef(null);b.useEffect(()=>{if(u==="render"&&x(!0),u==="viewport"){let O=L=>{L.forEach(U=>{x(U.isIntersecting)})},k=new IntersectionObserver(O,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[u]),b.useEffect(()=>{if(o){let O=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(O)}}},[o]);let R=()=>{m(!0)},y=()=>{m(!1),x(!1)};return d?u!=="intent"?[f,E,{}]:[f,E,{onFocus:rs(N,R),onBlur:rs(g,y),onMouseEnter:rs(h,R),onMouseLeave:rs(v,y),onTouchStart:rs(T,R)}]:[!1,E,{}]}function rs(u,c){return d=>{u&&u(d),d.defaultPrevented||c(d)}}function ky({page:u,...c}){let{router:d}=Gm(),o=b.useMemo(()=>Dm(d.routes,u,d.basename),[d.routes,u,d.basename]);return o?b.createElement(Iy,{page:u,matches:o,...c}):null}function Hy(u){let{manifest:c,routeModules:d}=Xm(),[o,m]=b.useState([]);return b.useEffect(()=>{let f=!1;return Oy(u,c,d).then(x=>{f||m(x)}),()=>{f=!0}},[u,c,d]),o}function Iy({page:u,matches:c,...d}){let o=Vl(),{manifest:m,routeModules:f}=Xm(),{basename:x}=Gm(),{loaderData:N,matches:g}=_y(),h=b.useMemo(()=>jm(u,c,g,m,o,"data"),[u,c,g,m,o]),v=b.useMemo(()=>jm(u,c,g,m,o,"assets"),[u,c,g,m,o]),T=b.useMemo(()=>{if(u===o.pathname+o.search+o.hash)return[];let y=new Set,O=!1;if(c.forEach(L=>{var z;let U=m.routes[L.route.id];!U||!U.hasLoader||(!h.some(K=>K.route.id===L.route.id)&&L.route.id in N&&((z=f[L.route.id])!=null&&z.shouldRevalidate)||U.hasClientLoader?O=!0:y.add(L.route.id))}),y.size===0)return[];let k=Uy(u,x);return O&&y.size>0&&k.searchParams.set("_routes",c.filter(L=>y.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[x,N,o,m,h,c,u,f]),E=b.useMemo(()=>wy(v,m),[v,m]),R=Hy(v);return b.createElement(b.Fragment,null,T.map(y=>b.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...d})),E.map(y=>b.createElement("link",{key:y,rel:"modulepreload",href:y,...d})),R.map(({key:y,link:O})=>b.createElement("link",{key:y,...O})))}function By(...u){return c=>{u.forEach(d=>{typeof d=="function"?d(c):d!=null&&(d.current=c)})}}var Qm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qm&&(window.__reactRouterVersion="7.6.2")}catch{}function Yy({basename:u,children:c,window:d}){let o=b.useRef();o.current==null&&(o.current=C0({window:d,v5Compat:!0}));let m=o.current,[f,x]=b.useState({action:m.action,location:m.location}),N=b.useCallback(g=>{b.startTransition(()=>x(g))},[x]);return b.useLayoutEffect(()=>m.listen(N),[m,N]),b.createElement(yy,{basename:u,children:c,location:f.location,navigationType:f.action,navigator:m})}var $m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=b.forwardRef(function({onClick:c,discover:d="render",prefetch:o="none",relative:m,reloadDocument:f,replace:x,state:N,target:g,to:h,preventScrollReset:v,viewTransition:T,...E},R){let{basename:y}=b.useContext(Wt),O=typeof h=="string"&&$m.test(h),k,L=!1;if(typeof h=="string"&&O&&(k=h,Qm))try{let G=new URL(window.location.href),Y=h.startsWith("//")?new URL(G.protocol+h):new URL(h),ae=gl(Y.pathname,y);Y.origin===G.origin&&ae!=null?h=ae+Y.search+Y.hash:L=!0}catch{qt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=ey(h,{relative:m}),[z,K,Q]=zy(o,E),ee=Xy(h,{replace:x,state:N,target:g,preventScrollReset:v,relative:m,viewTransition:T});function F(G){c&&c(G),G.defaultPrevented||ee(G)}let te=b.createElement("a",{...E,...Q,href:k||U,onClick:L||f?c:F,ref:By(R,K),target:g,"data-discover":!O&&d==="render"?"true":void 0});return z&&!O?b.createElement(b.Fragment,null,te,b.createElement(ky,{page:U})):te});xs.displayName="Link";var Vy=b.forwardRef(function({"aria-current":c="page",caseSensitive:d=!1,className:o="",end:m=!1,style:f,to:x,viewTransition:N,children:g,...h},v){let T=ys(x,{relative:h.relative}),E=Vl(),R=b.useContext(Bu),{navigator:y,basename:O}=b.useContext(Wt),k=R!=null&&Ky(T)&&N===!0,L=y.encodeLocation?y.encodeLocation(T).pathname:T.pathname,U=E.pathname,z=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;d||(U=U.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&O&&(z=gl(z,O)||z);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let Q=U===L||!m&&U.startsWith(L)&&U.charAt(K)==="/",ee=z!=null&&(z===L||!m&&z.startsWith(L)&&z.charAt(L.length)==="/"),F={isActive:Q,isPending:ee,isTransitioning:k},te=Q?c:void 0,G;typeof o=="function"?G=o(F):G=[o,Q?"active":null,ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Y=typeof f=="function"?f(F):f;return b.createElement(xs,{...h,"aria-current":te,className:G,ref:v,style:Y,to:x,viewTransition:N},typeof g=="function"?g(F):g)});Vy.displayName="NavLink";var qy=b.forwardRef(({discover:u="render",fetcherKey:c,navigate:d,reloadDocument:o,replace:m,state:f,method:x=_u,action:N,onSubmit:g,relative:h,preventScrollReset:v,viewTransition:T,...E},R)=>{let y=Zy(),O=Py(N,{relative:h}),k=x.toLowerCase()==="get"?"get":"post",L=typeof N=="string"&&$m.test(N),U=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,Q=(K==null?void 0:K.getAttribute("formmethod"))||x;y(K||z.currentTarget,{fetcherKey:c,method:Q,navigate:d,replace:m,state:f,relative:h,preventScrollReset:v,viewTransition:T})};return b.createElement("form",{ref:R,method:k,action:O,onSubmit:o?g:U,...E,"data-discover":!L&&u==="render"?"true":void 0})});qy.displayName="Form";function Gy(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zm(u){let c=b.useContext(un);return He(c,Gy(u)),c}function Xy(u,{target:c,replace:d,state:o,preventScrollReset:m,relative:f,viewTransition:x}={}){let N=ps(),g=Vl(),h=ys(u,{relative:f});return b.useCallback(v=>{if(Sy(v,c)){v.preventDefault();let T=d!==void 0?d:cs(g)===cs(h);N(u,{replace:T,state:o,preventScrollReset:m,relative:f,viewTransition:x})}},[g,N,h,d,o,c,u,m,f,x])}var Qy=0,$y=()=>`__${String(++Qy)}__`;function Zy(){let{router:u}=Zm("useSubmit"),{basename:c}=b.useContext(Wt),d=dy();return b.useCallback(async(o,m={})=>{let{action:f,method:x,encType:N,formData:g,body:h}=Ty(o,c);if(m.navigate===!1){let v=m.fetcherKey||$y();await u.fetch(v,d,m.action||f,{preventScrollReset:m.preventScrollReset,formData:g,body:h,formMethod:m.method||x,formEncType:m.encType||N,flushSync:m.flushSync})}else await u.navigate(m.action||f,{preventScrollReset:m.preventScrollReset,formData:g,body:h,formMethod:m.method||x,formEncType:m.encType||N,replace:m.replace,state:m.state,fromRouteId:d,flushSync:m.flushSync,viewTransition:m.viewTransition})},[u,c,d])}function Py(u,{relative:c}={}){let{basename:d}=b.useContext(Wt),o=b.useContext(Ft);He(o,"useFormAction must be used inside a RouteContext");let[m]=o.matches.slice(-1),f={...ys(u||".",{relative:c})},x=Vl();if(u==null){f.search=x.search;let N=new URLSearchParams(f.search),g=N.getAll("index");if(g.some(v=>v==="")){N.delete("index"),g.filter(T=>T).forEach(T=>N.append("index",T));let v=N.toString();f.search=v?`?${v}`:""}}return(!u||u===".")&&m.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(f.pathname=f.pathname==="/"?d:xl([d,f.pathname])),cs(f)}function Ky(u,c={}){let d=b.useContext(Im);He(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Zm("useViewTransitionState"),m=ys(u,{relative:c.relative});if(!d.isTransitioning)return!1;let f=gl(d.currentLocation.pathname,o)||d.currentLocation.pathname,x=gl(d.nextLocation.pathname,o)||d.nextLocation.pathname;return ku(m.pathname,x)!=null||ku(m.pathname,f)!=null}[...Dy];const Pm=b.createContext(void 0),Km=b.createContext(void 0);var A=(u=>(u.START="START",u.PROMPT="PROMPT",u.CONDITIONAL="CONDITIONAL",u.CONCLUSION="CONCLUSION",u.VARIABLE="VARIABLE",u.QUESTION="QUESTION",u.JAVASCRIPT="JAVASCRIPT",u.PARALLEL="PARALLEL",u.SYNCHRONIZE="SYNCHRONIZE",u))(A||{}),$e=(u=>(u.CHATGPT="chatgpt",u.OLLAMA="ollama",u))($e||{});const fs={llmProvider:$e.OLLAMA,temperature:.7,topK:40,topP:.95,chatGptModel:"gpt-3.5-turbo",chatGptApiKey:"",ollamaBaseUrl:"https://development.test",ollamaModel:"gemma3:4b",ollamaKeepAlive:"1h"},Jy=["gpt-4","gpt-4-turbo-preview","gpt-3.5-turbo","gpt-4o"],da=200,ma=120,Jt=20,Wy=5,Tm=4,Am="llmWorkflowProjects",Cm="llmWorkflowAppSettings",Om={[A.START]:"bg-green-600 hover:bg-green-700",[A.PROMPT]:"bg-sky-600 hover:bg-sky-700",[A.CONDITIONAL]:"bg-amber-600 hover:bg-amber-700",[A.CONCLUSION]:"bg-indigo-600 hover:bg-indigo-700",[A.VARIABLE]:"bg-teal-600 hover:bg-teal-700",[A.QUESTION]:"bg-cyan-600 hover:bg-cyan-700",[A.JAVASCRIPT]:"bg-purple-600 hover:bg-purple-700",[A.PARALLEL]:"bg-rose-600 hover:bg-rose-700",[A.SYNCHRONIZE]:"bg-lime-600 hover:bg-lime-700",ERROR:"bg-red-700",RUNNING:"bg-purple-600 animate-pulse"},Jm="",Fy="",ex="",ds="Final Output",tx="myVariable",hr="Please provide your input:",lx="JavaScript Function",Wm=`// Available variables:
// - previousOutput (string): Output from the previous node.
// - nodeVariables (object): Key-value pairs from Variable Nodes.
// - projectVariables (object): Key-value pairs from Project Settings.
// Your function must be an async function body.
// Example:
// const combinedOutput = \`Prev: \${previousOutput}, MyVar: \${nodeVariables.my_var || 'N/A'}\`;
// return combinedOutput;

return previousOutput;`,ax="Parallel Split",Hu="Executes multiple downstream paths concurrently.",nx="Synchronize Paths",pr="Waits for parallel paths to complete before continuing.",de=()=>Math.random().toString(36).substr(2,9),wt=(u,c="$")=>{if(u===null||typeof u!="object")return u;if(u instanceof Date)return new Date(u.getTime());if(u instanceof HTMLElement||typeof u=="function")return console.warn(`[deepClone] Attempted to clone a non-serializable type (${Object.prototype.toString.call(u)}) at path '${c}'. Replacing with placeholder string. Object:`,u),`[Non-Serializable Data: ${Object.prototype.toString.call(u)}]`;if(typeof window<"u"&&u===window)return console.warn(`[deepClone] Attempted to clone window object at path '${c}'. Replacing with placeholder.`),"[Non-Serializable Data: Window Object]";if(typeof document<"u"&&u===document)return console.warn(`[deepClone] Attempted to clone document object at path '${c}'. Replacing with placeholder.`),"[Non-Serializable Data: Document Object]";if(Array.isArray(u)){const d=[];for(let o=0;o<u.length;o++){const m=u[o];m instanceof HTMLElement||typeof m=="function"||typeof window<"u"&&m===window||typeof document<"u"&&m===document?(console.warn(`[deepClone] Attempted to clone a non-serializable array element (${Object.prototype.toString.call(m)}) at path '${c}[${o}]'. Replacing with placeholder string. Element:`,m),d[o]=`[Non-Serializable Data: ${Object.prototype.toString.call(m)}]`):d[o]=wt(m,`${c}[${o}]`)}return d}if(typeof u=="object"){const d={};for(const o in u)if(Object.prototype.hasOwnProperty.call(u,o)){const m=u[o];m instanceof HTMLElement||typeof m=="function"||typeof window<"u"&&m===window||typeof document<"u"&&m===document?(console.warn(`[deepClone] Attempted to clone a non-serializable property value (${Object.prototype.toString.call(m)}) at path '${c}.${o}'. Replacing with placeholder string. Value:`,m),d[o]=`[Non-Serializable Data: ${Object.prototype.toString.call(m)}]`):d[o]=wt(m,`${c}.${o}`)}return d}return console.warn(`[deepClone] Unhandled type at path '${c}'. Object:`,u,`Type: ${Object.prototype.toString.call(u)}`),`[Uncloneable Data Type: ${Object.prototype.toString.call(u)}]`},Ye=u=>Array.isArray(u)?u.filter(c=>c!=null):[],ft=u=>typeof u!="string"?"":u.replace(/[^a-zA-Z0-9_]/g,""),sx=u=>!u||!u.nodes?!1:Ye(u.nodes).some(d=>d.type===A.QUESTION),ux=()=>{const u=new Date().toISOString(),c=de(),d=de(),o=de(),m=de(),f=de(),x={id:de(),name:"Number Range Game",description:"An LLM picks a number between 1-100. A conditional node then directs to a conclusion based on whether the number is less than 50 or not.",author:"App Examples",nodes:[{id:c,type:A.START,name:"Number Oracle",prompt:"Pick a number between 1 and 100 (inclusive) and reply with ONLY the number.",position:{x:50,y:150},nextNodeId:d},{id:d,type:A.CONDITIONAL,name:"Check Range",prompt:`If '{PREVIOUS_OUTPUT}' is less than 50 you must reply with "less than 50" but if it is greater than 50 or equal to 50 then you must reply "greater than or equal to 50". If it is not a number or something is confusing, reply only with the word "default"`,position:{x:300,y:150},branches:[{id:de(),condition:"less than 50",nextNodeId:o},{id:de(),condition:"greater than or equal to 50",nextNodeId:m},{id:de(),condition:"default",nextNodeId:f}]},{id:o,type:A.CONCLUSION,name:"Result: < 50",prompt:"The Oracle's number was less than 50.",position:{x:650,y:50}},{id:m,type:A.CONCLUSION,name:"Result: >= 50",prompt:"The Oracle's number was 50 or greater.",position:{x:650,y:200}},{id:f,type:A.CONCLUSION,name:"Result: Unclear",prompt:"The Oracle's response about the number's range was unclear.",position:{x:650,y:350}}],links:[{id:de(),sourceId:c,targetId:d},{id:de(),sourceId:d,targetId:o,condition:"less than 50"},{id:de(),sourceId:d,targetId:m,condition:"greater than or equal to 50"},{id:de(),sourceId:d,targetId:f,condition:"default"}],runHistory:[],projectVariables:[],createdAt:u,updatedAt:u},N=de(),g=de(),h=de(),v=de(),T=de(),E=de(),R=de(),y={id:de(),name:"Escape Room Story Generator",description:"An LLM generates a story, then assesses if it's interesting. If not, it tries to improve it in a loop.",author:"App Examples",nodes:[{id:N,type:A.START,name:"Story Seed",prompt:"Generate a short story (1-2 paragraphs) about two characters trying to solve a difficult puzzle in an escape room. They are close to figuring it out. Use the project variable {setting_description} to set the scene.",position:{x:50,y:200},nextNodeId:g},{id:g,type:A.PROMPT,name:"Add School Detail",prompt:`Take the following story:
{PREVIOUS_OUTPUT}

---
Now, lengthen it by adding a short conversation where the two characters realize they went to the same high school. Make this realization a brief, natural part of their interaction while solving the puzzle. Reply ONLY with the story, no explanation.`,position:{x:300,y:200},nextNodeId:T},{id:T,type:A.VARIABLE,name:"story",prompt:"",position:{x:550,y:200},nextNodeId:h},{id:h,type:A.CONDITIONAL,name:"Story Quality Check",prompt:`Carefully review the following story. Is it interesting and engaging for a reader?

The story:
{story}

---
If the story is interesting, respond only with "Interesting" but if it is not, then respond only with "Not interesting" However, if something has gone wrong and a determination cannot be made, then respond with "Default"`,position:{x:800,y:200},branches:[{id:de(),condition:"Interesting",nextNodeId:E},{id:de(),condition:"Not interesting",nextNodeId:v},{id:de(),condition:"Default",nextNodeId:R}]},{id:v,type:A.PROMPT,name:"Improve Story",prompt:`The story below was deemed 'Not interesting'.
Previous Story:
{story}

---
Rewrite it to be more engaging. You could add a surprising twist, a moment of clever deduction, or deepen the characters' interaction but always be sure to maintain a consistent storyline. Respond ONLY with the story, no explanation.`,position:{x:800,y:600},nextNodeId:T},{id:E,type:A.CONCLUSION,name:"Final Story",prompt:"The interesting escape room story:",outputFormatTemplate:`Here is the final story using project author '{project_author}':

{story}`,position:{x:1050,y:100}},{id:R,type:A.CONCLUSION,name:"Story Assessment Unclear",prompt:"The story assessment was unclear. Displaying last version: {story}",position:{x:1050,y:300}}],links:[{id:de(),sourceId:N,targetId:g},{id:de(),sourceId:g,targetId:T},{id:de(),sourceId:T,targetId:h},{id:de(),sourceId:h,targetId:E,condition:"Interesting"},{id:de(),sourceId:h,targetId:v,condition:"Not interesting"},{id:de(),sourceId:h,targetId:R,condition:"default"},{id:de(),sourceId:v,targetId:T}],runHistory:[],projectVariables:[{id:de(),name:"setting_description",value:"a dusty, ancient library filled with arcane texts"},{id:de(),name:"project_author",value:"AI Storyteller Example"}],createdAt:u,updatedAt:u},O="lzelrwv4l",k="vewgibgpn",L="1ok8dr6kq",U="fqxjna7gx",z="e4nnboq2b",K="9fk64ucxx",Q="tsqcktm8o",ee="wyf074qat",F="ov2sjuhrb",te={id:"g7ytvl6yy",name:"Parallelism",description:"Example of concurrent execution.",author:"App Examples",nodes:[{id:O,type:A.START,name:"Start Here",prompt:"OK, Google, please tell me a one-line joke.",position:{x:380,y:640},nextNodeId:k},{id:k,type:A.PARALLEL,name:"Parallel Split",prompt:"Executes multiple downstream paths concurrently.",parallelNextNodeIds:[L,U,z],position:{x:640,y:640}},{id:L,type:A.VARIABLE,name:"Joke",prompt:"",position:{x:920,y:460},nextNodeId:K},{id:U,type:A.PROMPT,name:"Funny?",prompt:"Please decide if this joke is funny:\n```\n{PREVIOUS_OUTPUT}\n```",position:{x:920,y:640},nextNodeId:ee},{id:z,type:A.QUESTION,name:"Question",prompt:"Please provide your input:",position:{x:920,y:820},nextNodeId:F},{id:ee,type:A.VARIABLE,name:"llmAnalysis",prompt:"",position:{x:1160,y:640},nextNodeId:K},{id:F,type:A.VARIABLE,name:"userInput",prompt:"",position:{x:1160,y:820},nextNodeId:K},{id:K,type:A.SYNCHRONIZE,name:"Synchronize Paths",prompt:"Waits for parallel paths to complete before continuing.",position:{x:1440,y:460},nextNodeId:Q},{id:Q,type:A.CONCLUSION,name:"Finish",prompt:"Final Output",outputFormatTemplate:`Joke: {Joke}

LLM Analysis:
{llmAnalysis}

User input:
{userInput}`,position:{x:1720,y:460}}],links:[{id:de(),sourceId:O,targetId:k},{id:de(),sourceId:k,targetId:L},{id:de(),sourceId:k,targetId:U},{id:de(),sourceId:k,targetId:z},{id:de(),sourceId:L,targetId:K},{id:de(),sourceId:U,targetId:ee},{id:de(),sourceId:ee,targetId:K},{id:de(),sourceId:z,targetId:F},{id:de(),sourceId:F,targetId:K},{id:de(),sourceId:K,targetId:Q}],runHistory:[],projectVariables:[],createdAt:u,updatedAt:u};return[x,y,te]},ha={getProjects:()=>{const u=localStorage.getItem(Am);if(u)try{const d=JSON.parse(u);if(Array.isArray(d))return d.map(m=>(m&&m.nodes&&Array.isArray(m.nodes)&&(m.nodes=m.nodes.filter(f=>f!=null)),m&&!Array.isArray(m.projectVariables)&&(m.projectVariables=[]),m)).filter(m=>m!=null)}catch(d){console.error("[LocalStorageService] Error parsing projects from localStorage",d)}const c=ux();return ha.saveProjects(c),c},saveProjects:u=>{try{const c=JSON.stringify(u);localStorage.setItem(Am,c)}catch(c){console.error("[LocalStorageService] saveProjects error: Could not stringify projects. This may be due to circular references or non-serializable data in the project state. Error message:",c instanceof Error?c.message:String(c)),c instanceof Error&&c.stack&&console.error("[LocalStorageService] saveProjects error stack:",c.stack),c instanceof TypeError&&(c.message.toLowerCase().includes("circular structure")||c.message.toLowerCase().includes("cyclic object value"))&&console.error("[LocalStorageService] CIRCULAR STRUCTURE ERROR detected during saveProjects. The 'projects' object likely contains HTMLElement or other non-serializable data with circular references.")}},getAppSettings:()=>{const u=localStorage.getItem(Cm),c=u?JSON.parse(u):fs;return{...fs,...c}},saveAppSettings:u=>{localStorage.setItem(Cm,JSON.stringify(u))}},ix=()=>{const{projectId:u}=ly(),{getProjectById:c,updateProject:d}=th(),o=ps(),[m,f]=b.useState(null),[x,N]=b.useState(!1),[g,h]=b.useState(!1),[v,T]=b.useState(!0);b.useEffect(()=>{if(!u){o("/"),T(!1);return}const L=c(u);if(L){const U=wt(L);U.nodes=Ye(U.nodes),f(U),N(!1)}else o("/");T(!1)},[u,c,o]);const E=b.useCallback((L,U=!1)=>{if(!L)return;const z=wt(L),K={...z,nodes:Ye(z.nodes),updatedAt:new Date().toISOString()};d(K),U||f(K),N(!1)},[d]),R=L=>{L||(x?h(!0):o("/"))},y=()=>{m&&E(m),h(!1),o("/")},O=()=>{h(!1),o("/")},k=b.useCallback(L=>{f(U=>{const z=U?wt(U):null,K=typeof L=="function"?L(U):L,Q=K?wt(K):null;if(Q){Q.nodes=Ye(Q.nodes);let ee=!1;try{const F=z?JSON.stringify(z):"null",te=Q?JSON.stringify(Q):"null";F!==te&&(ee=!0)}catch{ee=!0}ee&&N(!0)}else U!==null&&N(!0);return Q})},[]);return{projectId:u,currentProject:m,setCurrentProject:k,isLoading:v,hasUnsavedChanges:x,setHasUnsavedChanges:N,saveProjectState:E,isUnsavedChangesModalOpen:g,setIsUnsavedChangesModalOpen:h,handleRequestCloseProject:R,handleSaveAndClose:y,handleCloseWithoutSaving:O}},ox=({currentProject:u,setCurrentProject:c,saveProjectState:d,editorAreaRef:o,scale:m,translate:f})=>{const[x,N]=b.useState(null),[g,h]=b.useState(!1),[v,T]=b.useState({isOpen:!1,nodeId:null,nodeName:null}),[E,R]=b.useState(!1),y=b.useCallback(U=>{if(!u||!o.current)return;const z=o.current.clientWidth,K=o.current.clientHeight,Q=(z/2-f.x)/m,ee=(K/2-f.y)/m,F=Q-da/2+(Math.random()-.5)*50,te=ee-ma/2+(Math.random()-.5)*50;let G=Fy,Y=ex,ae,se,le;U===A.START&&(Y=Jm),U===A.CONCLUSION&&(Y=ds,se="{PREVIOUS_OUTPUT}"),U===A.VARIABLE&&(G=tx,Y=""),U===A.QUESTION&&(Y=hr),U===A.JAVASCRIPT&&(G=lx,Y="Custom JavaScript function.",ae=Wm),U===A.PARALLEL&&(G=ax,Y=Hu,le=[]),U===A.SYNCHRONIZE&&(G=nx,Y=pr);const ue={id:de(),type:U,name:G,prompt:Y,code:ae,outputFormatTemplate:se,parallelNextNodeIds:le,position:{x:Math.max(0,F),y:Math.max(0,te)},branches:U===A.CONDITIONAL?[{id:de(),condition:"default",nextNodeId:null}]:void 0,nextNodeId:U===A.PROMPT||U===A.START||U===A.VARIABLE||U===A.QUESTION||U===A.JAVASCRIPT||U===A.SYNCHRONIZE?null:void 0};U===A.PARALLEL&&delete ue.nextNodeId,c(ce=>ce?{...ce,nodes:[...Ye(ce.nodes),ue]}:null)},[u,c,o,m,f]),O=b.useCallback(U=>{if(!u)return;let z={...U};z.type===A.VARIABLE&&z.name&&(z.name=z.name.replace(/[{}]/g,"").trim()),z.type===A.CONCLUSION&&(!z.outputFormatTemplate||z.outputFormatTemplate.trim()==="")&&(z.outputFormatTemplate="{PREVIOUS_OUTPUT}"),z.type===A.PARALLEL&&(z.parallelNextNodeIds=(z.parallelNextNodeIds||[]).filter(F=>F&&F.trim()!==""),z.parallelNextNodeIds.length>0&&delete z.nextNodeId);const Q=Ye(u.nodes).map(F=>F.id===z.id?z:F),ee={...u,nodes:Q};d(ee),h(!1),N(null)},[u,d]),k=b.useCallback(()=>{!u||!v.nodeId||c(U=>{if(!U)return null;let K=Ye(U.nodes).filter(Q=>Q.id!==v.nodeId);return K=K.map(Q=>{let ee=!1;const F={...Q};if(F.nextNodeId===v.nodeId&&(F.nextNodeId=null,ee=!0),F.branches){const te=JSON.stringify(F.branches);F.branches=F.branches.map(G=>G.nextNodeId===v.nodeId?{...G,nextNodeId:null}:G),JSON.stringify(F.branches)!==te&&(ee=!0)}return F.parallelNextNodeIds&&F.parallelNextNodeIds.includes(v.nodeId)&&(F.parallelNextNodeIds=F.parallelNextNodeIds.filter(te=>te!==v.nodeId),ee=!0),ee?F:Q}),{...U,nodes:K}})},[u,c,v.nodeId]),L=b.useCallback((U,z)=>{if(z.stopPropagation(),!u)return;const K=Ye(u.nodes).find(Q=>Q.id===U);K&&(R(!0),T({isOpen:!0,nodeId:U,nodeName:K.name||K.type}))},[u]);return{selectedNodeState:x,setSelectedNodeState:N,isNodeModalOpen:g,setIsNodeModalOpen:h,deleteNodeConfirm:v,setDeleteNodeConfirm:T,deleteActionInitiated:E,setDeleteActionInitiated:R,handleAddNode:y,handleSaveNode:O,confirmDeleteNode:k,handleDeleteNodeRequest:L}},rx=500,cx=300,fx=10,dx=({currentProject:u,setCurrentProject:c,editorAreaRef:d,setSelectedNodeState:o,setIsNodeModalOpen:m,deleteActionInitiated:f,setDeleteActionInitiated:x,scale:N,translate:g})=>{const[h,v]=b.useState(null),T=b.useRef(null),E=b.useRef(!1),R=b.useRef(null),y=b.useRef(0),O=b.useRef(null),k=b.useRef(null),L=b.useCallback((te,G,Y,ae)=>{if(!u||!d.current)return;const se=Ye(u.nodes).find(Z=>Z.id===te);if(!se)return;const le=d.current.getBoundingClientRect(),ue=(G-le.left-g.x)/N,ce=(Y-le.top-g.y)/N,V=ue-se.position.x,X=ce-se.position.y;v({id:te,offset:{x:V,y:X},method:ae});const M=document.querySelector(`.node-${te}`);M&&M.classList.add("dragging")},[u,d,N,g]),U=b.useCallback((te,G)=>{if(!G.target.closest(".node-delete-button")){if(f){G.preventDefault();return}T.current={x:G.clientX,y:G.clientY},E.current=!1,L(te,G.clientX,G.clientY,"mouse"),G.preventDefault()}},[f,L]),z=b.useCallback(te=>{if(!(!h||h.method!=="mouse"||!u||!d.current)){if(!E.current&&T.current){const G=te.clientX-T.current.x,Y=te.clientY-T.current.y;Math.sqrt(G*G+Y*Y)>Wy&&(E.current=!0)}if(E.current){const G=d.current.getBoundingClientRect(),Y=(te.clientX-G.left-g.x)/N,ae=(te.clientY-G.top-g.y)/N;let se=Math.round((Y-h.offset.x)/Jt)*Jt,le=Math.round((ae-h.offset.y)/Jt)*Jt;se=Math.max(0,se),le=Math.max(0,le),c(ue=>{if(!ue)return null;const ce=Ye(ue.nodes).map(V=>V.id===h.id?{...V,position:{x:se,y:le}}:V);return{...ue,nodes:ce}})}}},[h,u,c,d,N,g]),K=b.useCallback(()=>{if(!h||h.method!=="mouse"||!u)return;const te=document.querySelector(`.node-${h.id}`);if(te&&te.classList.remove("dragging"),f)x(!1);else if(!E.current){const G=Ye(u.nodes).find(Y=>Y.id===h.id);G&&(o(G),m(!0))}v(null),T.current=null,E.current=!1},[h,u,f,x,o,m]);b.useEffect(()=>(h&&h.method==="mouse"?(document.addEventListener("mousemove",z),document.addEventListener("mouseup",K)):(document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",K)),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",K)}),[h,z,K]);const Q=b.useCallback((te,G)=>{if(G.touches.length!==1)return;const Y=G.touches[0];if(k.current=te,G.target.closest(".node-delete-button"))return;if(f){G.preventDefault();return}G.stopPropagation(),O.current={x:Y.clientX,y:Y.clientY};const se=Date.now();if(se-y.current<cx){R.current&&clearTimeout(R.current),y.current=0;const le=Ye(u==null?void 0:u.nodes).find(ue=>ue.id===te);le&&(o(le),m(!0));return}y.current=se,R.current&&clearTimeout(R.current),R.current=window.setTimeout(()=>{O.current&&L(te,O.current.x,O.current.y,"touch"),R.current=null},rx)},[f,L,u,o,m]),ee=b.useCallback(te=>{if(te.touches.length!==1)return;const G=te.touches[0];if(R.current&&O.current){const Y=G.clientX-O.current.x,ae=G.clientY-O.current.y;Math.hypot(Y,ae)>fx&&(clearTimeout(R.current),R.current=null)}if(h&&h.method==="touch"&&u&&d.current){te.preventDefault();const Y=d.current.getBoundingClientRect(),ae=(G.clientX-Y.left-g.x)/N,se=(G.clientY-Y.top-g.y)/N;let le=Math.round((ae-h.offset.x)/Jt)*Jt,ue=Math.round((se-h.offset.y)/Jt)*Jt;le=Math.max(0,le),ue=Math.max(0,ue),c(ce=>{if(!ce)return null;const V=Ye(ce.nodes).map(X=>X.id===h.id?{...X,position:{x:le,y:ue}}:X);return{...ce,nodes:V}})}},[h,u,c,d,N,g]),F=b.useCallback(te=>{if(!(k.current===null&&!h)){if(R.current&&(clearTimeout(R.current),R.current=null),h&&h.method==="touch"){const G=document.querySelector(`.node-${h.id}`);G&&G.classList.remove("dragging"),f&&x(!1),v(null)}O.current=null,k.current=null}},[f,x,h]);return b.useEffect(()=>(k.current||h&&h.method==="touch"?(document.addEventListener("touchmove",ee,{passive:!1}),document.addEventListener("touchend",F),document.addEventListener("touchcancel",F)):(document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",F),document.removeEventListener("touchcancel",F)),()=>{document.removeEventListener("touchmove",ee),document.removeEventListener("touchend",F),document.removeEventListener("touchcancel",F)}),[k.current,h,ee,F]),{handleNodeMouseDown:U,handleNodeTouchStart:Q}},mx=()=>{const[u,c]=b.useState(!1),d=b.useRef(!1),[o,m]=b.useState(null),[f,x]=b.useState(null),[N,g]=b.useState(null),[h,v]=b.useState(0),[T,E]=b.useState(!0),[R,y]=b.useState(null),[O,k]=b.useState(0),L=b.useRef(O);b.useEffect(()=>{L.current=O},[O]);const[U,z]=b.useState(!1),[K,Q]=b.useState(null),[ee,F]=b.useState([]),te=b.useCallback(()=>{k(se=>se+1)},[]),G=b.useCallback(()=>{k(se=>Math.max(0,se-1))},[]),Y=b.useCallback(()=>L.current,[]),ae=b.useCallback(()=>{y(null)},[]);return{isWorkflowRunning:u,setIsWorkflowRunning:c,isStopRequestedRef:d,currentExecutingNodeId:o,setCurrentExecutingNodeId:m,runStartTime:f,setRunStartTime:x,runEndTime:N,setRunEndTime:g,totalTokensThisRun:h,setTotalTokensThisRun:v,isExecutionPanelOpen:T,setIsExecutionPanelOpen:E,conclusionModalContent:R,setConclusionModalContent:y,clearConclusionModalContent:ae,activeExecutionCount:O,setActiveExecutionCount:k,incrementActiveExecutionCount:te,decrementActiveExecutionCount:G,getActiveExecutionCount:Y,isSteppingActive:U,setIsSteppingActive:z,nextStepInfo:K,setNextStepInfo:Q,currentRunSteps:ee,setCurrentRunSteps:F}},hx=()=>{const[u,c]=b.useState([]),d=b.useCallback(o=>{c(m=>{const f=m.findIndex(x=>x.nodeId===o.nodeId&&x.status==="running");if(f!==-1){const x=[...m],N={...x[f],...o};return!o.startTime&&x[f].startTime&&(N.startTime=x[f].startTime),x[f]=N,x}else return[...m,{startTime:new Date().toISOString(),status:"running",...o}]})},[]);return{executionLogs:u,setExecutionLogs:c,addLogEntry:d}},px="https://api.openai.com/v1/chat/completions",yx=async(u,c)=>{if(!c.chatGptApiKey)throw new Error("ChatGPT API Error: API key is not set. Please configure it in Application Settings.");if(!c.chatGptModel)throw new Error("ChatGPT API Error: Model name is not selected. Please select a model in Application Settings.");const d={model:c.chatGptModel,messages:[{role:"user",content:u}],temperature:c.temperature,top_p:c.topP};try{const o=await fetch(px,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c.chatGptApiKey}`},body:JSON.stringify(d)});if(!o.ok){let N={};try{N=await o.json()}catch{}let g=`ChatGPT API request failed with status ${o.status}`;throw N&&N.error&&N.error.message?g+=`: ${N.error.message}`:g+=`: ${o.statusText}`,o.status===401?new Error(`ChatGPT API Error: API key is invalid or not authorized. Please check your API key in Application Settings. Original: ${g}`):o.status===429?new Error(`ChatGPT API Error: Rate limit exceeded. Please check your OpenAI plan and usage. Original: ${g}`):new Error(g)}const m=await o.json();if(!m.choices||m.choices.length===0||!m.choices[0].message||!m.choices[0].message.content)throw new Error("Received invalid or empty response from ChatGPT API.");const f=m.choices[0].message.content;let x;return m.usage&&(x={promptTokenCount:m.usage.prompt_tokens,candidatesTokenCount:m.usage.completion_tokens,totalTokenCount:m.usage.total_tokens}),{text:f,usageMetadata:x}}catch(o){throw console.error("Error calling ChatGPT API:",o),o instanceof Error?o:new Error("An unknown error occurred while communicating with the ChatGPT API.")}},xx=async(u,c)=>{const{ollamaBaseUrl:d,ollamaModel:o,ollamaKeepAlive:m,temperature:f,topK:x,topP:N}=c,g=`${d.replace(/\/$/,"")}/api/generate`;if(!o)throw new Error("Ollama API Error: Model name is not selected. Please select a model in Application Settings.");const h={model:o,prompt:u,stream:!1,keep_alive:m,options:{temperature:f,top_k:x,top_p:N}};try{const v=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!v.ok){let R=v.statusText;try{const y=await v.json();y.error&&(R=y.error)}catch{R=await v.text().catch(()=>v.statusText)||v.statusText}throw new Error(`Ollama API request failed with status ${v.status}: ${R}`)}const T=await v.json();if(T.error)throw new Error(`Ollama API Error: ${T.error}`);if(!T.response||typeof T.response!="string")throw new Error("Received invalid or empty response from Ollama API.");const E={promptTokenCount:T.prompt_eval_count,candidatesTokenCount:T.eval_count,totalTokenCount:(T.prompt_eval_count||0)+(T.eval_count||0)};return{text:T.response,usageMetadata:E}}catch(v){throw console.error("Error calling Ollama API:",v),v instanceof Error?v.message.includes("Failed to fetch")?new Error(`Ollama Network Error: Could not connect to Ollama server at ${d}. Ensure it's running and the URL is correct.`):new Error(`Ollama API Error: ${v.message}`):new Error("An unknown error occurred while communicating with the Ollama API.")}},gx=async(u,c)=>{if(c.llmProvider===$e.CHATGPT)return yx(u,c);if(c.llmProvider===$e.OLLAMA)return xx(u,c);{const d=c.llmProvider;throw new Error(`Unsupported LLM provider: ${d}`)}},cr=(u,c,d,o,m,f)=>{let x=u;const N=new Map([...m,...o,...d]),g=/{(\w+)}/g;return x=x.replace(g,(h,v)=>{if(v==="PREVIOUS_OUTPUT")return c;if(N.has(v))return N.get(v);if(f){const T=f.find(E=>E.type===A.VARIABLE&&E.name===v);if(T&&typeof T.lastRunOutput=="string")return T.lastRunOutput}return h}),x},yr=async({node:u,previousOutput:c,settings:d,nodeVariables:o,projectVariablesMap:m,systemVariablesMap:f,callbacks:x,pathId:N,projectNodes:g,onPathCounterManagedByNode:h})=>{var R,y;if(x.isStopRequested())throw new Error("Workflow stopped by user.");u.isRunning=!0,u.hasError=!1,x.onNodeStatusUpdate(u.id,{isRunning:!0,hasError:!1}),x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"running",startTime:new Date().toISOString(),pathId:N});let v=c,T=`Input: ${c}`,E=0;try{if(u.type===A.START||u.type===A.PROMPT||u.type===A.CONDITIONAL){T=cr(u.prompt,c,o,m,f,g);const O=await gx(T,d);v=O.text,E=((R=O.usageMetadata)==null?void 0:R.totalTokenCount)||0}else if(u.type===A.VARIABLE){const O=ft(u.name);if(!O)throw new Error(`Variable node "${u.name}" has invalid name.`);o.set(O,c),v=c,T=`Stored input as '${O}'`,x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"variable_set",output:v,endTime:new Date().toISOString(),pathId:N})}else if(u.type===A.QUESTION){T=cr(u.prompt,c,o,m,f,g),x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"awaiting_input",output:"Waiting for user...",pathId:N});const O=await x.onRequestUserInput(T,u.id);if(x.isStopRequested())throw new Error("Workflow stopped by user during question input.");v=O}else if(u.type===A.JAVASCRIPT){const O=u.code||Wm;T=`Executing JavaScript: ${u.prompt||u.name}`;const k=Object.fromEntries(o.entries()),L=Object.fromEntries(m.entries()),z=await new Function("previousOutput","nodeVariables","projectVariables",`return (async (previousOutput, nodeVariables, projectVariables) => { ${O} })(previousOutput, nodeVariables, projectVariables);`)(c,k,L);v=typeof z=="string"?z:z==null?"":JSON.stringify(z),x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"javascript_executed",output:v,endTime:new Date().toISOString(),pathId:N})}else if(u.type===A.PARALLEL){T=`Forking execution from: ${u.prompt||Hu}`,v=c;const O=((y=u.parallelNextNodeIds)==null?void 0:y.length)||0;O>0?(x.incrementParallelPathCounter(O),x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"parallel_executed",output:`Incremented parallel counter by ${O}. PARALLEL_COUNTER_IS_NOW: ${x.getParallelPathCounter()}`,endTime:new Date().toISOString(),pathId:N})):x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"parallel_executed",output:"No branches to fork. Parallel counter unchanged.",endTime:new Date().toISOString(),pathId:N}),h()}else if(u.type===A.SYNCHRONIZE){x.decrementParallelPathCounter(),h();const O=x.getParallelPathCounter();x.decrementActiveExecutionCount();const k=`PATH ${N.split("-").pop()}: Arrived. PARALLEL_COUNTER_IS_NOW: ${O}. Waiting for other paths. ActiveExec: ${x.getActiveExecutionCount()}`;for(x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"synchronize_awaiting",output:k,pathId:N});x.getParallelPathCounter()>0&&!x.isStopRequested();)await new Promise(U=>setTimeout(U,150));if(x.isStopRequested())throw x.incrementActiveExecutionCount(),new Error("Workflow stopped by user while at synchronize node.");x.incrementActiveExecutionCount(),v="continue",T=`All parallel paths globally completed (counter from CB: ${x.getParallelPathCounter()}). Path ${N.split("-").pop()} resuming. Outputting "${v}". Active executions: ${x.getActiveExecutionCount()}`,x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"synchronize_resumed",output:T,endTime:new Date().toISOString(),pathId:N})}else if(u.type===A.CONCLUSION){x.decrementParallelPathCounter(),h();const O=x.getParallelPathCounter(),k=u.outputFormatTemplate||"{PREVIOUS_OUTPUT}";v=cr(k,c,o,m,f,g),T=`Displaying output for: ${u.prompt||ds}`,x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"completed",output:`Conclusion reached. PARALLEL_COUNTER_IS_NOW: ${O}. Output: ${v.substring(0,100)}${v.length>100?"...":""}`,endTime:new Date().toISOString(),pathId:N}),x.onConclusion({title:u.prompt||ds,content:v})}else{const O=u.type;throw new Error(`Unknown or unhandled node type ${O}`)}return x.onTokenUpdate(E),u.type!==A.VARIABLE&&u.type!==A.JAVASCRIPT&&u.type!==A.PARALLEL&&u.type!==A.SYNCHRONIZE&&u.type!==A.CONCLUSION&&x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"completed",output:v,tokensUsed:E,endTime:new Date().toISOString(),pathId:N}),u.lastRunOutput=v,u.isRunning=!1,u.hasError=!1,x.onNodeStatusUpdate(u.id,{isRunning:!1,hasError:!1,lastRunOutput:v}),{output:v,tokensUsed:E,promptSent:T}}catch(O){const k=O instanceof Error?O.message:String(O);throw x.onLogEntry({nodeId:u.id,nodeName:u.name,status:"failed",error:k,endTime:new Date().toISOString(),pathId:N}),u.lastRunOutput=`Error: ${k}`,u.isRunning=!1,u.hasError=!0,x.onNodeStatusUpdate(u.id,{isRunning:!1,hasError:!0,lastRunOutput:`Error: ${k}`}),O}},Fm=async({initialNode:u,initialInput:c,projectNodes:d,settings:o,baseNodeVariables:m,projectVariablesMap:f,systemVariablesMap:x,callbacks:N,pathId:g})=>{N.incrementActiveExecutionCount();const h=new Map(m),v=[];let T=0,E=c,R=u;const y=new Map,O=10;let k,L=!1;try{for(;R;){if(N.isStopRequested())throw new Error("Workflow stopped by user.");const U=(y.get(R.id)||0)+1;if(U>O)throw new Error(`Loop detected or node "${R.name}" (Path: ${g}) executed > ${O} times.`);y.set(R.id,U),k=R,L=!1;const z=await yr({node:R,previousOutput:E,settings:o,nodeVariables:h,projectVariablesMap:f,systemVariablesMap:x,callbacks:N,pathId:g,projectNodes:d,onPathCounterManagedByNode:()=>{L=!0}});E=z.output,T+=z.tokensUsed,v.push({nodeId:R.id,nodeName:R.name,promptSent:z.promptSent,responseReceived:E,timestamp:new Date().toISOString(),tokensUsed:z.tokensUsed,pathId:g});let K=null;if(R.type===A.PARALLEL){const Q=R.parallelNextNodeIds||[],ee=[];for(const te of Q){const G=d.find(Y=>Y.id===te);G&&ee.push(Fm({initialNode:G,initialInput:E,projectNodes:d,settings:o,baseNodeVariables:new Map(h),projectVariablesMap:f,systemVariablesMap:x,callbacks:N,pathId:`${g}-branch-${te.substring(0,4)}`}))}(await Promise.allSettled(ee)).forEach(te=>{te.status==="fulfilled"?(v.push(...te.value.steps),T+=te.value.tokens):N.onLogEntry({nodeId:(R==null?void 0:R.id)||"parallel_node",nodeName:(R==null?void 0:R.name)||"Parallel Node",status:"failed",error:`A parallel branch failed: ${te.reason instanceof Error?te.reason.message:String(te.reason)}`,pathId:g})}),R=void 0}else if(R.type===A.CONDITIONAL){const Q=R.branches||[];let ee=Q.find(F=>{const te=F.condition.toLowerCase(),G=E.toLowerCase();return te.startsWith("contains ")?G.includes(te.substring(9).trim()):te.startsWith("starts with ")?G.startsWith(te.substring(12).trim()):G===te});ee||(ee=Q.find(F=>F.condition.toLowerCase()==="default")),K=ee==null?void 0:ee.nextNodeId}else R.type!==A.CONCLUSION&&(K=R.nextNodeId);if(K){const Q=d.find(ee=>ee.id===K);Q?R=Q:(N.onLogEntry({nodeId:K,nodeName:"Unknown Node",status:"skipped",error:"Next node ID not found.",pathId:g,endTime:new Date().toISOString()}),R=void 0)}else R=void 0}return{finalOutput:E,steps:v,tokens:T,status:"completed"}}catch(U){const z=U instanceof Error?U.message:String(U);return{finalOutput:E,steps:v,tokens:T,status:z==="Workflow stopped by user."?"stopped":"failed"}}finally{!L&&k&&k.type!==A.PARALLEL&&(k.type===A.CONCLUSION||(k.type,A.SYNCHRONIZE)),N.decrementActiveExecutionCount()}},eh=async(u,c,d)=>{var R;const o=wt(u);o.nodes=Ye(o.nodes).map(y=>({...y,isRunning:!1,hasError:!1,lastRunOutput:void 0}));const m=o.nodes,f=new Map,x=new Map(((R=o.projectVariables)==null?void 0:R.map(y=>[ft(y.name),y.value]))||[]),N=new Map,g=new Date;N.set("CurrentDateTime",g.toLocaleString()),N.set("LLMProvider",c.llmProvider);let h="N/A";switch(c.llmProvider){case $e.CHATGPT:h=c.chatGptModel||"Not Set";break;case $e.OLLAMA:h=c.ollamaModel||"Not Set";break;default:const y=c.llmProvider;h=`Unknown (${String(y)})`;break}N.set("LLMModel",h);const v=m.find(y=>y.type===A.START);if(!v){const y="No Start Node found.";return d.onLogEntry({nodeId:"workflow_error",nodeName:"Workflow Error",status:"failed",error:y,endTime:new Date().toISOString(),pathId:"main"}),{status:"failed",error:y,steps:[],totalTokensUsed:0,updatedNodes:m}}for(;d.getParallelPathCounter()>0;)d.decrementParallelPathCounter();if(d.getActiveExecutionCount()>0){let y=0;for(;d.getActiveExecutionCount()>0&&y<100;)d.decrementActiveExecutionCount(),y++}let T=0,E=[];try{const y=await Fm({initialNode:v,initialInput:"",projectNodes:m,settings:c,baseNodeVariables:f,projectVariablesMap:x,systemVariablesMap:N,callbacks:d,pathId:`main-${v.id.substring(0,4)}`});if(E.push(...y.steps),T+=y.tokens,y.status!=="stopped"&&y.status!=="failed"){let k=0;for(;d.getParallelPathCounter()>0&&k<m.length*2&&!d.isStopRequested();)d.onLogEntry({nodeId:"workflow_cleanup",nodeName:"Workflow Cleanup",status:"skipped",error:`Path counter was ${d.getParallelPathCounter()} at end of run, decrementing. This might indicate an unjoined parallel branch.`,pathId:"cleanup"}),d.decrementParallelPathCounter(),k++}const O=m.map(k=>({...k,isRunning:!1}));return{status:y.status,finalOutput:y.finalOutput,error:y.status==="failed"?"Workflow path failed.":y.status==="stopped"?"Workflow stopped.":void 0,steps:E,totalTokensUsed:T,updatedNodes:O}}catch(y){const O=y instanceof Error?y.message:"Unknown workflow execution error.",k=m.map(L=>({...L,isRunning:!1}));return{status:"failed",error:O,steps:E,totalTokensUsed:T,updatedNodes:k}}},vx=({currentProject:u,saveProjectState:c,setCurrentProject:d,hasUnsavedChanges:o,requestUserInput:m})=>{const{appSettings:f}=Er(),{isWorkflowRunning:x,setIsWorkflowRunning:N,isStopRequestedRef:g,currentExecutingNodeId:h,setCurrentExecutingNodeId:v,runStartTime:T,setRunStartTime:E,runEndTime:R,setRunEndTime:y,totalTokensThisRun:O,setTotalTokensThisRun:k,isExecutionPanelOpen:L,setIsExecutionPanelOpen:U,conclusionModalContent:z,setConclusionModalContent:K,clearConclusionModalContent:Q,getActiveExecutionCount:ee,incrementActiveExecutionCount:F,decrementActiveExecutionCount:te,isSteppingActive:G,setIsSteppingActive:Y,nextStepInfo:ae,setNextStepInfo:se,currentRunSteps:le,setCurrentRunSteps:ue}=mx(),{executionLogs:ce,setExecutionLogs:V,addLogEntry:X}=hx(),M=b.useMemo(()=>ae!==null,[ae]),Z=b.useRef(0);b.useEffect(()=>{x||(g.current=!1,G||se(null))},[x,G,g,se]);const S=b.useMemo(()=>({onLogEntry:re=>{X(re),re.status==="running"&&re.nodeId&&v(re.nodeId)},onNodeStatusUpdate:(re,ne)=>{d(Re=>Re?{...Re,nodes:Ye(Re.nodes).map(Ze=>Ze.id===re?{...Ze,...ne}:Ze)}:null)},onConclusion:K,onRequestUserInput:m,onTokenUpdate:re=>k(ne=>ne+re),getActiveExecutionCount:ee,incrementActiveExecutionCount:F,decrementActiveExecutionCount:te,getParallelPathCounter:()=>Z.current,incrementParallelPathCounter:re=>{Z.current+=re},decrementParallelPathCounter:()=>{Z.current=Math.max(0,Z.current-1)},isStopRequested:()=>g.current}),[X,d,K,m,k,ee,F,te,g,v]),H=b.useCallback(()=>{o&&u&&c(u,!0),d(re=>re?{...re,nodes:Ye(re.nodes).map(ne=>({...ne,isRunning:!1,hasError:!1,lastRunOutput:void 0}))}:null),V([]),v(null),E(Date.now()),y(null),k(0),U(!0),g.current=!1,K(null),ue([]),Z.current=0},[u,o,c,d,V,v,E,y,k,U,g,K,ue]),D=b.useCallback(re=>{const ne=Date.now();y(ne),N(!1),Y(!1),v(null),d(Re=>{if(!Re)return null;let Ze=Re.nodes;re.updatedNodes&&Array.isArray(re.updatedNodes)&&re.updatedNodes.every(Je=>Je&&Je.id)&&(Ze=re.updatedNodes);const yt=Ye(Ze).map(Je=>({...Je,isRunning:!1})),dt={id:de(),timestamp:new Date(T).toISOString(),status:re.status,steps:re.steps,finalOutput:re.finalOutput,error:re.error,totalTokensUsed:re.totalTokensUsed,durationMs:T?ne-T:0},Te=[...Re.runHistory||[],dt].slice(-20),Ee={...Re,nodes:yt,runHistory:Te};return c(Ee,!1),Ee}),g.current=!1,se(null)},[T,c,d,N,Y,v,y,se]),$=b.useCallback(async()=>{if(!!!u||x||G)return Promise.reject(new Error("Workflow already running or in stepping mode, or no project."));H(),N(!0);let ne;try{if(!u)throw new Error("Current project is null immediately before calling executor service.");ne=await eh(u,f,S)}catch(Re){const Ze=Re instanceof Error?Re.message:"Unknown critical error from executor service call",yt=u?u.nodes:[];ne={status:"failed",error:Ze,steps:le,totalTokensUsed:O,updatedNodes:yt}}return k(ne.totalTokensUsed),ue(ne.steps),D(ne),ne.status==="failed"||ne.status==="stopped"?Promise.reject(new Error(ne.error||ne.status)):Promise.resolve()},[u,x,G,f,H,S,D,N,le,O,ue,k]),ie=b.useCallback(async()=>{var Te;if(!u||x){console.warn("Cannot start step-through: project not loaded or workflow already running/stepping.");return}H(),N(!0),Y(!0);const re=wt(u),ne=Ye(re.nodes).find(Ee=>Ee.type===A.START);if(!ne){const Ee="No Start Node found for stepping.";S.onLogEntry({nodeId:"workflow_error",nodeName:"Workflow Error",status:"failed",error:Ee,pathId:"main-step",endTime:new Date().toISOString()}),D({status:"failed",error:Ee,steps:[],totalTokensUsed:0,updatedNodes:re.nodes});return}const Re=new Map,Ze=new Map(((Te=re.projectVariables)==null?void 0:Te.map(Ee=>[ft(Ee.name),Ee.value]))||[]),yt=new Map([["CurrentDateTime",new Date().toLocaleString()]]),dt=`step-main-${ne.id.substring(0,4)}`;try{const Ee=await yr({node:ne,previousOutput:"",settings:f,nodeVariables:Re,projectVariablesMap:Ze,systemVariablesMap:yt,callbacks:S,pathId:dt,projectNodes:re.nodes,onPathCounterManagedByNode:()=>{}});ue(Je=>[...Je,{nodeId:ne.id,nodeName:ne.name,promptSent:Ee.promptSent,responseReceived:Ee.output,timestamp:new Date().toISOString(),tokensUsed:Ee.tokensUsed,pathId:dt}]),ne.nextNodeId?se({nodeId:ne.nextNodeId,input:Ee.output,nodeVariables:new Map(Re),pathId:dt}):(se(null),D({status:"completed",finalOutput:Ee.output,steps:le,totalTokensUsed:O,updatedNodes:re.nodes}))}catch(Ee){const Je=Ee instanceof Error?Ee.message:"Error processing START node for stepping.";D({status:"failed",error:Je,steps:le,totalTokensUsed:O,updatedNodes:re.nodes})}},[u,x,f,H,S,D,N,Y,se,le,O,ue]),xe=b.useCallback(async()=>{var dt;if(!G||!ae||!u){if(G&&!ae){const Te={status:"completed",finalOutput:le.length>0?le[le.length-1].responseReceived:void 0,steps:le,totalTokensUsed:O,updatedNodes:(u==null?void 0:u.nodes)||[]};D(Te)}return}const re=wt(u),ne=Ye(re.nodes).find(Te=>Te.id===ae.nodeId);if(!ne){const Te=`Node to step (ID: ${ae.nodeId}) not found.`;S.onLogEntry({nodeId:ae.nodeId,nodeName:"Unknown Node",status:"failed",error:Te,pathId:ae.pathId,endTime:new Date().toISOString()}),D({status:"failed",error:Te,steps:le,totalTokensUsed:O,updatedNodes:re.nodes});return}const Re=new Map(ae.nodeVariables),Ze=new Map(((dt=re.projectVariables)==null?void 0:dt.map(Te=>[ft(Te.name),Te.value]))||[]),yt=new Map([["CurrentDateTime",new Date().toLocaleString()]]);try{const Te=await yr({node:ne,previousOutput:ae.input,settings:f,nodeVariables:Re,projectVariablesMap:Ze,systemVariablesMap:yt,callbacks:S,pathId:ae.pathId,projectNodes:re.nodes,onPathCounterManagedByNode:()=>{}});ue(Je=>[...Je,{nodeId:ne.id,nodeName:ne.name,promptSent:Te.promptSent,responseReceived:Te.output,timestamp:new Date().toISOString(),tokensUsed:Te.tokensUsed,pathId:ae.pathId}]);let Ee=null;if(ne.type===A.CONDITIONAL){const Je=ne.branches||[];let Rt=Je.find(ut=>{const el=ut.condition.toLowerCase(),vl=Te.output.toLowerCase();return el.startsWith("contains ")?vl.includes(el.substring(9).trim()):el.startsWith("starts with ")?vl.startsWith(el.substring(12).trim()):vl===el});Rt||(Rt=Je.find(ut=>ut.condition.toLowerCase()==="default")),Ee=Rt==null?void 0:Rt.nextNodeId}else ne.type===A.PARALLEL?(Ee=null,S.onLogEntry({nodeId:ne.id,nodeName:ne.name,status:"completed",output:"Parallel node processed. Stepping pauses here. Run full workflow to execute branches.",pathId:ae.pathId,endTime:new Date().toISOString()})):(ne.type===A.SYNCHRONIZE||ne.type!==A.CONCLUSION)&&(Ee=ne.nextNodeId);ne.type===A.CONCLUSION||!Ee?(se(null),D({status:"completed",finalOutput:Te.output,steps:le,totalTokensUsed:O,updatedNodes:re.nodes})):Ye(re.nodes).find(Rt=>Rt.id===Ee)?se({nodeId:Ee,input:Te.output,nodeVariables:new Map(Re),pathId:ae.pathId}):(S.onLogEntry({nodeId:Ee,nodeName:"Unknown Node",status:"skipped",error:"Next node for step not found in project.",pathId:ae.pathId,endTime:new Date().toISOString()}),se(null),D({status:"completed",finalOutput:Te.output,steps:le,totalTokensUsed:O,updatedNodes:re.nodes}))}catch(Te){const Ee=Te instanceof Error?Te.message:"Error processing step.";D({status:"failed",error:Ee,steps:le,totalTokensUsed:O,updatedNodes:re.nodes})}},[G,ae,u,f,S,D,le,O,ue]),me=b.useCallback(()=>{if(g.current=!0,G){const ne={status:"stopped",finalOutput:le.length>0?le[le.length-1].responseReceived:void 0,error:"Run stopped by user during stepping.",steps:le,totalTokensUsed:O,updatedNodes:(u==null?void 0:u.nodes)||[]};D(ne)}else x&&S.onLogEntry({nodeId:"workflow_control",nodeName:"Workflow Control",status:"failed",error:"Stop request issued for full run.",endTime:new Date().toISOString(),pathId:"main"})},[G,x,g,le,O,u,D,S]);return{isWorkflowRunning:x,executionLogs:ce,currentExecutingNodeId:h,runStartTime:T,runEndTime:R,totalTokensThisRun:O,runWorkflow:$,handleStopWorkflow:me,isExecutionPanelOpen:L,setIsExecutionPanelOpen:U,conclusionModalContent:z,clearConclusionModalContent:Q,isSteppingActive:G,hasNextStep:M,startStepThrough:ie,processAndAdvanceStep:xe}},bx=()=>{const[u,c]=b.useState(!1),[d,o]=b.useState(!1),[m,f]=b.useState(!1),[x,N]=b.useState(!1),[g,h]=b.useState(""),v=b.useCallback(()=>c(!0),[]),T=b.useCallback(()=>c(!1),[]),E=b.useCallback(()=>o(!0),[]),R=b.useCallback(()=>o(!1),[]),y=b.useCallback(()=>f(!0),[]),O=b.useCallback(()=>f(!1),[]),k=b.useCallback(U=>{h(U),N(!0)},[]),L=b.useCallback(()=>N(!1),[]);return{isProjectSettingsModalOpen:u,openProjectSettingsModal:v,closeProjectSettingsModal:T,isRunHistoryModalOpen:d,openRunHistoryModal:E,closeRunHistoryModal:R,isHelpModalOpen:m,openHelpModal:y,closeHelpModal:O,isLlmErrorModalOpen:x,llmErrorMessage:g,openLlmErrorModal:k,closeLlmErrorModal:L}},Nx=(u,c,d)=>{const{x:o,y:m,width:f,height:x}=d,N=[{p3:{x:o,y:m},p4:{x:o+f,y:m}},{p3:{x:o+f,y:m},p4:{x:o+f,y:m+x}},{p3:{x:o,y:m+x},p4:{x:o+f,y:m+x}},{p3:{x:o,y:m},p4:{x:o,y:m+x}}];let g=c,h=1/0;for(const v of N){const{p3:T,p4:E}=v,R=(u.x-c.x)*(T.y-E.y)-(u.y-c.y)*(T.x-E.x);if(R===0)continue;const y=(u.x-T.x)*(T.y-E.y)-(u.y-T.y)*(T.x-E.x),O=-((u.x-c.x)*(u.y-T.y)-(u.y-c.y)*(u.x-T.x)),k=y/R,L=O/R;L>=0&&L<=1&&k>=0&&k<=1&&k<h&&(h=k,g={x:u.x+k*(c.x-u.x),y:u.y+k*(c.y-u.y)})}return g},Sx=u=>{const[c,d]=b.useState([]);return b.useEffect(()=>{if(!u||u.length===0){d([]);return}const o=[],m=new Map(u.map(f=>[f.id,f]));u.forEach(f=>{const x=(N,g,h="direct")=>{N&&m.get(N)&&o.push({id:`${f.id}-${N}-${g||h}`,sourceId:f.id,targetId:N,condition:g})};f.type===A.START||f.type===A.PROMPT||f.type===A.VARIABLE||f.type===A.QUESTION||f.type===A.JAVASCRIPT||f.type===A.SYNCHRONIZE?x(f.nextNodeId):f.type===A.CONDITIONAL&&f.branches?f.branches.forEach(N=>{x(N.nextNodeId,N.condition)}):f.type===A.PARALLEL&&f.parallelNextNodeIds&&f.parallelNextNodeIds.forEach((N,g)=>{x(N,void 0,`parallel-${g}`)})}),d(o)},[u]),{visualLinks:c,getLineToRectangleIntersectionPoint:Nx}},wm=.25,Rm=2,Ex=.001,jx=.005,Tx=({editorAreaRef:u})=>{var G;const[c,d]=b.useState(1),[o,m]=b.useState({x:0,y:0}),[f,x]=b.useState(!1),[N,g]=b.useState({x:0,y:0}),[h,v]=b.useState(!1),T=b.useRef(null),E=b.useRef(null),R=b.useRef(null),y=b.useCallback((Y,ae,se)=>{if(!u.current)return;const le=Math.max(wm,Math.min(Rm,c+Y)),ue=u.current.getBoundingClientRect(),ce=ae-ue.left,V=se-ue.top;m(X=>({x:ce-(ce-X.x)*(le/c),y:V-(V-X.y)*(le/c)})),d(le)},[c,u]),O=b.useCallback(Y=>{Y.preventDefault();const ae=Y.deltaY*Ex*-1;y(ae,Y.clientX,Y.clientY)},[y]),k=b.useCallback(Y=>{u.current&&(Y.target===u.current||Y.target.parentElement===u.current)&&(x(!0),g({x:Y.clientX-o.x,y:Y.clientY-o.y}),u.current.style.cursor="grabbing")},[o.x,o.y,u]),L=b.useCallback(Y=>{f&&m({x:Y.clientX-N.x,y:Y.clientY-N.y})},[f,N.x,N.y]),U=b.useCallback(()=>{f&&(x(!1),u.current&&(u.current.style.cursor="grab"))},[f,u]);b.useEffect(()=>{const Y=u.current;if(f&&Y)return document.addEventListener("mousemove",L),document.addEventListener("mouseup",U),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",U),Y&&(Y.style.cursor="grab")};Y&&(Y.style.cursor="grab")},[f,L,U,u]);const z=b.useCallback(Y=>{if(!(!u.current||!u.current.contains(Y.target)))if((Y.target===u.current||Y.target.parentElement===u.current)&&Y.preventDefault(),v(!0),R.current=Y.touches,Y.touches.length===2){const ae=Y.touches[0],se=Y.touches[1];T.current=Math.hypot(ae.clientX-se.clientX,ae.clientY-se.clientY),E.current={x:(ae.clientX+se.clientX)/2,y:(ae.clientY+se.clientY)/2}}else Y.touches.length===1&&g({x:Y.touches[0].clientX-o.x,y:Y.touches[0].clientY-o.y})},[o.x,o.y,u]),K=b.useCallback(Y=>{if(!(!h||!u.current)){if((Y.target===u.current||Y.target.parentElement===u.current)&&Y.preventDefault(),Y.touches.length===2&&T.current&&E.current){const ae=Y.touches[0],se=Y.touches[1],le=Math.hypot(ae.clientX-se.clientX,ae.clientY-se.clientY),ue=(le-T.current)*jx;y(ue,E.current.x,E.current.y),T.current=le}else Y.touches.length===1&&m({x:Y.touches[0].clientX-N.x,y:Y.touches[0].clientY-N.y});R.current=Y.touches}},[h,N,y,u]),Q=b.useCallback(Y=>{Y.touches.length===0?(v(!1),T.current=null,E.current=null,R.current=null):(Y.touches.length===1&&g({x:Y.touches[0].clientX-o.x,y:Y.touches[0].clientY-o.y}),R.current=Y.touches)},[o.x,o.y]);b.useEffect(()=>{const Y=u.current;if(Y)return Y.addEventListener("touchstart",z,{passive:!1}),Y.addEventListener("touchmove",K,{passive:!1}),Y.addEventListener("touchend",Q,{passive:!1}),Y.addEventListener("touchcancel",Q,{passive:!1}),()=>{Y.removeEventListener("touchstart",z),Y.removeEventListener("touchmove",K),Y.removeEventListener("touchend",Q),Y.removeEventListener("touchcancel",Q)}},[u,z,K,Q]);const ee=b.useCallback(()=>{if(u.current){const Y=u.current.getBoundingClientRect();y(c*.2,Y.left+Y.width/2,Y.top+Y.height/2)}},[c,u,y]),F=b.useCallback(()=>{if(u.current){const Y=u.current.getBoundingClientRect();y(c*-.2,Y.left+Y.width/2,Y.top+Y.height/2)}},[c,u,y]),te=b.useCallback(()=>{d(1),m({x:0,y:0})},[]);return{scale:c,translate:o,isPanning:f||h&&((G=R.current)==null?void 0:G.length)===1,panStartPoint:N,handleWheelOnCanvas:O,handleMouseDownOnCanvas:k,zoomIn:ee,zoomOut:F,resetZoom:te,MIN_SCALE:wm,MAX_SCALE:Rm}},Mm=640,gs=()=>{const[u,c]=b.useState(()=>typeof window<"u"?window.innerWidth<Mm:!1);return b.useEffect(()=>{if(typeof window>"u")return;const d=()=>{c(window.innerWidth<Mm)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),u},Er=()=>{const u=b.useContext(Pm);if(!u)throw new Error("useAppSettings must be used within an AppSettingsProvider");return u},th=()=>{const u=b.useContext(Km);if(!u)throw new Error("useProjects must be used within a ProjectsProvider");return u},Gt=({isOpen:u,onClose:c,title:d,children:o,widthClass:m="sm:max-w-lg",footerContent:f,isMaximized:x,onToggleMaximize:N})=>{const g=b.useRef(null);if(!u)return null;const h=x?"w-full h-full sm:rounded-none bg-slate-800 text-left shadow-xl flex flex-col":`transform overflow-hidden sm:rounded-lg bg-slate-800 text-left shadow-xl transition-all w-full h-full flex flex-col sm:h-auto sm:my-8 sm:align-middle ${m}`,v=E=>{E.target===E.currentTarget?g.current=E.target:g.current=null},T=E=>{E.target===E.currentTarget&&g.current===E.currentTarget&&c(),g.current=null};return i.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-slate-900 bg-opacity-75 transition-opacity flex flex-col sm:items-center sm:justify-center","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onMouseDown:v,onClick:T,children:i.jsxs("div",{className:h,onMouseDown:E=>E.stopPropagation(),onClick:E=>E.stopPropagation(),children:[i.jsxs("div",{className:"bg-slate-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 border-b border-slate-700 relative",children:[i.jsx("div",{className:"sm:flex sm:items-start",children:i.jsx("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:i.jsx("h3",{className:"text-lg font-medium leading-6 text-slate-100",id:"modal-title",children:d})})}),N&&i.jsx("button",{onClick:N,className:"absolute top-3 right-12 sm:top-4 sm:right-14 p-2 text-slate-400 hover:text-slate-200 focus:outline-none rounded-full hover:bg-slate-700","aria-label":x?"Minimize":"Maximize",title:x?"Minimize":"Maximize",children:i.jsx("i",{className:`fas ${x?"fa-compress-alt":"fa-expand-alt"}`})}),i.jsx("button",{onClick:c,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-2 text-slate-400 hover:text-slate-200 focus:outline-none rounded-full hover:bg-slate-700","aria-label":"Close modal",children:i.jsx("i",{className:"fas fa-times"})})]}),i.jsxs("div",{className:`bg-slate-800 px-4 sm:p-6 flex-grow overflow-y-auto custom-scroll ${x?"h-0":""}`,children:[" ",i.jsx("div",{className:"mt-2",children:o})]}),i.jsx("div",{className:"bg-slate-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:f||i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:c,children:"Close"})})]})})},Ax=({settings:u,isOpen:c,onClose:d,onSave:o})=>{const[m,f]=b.useState(fs),[x,N]=b.useState([]),[g,h]=b.useState(!1),[v,T]=b.useState(null),[E,R]=b.useState([]),[y,O]=b.useState(!1),[k,L]=b.useState(null);b.useEffect(()=>{const G={...fs,...u};f(G),c||(N([]),h(!1),T(null),R([]),O(!1),L(null))},[u,c]);const U=G=>{const{name:Y,value:ae,type:se}=G.target;let le=ae;se==="number"?(le=parseFloat(ae),isNaN(le)&&(Y==="temperature"||Y==="topP"?le=0:Y==="topK"&&(le=1))):Y==="llmProvider"&&(le=ae),f(ue=>{const ce={...ue,[Y]:le};if(Y==="ollamaBaseUrl"&&ue.ollamaBaseUrl!==le&&(N([]),ce.ollamaModel="",T(null)),Y==="llmProvider"){const V=le;ue.llmProvider===$e.OLLAMA&&V!==$e.OLLAMA&&(N([]),T(null),h(!1)),ue.llmProvider===$e.CHATGPT&&V!==$e.CHATGPT&&(R([]),L(null),O(!1)),V===$e.CHATGPT?E.length>0&&!E.includes(ce.chatGptModel)?ce.chatGptModel=E[0]:E.length===0&&(ce.chatGptModel=""):V===$e.OLLAMA&&(x.length>0&&!x.includes(ce.ollamaModel)?ce.ollamaModel=x[0]:x.length===0&&(ce.ollamaModel=""))}return ce})},z=b.useCallback(async()=>{O(!0),L(null),R([]),await new Promise(G=>setTimeout(G,300));try{const G=[...Jy].sort();R(G),G.length>0?f(Y=>{const ae=Y.chatGptModel;return!G.includes(ae)||!ae?{...Y,chatGptModel:G[0]}:Y}):(L("No predefined ChatGPT models found."),f(Y=>({...Y,chatGptModel:""})))}catch(G){console.error("Error 'fetching' ChatGPT models:",G),L(G instanceof Error?G.message:"An unknown error occurred."),f(Y=>({...Y,chatGptModel:""}))}finally{O(!1)}},[]),K=b.useCallback(async G=>{const Y=G||m.ollamaBaseUrl;if(!Y){T("Ollama Base URL is not set.");return}h(!0),T(null),N([]);try{const ae=await fetch(`${Y.replace(/\/$/,"")}/api/tags`);if(!ae.ok){const ue=await ae.text();throw new Error(`Failed to fetch Ollama models: ${ae.status} ${ae.statusText}. ${ue}`)}const le=(await ae.json()).models.map(ue=>ue.name).sort();N(le),le.length>0?f(ue=>{const ce=ue.ollamaModel;return!le.includes(ce)||!ce?{...ue,ollamaModel:le[0]}:ue}):(T("No models found at this Ollama instance."),f(ue=>({...ue,ollamaModel:""})))}catch(ae){console.error("Error fetching Ollama models:",ae),T(ae instanceof Error?ae.message:"An unknown error occurred while fetching models."),f(se=>({...se,ollamaModel:""}))}finally{h(!1)}},[m.ollamaBaseUrl]),Q=()=>{o(m),d()};if(!c)return null;const ee=m.llmProvider;let F="1";ee===$e.CHATGPT&&(F="2");const te=i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:Q,className:"inline-flex w-full justify-center rounded-md bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Save App Settings"}),i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:d,children:"Close"})]});return i.jsx(Gt,{isOpen:c,onClose:d,title:"Application Settings",footerContent:te,children:i.jsxs("div",{className:"space-y-4 text-slate-300",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"llmProvider",className:"block text-sm font-medium",children:"LLM Provider"}),i.jsxs("select",{name:"llmProvider",id:"llmProvider",value:m.llmProvider,onChange:U,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[i.jsx("option",{value:$e.CHATGPT,children:"ChatGPT (OpenAI)"}),i.jsx("option",{value:$e.OLLAMA,children:"Ollama (Local)"})]})]}),m.llmProvider===$e.CHATGPT&&i.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[i.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"ChatGPT Configuration"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"chatGptApiKey",className:"block text-sm font-medium",children:"ChatGPT API Key"}),i.jsx("input",{type:"password",name:"chatGptApiKey",id:"chatGptApiKey",value:m.chatGptApiKey,onChange:U,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"Enter your OpenAI API Key (sk-...)"}),i.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Your API key is stored in your browser's local storage. Refer to the ",i.jsx("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"OpenAI API Keys page"})," for how to get an API key."]}),i.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:[i.jsx("strong",{children:"Warning:"})," Check the ",i.jsx("a",{href:"https://openai.com/api/pricing/",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"cost of tokens"})," for the model you want to use."]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"chatGptModel",className:"block text-sm font-medium",children:"ChatGPT Model"}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsxs("select",{name:"chatGptModel",id:"chatGptModel",value:m.chatGptModel,onChange:U,className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-describedby":"chatgpt-model-description",disabled:y||E.length===0&&!k,children:[y&&i.jsx("option",{value:"",children:"Loading models..."}),!y&&E.length===0&&!k&&i.jsx("option",{value:"",children:'Click "Fetch" to load models'}),!y&&E.length===0&&k&&i.jsx("option",{value:"",children:"No models found or error"}),E.map(G=>i.jsx("option",{value:G,children:G},G))]}),i.jsxs("button",{type:"button",onClick:z,disabled:y,className:"rounded-md bg-sky-600 px-3 py-2 text-sm text-white hover:bg-sky-700 disabled:bg-slate-500 disabled:cursor-not-allowed flex-shrink-0",children:[y?i.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}):i.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Fetch"]})]}),k&&i.jsx("p",{className:"mt-1 text-xs text-red-400",children:k}),i.jsx("p",{id:"chatgpt-model-description",className:"mt-1 text-xs text-slate-400",children:'Click "Fetch" to load available ChatGPT models.'})]})]}),m.llmProvider===$e.OLLAMA&&i.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[i.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"Ollama Configuration"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ollamaBaseUrl",className:"block text-sm font-medium",children:"Ollama Base URL"}),i.jsx("input",{type:"text",name:"ollamaBaseUrl",id:"ollamaBaseUrl",value:m.ollamaBaseUrl,onChange:U,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., http://localhost:11434"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ollamaModel",className:"block text-sm font-medium",children:"Ollama Model Name"}),i.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[i.jsxs("select",{name:"ollamaModel",id:"ollamaModel",value:m.ollamaModel,onChange:U,className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",disabled:g||x.length===0&&!v,children:[g&&i.jsx("option",{value:"",children:"Loading models..."}),!g&&x.length===0&&!v&&i.jsx("option",{value:"",children:'Click "Fetch" to load models'}),!g&&x.length===0&&v&&i.jsx("option",{value:"",children:"No models found or error"}),x.map(G=>i.jsx("option",{value:G,children:G},G))]}),i.jsxs("button",{type:"button",onClick:()=>K(),disabled:g||!m.ollamaBaseUrl,className:"rounded-md bg-sky-600 px-3 py-2 text-sm text-white hover:bg-sky-700 disabled:bg-slate-500 disabled:cursor-not-allowed flex-shrink-0",children:[g?i.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}):i.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Fetch"]})]}),v&&i.jsx("p",{className:"mt-1 text-xs text-red-400",children:v}),i.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Ensure Ollama is running and accessible at the Base URL. Then, fetch available models."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ollamaKeepAlive",className:"block text-sm font-medium",children:"Keep Alive Duration"}),i.jsx("input",{type:"text",name:"ollamaKeepAlive",id:"ollamaKeepAlive",value:m.ollamaKeepAlive,onChange:U,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., 5m, 1h, -1 (unlimited)"}),i.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"How long Ollama keeps the model loaded. Use '5m' for 5 minutes, '1h' for 1 hour, '-1' for indefinitely."})]})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[i.jsx("h4",{className:"text-md font-semibold text-slate-200",children:"Common LLM Parameters"}),i.jsx("p",{className:"text-xs text-slate-400 -mt-2",children:"These settings apply to the selected LLM provider where applicable."}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"temperature",className:"block text-sm font-medium",children:["Temperature (0.0 - ",F,")"]}),i.jsx("input",{type:"number",name:"temperature",id:"temperature",value:m.temperature,onChange:U,step:"0.1",min:"0",max:F,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),i.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Controls randomness. Lower is more deterministic. OpenAI uses 0-2, Ollama typically 0-1."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"topP",className:"block text-sm font-medium",children:"Top P (0.0 - 1.0)"}),i.jsx("input",{type:"number",name:"topP",id:"topP",value:m.topP,onChange:U,step:"0.01",min:"0",max:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),i.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Nucleus sampling: considers tokens with top_p probability mass."})]}),m.llmProvider===$e.OLLAMA&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"topK",className:"block text-sm font-medium",children:"Top K"}),i.jsx("input",{type:"number",name:"topK",id:"topK",value:m.topK,onChange:U,step:"1",min:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),i.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Limit the selection pool to a fixed number of most likely options (Ollama)."})]})]})]})})},lh=({onRunProject:u,onStopProject:c,onStartStepThrough:d,onProcessNextStep:o,currentProjectName:m,isWorkflowRunning:f,isSteppingActive:x,hasNextStep:N,onToggleSidebar:g,onNavigateHome:h})=>{const[v,T]=b.useState(!1),[E,R]=b.useState(!1),{appSettings:y,setAppSettings:O}=Er(),k=gs(),L=b.useRef(null);ps();const U=le=>{O(le),T(!1)},z=()=>R(le=>!le);b.useEffect(()=>{const le=ue=>{L.current&&!L.current.contains(ue.target)&&R(!1)};return E&&document.addEventListener("mousedown",le),()=>{document.removeEventListener("mousedown",le)}},[E]);const K=le=>{h&&(le.preventDefault(),h())},{providerName:Q,modelName:ee}=b.useMemo(()=>{if(!y)return{providerName:"N/A",modelName:"N/A"};let le="",ue="Not Selected";switch(y.llmProvider){case $e.CHATGPT:le="ChatGPT",ue=y.chatGptModel||"Not Selected";break;case $e.OLLAMA:le="Ollama",ue=y.ollamaModel||"Not Selected";break;default:le=`Unknown (${y.llmProvider})`,ue="Error"}return{providerName:le,modelName:ue}},[y]),F=`${Q}: ${ee}`,te=`${Q}: ${k&&ee.length>10?ee.substring(0,7)+"...":ee}`,G=x?N?"Next Step":"Stepping Done":"Step",Y=x?N?"fas fa-shoe-prints":"fas fa-check-circle":"fas fa-step-forward",ae=f&&!x||x&&!N,se=x||f&&!x;return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"bg-slate-800 p-3 sm:p-4 shadow-md flex justify-between items-center z-30 relative",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[k&&g&&i.jsx("button",{onClick:g,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500","aria-label":"Toggle sidebar",children:i.jsx("i",{className:"fas fa-bars fa-lg"})}),i.jsxs(xs,{to:"/",className:"text-xl sm:text-2xl font-bold text-sky-400 hover:text-sky-300 flex items-center",onClick:K,children:[i.jsx("i",{className:"fas fa-cogs mr-2"}),i.jsx("span",{className:k?"hidden sm:inline":"inline",children:"LLM Workflow"})]}),m&&i.jsxs("span",{className:"text-slate-400 text-sm sm:text-lg hidden md:inline",children:["| ",m]})]}),i.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[i.jsx("span",{className:"text-xs text-slate-400 truncate hidden sm:block",title:F,style:{maxWidth:"150px"},"aria-label":`Current LLM: ${F}`,children:te}),i.jsx("span",{className:"text-xs text-slate-400 truncate sm:hidden",title:F,style:{maxWidth:"100px"},"aria-label":`Current LLM: ${F}`,children:te}),u&&c&&(f?i.jsxs("button",{onClick:c,className:"rounded-md bg-red-600 px-2 py-1.5 sm:px-3 sm:py-2 text-white hover:bg-red-700 flex items-center text-xs sm:text-sm","aria-label":"Stop Project Run",children:[i.jsx("i",{className:"fas fa-stop sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):i.jsxs("button",{onClick:u,disabled:se,className:`rounded-md px-2 py-1.5 sm:px-3 sm:py-2 text-white flex items-center text-xs sm:text-sm ${se?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,"aria-label":"Run Project",children:[i.jsx("i",{className:"fas fa-play sm:mr-1"}),i.jsx("span",{className:"hidden sm:inline",children:"Run"})]})),d&&o&&i.jsxs("button",{onClick:x?o:d,disabled:ae,className:`rounded-md px-2 py-1.5 sm:px-3 sm:py-2 text-white flex items-center text-xs sm:text-sm ${ae?"bg-slate-500 cursor-not-allowed":"bg-sky-600 hover:bg-sky-700"}`,"aria-label":G,title:G,children:[i.jsx("i",{className:`${Y} ${k&&G!=="Step"?"":"sm:mr-1"}`}),i.jsx("span",{className:`hidden ${k&&G!=="Step"?"":"sm:inline"}`,children:G})]}),k?i.jsxs("div",{className:"relative",ref:L,children:[i.jsx("button",{onClick:z,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500","aria-label":"More options",children:i.jsx("i",{className:"fas fa-ellipsis-v fa-lg"})}),E&&i.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-slate-700 rounded-md shadow-lg py-1 z-40",children:i.jsxs("button",{onClick:()=>{T(!0),R(!1)},className:"block w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-600",children:[i.jsx("i",{className:"fas fa-cog mr-2"}),"App Settings"]})})]}):i.jsxs("button",{onClick:()=>T(!0),className:"rounded-md bg-slate-700 px-3 py-2 sm:px-4 text-slate-200 hover:bg-slate-600 flex items-center text-sm","aria-label":"Application Settings",children:[i.jsx("i",{className:"fas fa-cog mr-1 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]})]}),i.jsx(Ax,{settings:y,isOpen:v,onClose:()=>T(!1),onSave:U})]})},Iu=({isOpen:u,onClose:c,onConfirm:d,title:o,message:m,confirmText:f="Confirm",cancelText:x="Cancel",confirmButtonClass:N="bg-red-600 hover:bg-red-700"})=>{if(!u)return null;const g=()=>{d(),c()},h=i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:g,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${N} ${N.includes("red")?"focus:ring-red-500":"focus:ring-sky-500"}`,children:f}),i.jsx("button",{onClick:c,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:x})]});return i.jsx(Gt,{isOpen:u,onClose:c,title:o,footerContent:h,children:i.jsx("div",{className:"text-slate-300",children:m})})},Cx=({isOpen:u,onClose:c,projectJson:d,projectName:o})=>{const[m,f]=b.useState("idle"),x=async()=>{try{await navigator.clipboard.writeText(d),f("copied"),setTimeout(()=>f("idle"),2e3)}catch(g){console.error("Failed to copy project JSON:",g),f("failed"),setTimeout(()=>f("idle"),2e3)}},N=i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:x,children:m==="copied"?"Copied!":m==="failed"?"Copy Failed":"Copy to Clipboard"}),i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:c,children:"Close"})]});return i.jsx(Gt,{isOpen:u,onClose:c,title:`Export Project: ${o}`,footerContent:N,widthClass:"sm:max-w-2xl",children:i.jsxs("div",{className:"space-y-4 text-slate-300",children:[i.jsx("p",{children:"Copy the JSON below to export your project. You can then import it back into this application or store it externally."}),i.jsx("textarea",{readOnly:!0,value:d,className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON content"}),m==="failed"&&i.jsx("p",{className:"text-xs text-red-400 text-center",children:"Could not copy to clipboard. Please copy manually."})]})})},Ox=({isOpen:u,onClose:c,onImport:d,errorMessage:o})=>{const[m,f]=b.useState(""),x=()=>{m.trim()&&d(m)},N=i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:x,disabled:!m.trim(),children:"Import Project"}),i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:()=>{f(""),c()},children:"Cancel"})]});return i.jsx(Gt,{isOpen:u,onClose:()=>{f(""),c()},title:"Import Project",footerContent:N,widthClass:"sm:max-w-2xl",children:i.jsxs("div",{className:"space-y-4 text-slate-300",children:[i.jsx("p",{children:"Paste the JSON data for the project you want to import below."}),i.jsx("textarea",{value:m,onChange:g=>f(g.target.value),placeholder:"Paste project JSON here...",className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON input area"}),o&&i.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md border border-red-700",children:o})]})})},ah=({isOpen:u,data:c,onClose:d})=>{if(!u||!c)return null;const o=i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:d,children:"Close"});return i.jsx(Gt,{isOpen:u,onClose:d,title:c.title,footerContent:o,widthClass:"sm:max-w-xl",children:i.jsx("div",{className:"text-slate-300 max-h-[60vh] overflow-y-auto custom-scroll",children:i.jsx("pre",{className:"whitespace-pre-wrap break-all text-sm bg-slate-700 p-3 rounded-md",children:c.content})})})},wx=()=>{const{projects:u,addProject:c,deleteProject:d,getProjectById:o,updateProject:m}=th(),{appSettings:f}=Er(),x=ps(),[N,g]=b.useState({isOpen:!1,projectId:null,projectName:null}),[h,v]=b.useState({isOpen:!1,projectJson:"",projectName:""}),[T,E]=b.useState(!1),[R,y]=b.useState(null),[O,k]=b.useState(null),[L,U]=b.useState(null),[z,K]=b.useState(!1),[Q,ee]=b.useState(null),F=Uu.useRef(!1),te=Uu.useRef(0),G=Uu.useRef(0),Y=()=>{const X=de(),Z={id:de(),name:"New Project",description:"A new LLM workflow project.",author:"User",nodes:[{id:X,type:A.START,name:"Start Here",prompt:Jm,position:{x:50,y:250},nextNodeId:null}],links:[],runHistory:[],projectVariables:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};c(Z),x(`/project/${Z.id}`)},ae=()=>{N.projectId&&d(N.projectId),g({isOpen:!1,projectId:null,projectName:null})},se=X=>{const M=wt(X);M.runHistory=[],M.nodes=M.nodes.map(Z=>{const{lastRunOutput:S,isRunning:H,hasError:D,...$}=Z;return $}),v({isOpen:!0,projectJson:JSON.stringify(M,null,2),projectName:X.name})},le=b.useCallback(X=>{y(null);try{const M=JSON.parse(X);if(!M||typeof M!="object"||!M.name||!Array.isArray(M.nodes))throw new Error("Invalid project structure. Ensure it's a valid project JSON with name and nodes array.");const Z=wt(M);Z.id=de();const S={};Z.nodes=Ye(Z.nodes).map(D=>{const $=D.id,ie=de();return S[$]=ie,D.id=ie,delete D.lastRunOutput,delete D.isRunning,delete D.hasError,D.type===A.VARIABLE&&(D.name=ft(D.name||`var_${ie.substring(0,4)}`)),D.branches&&Array.isArray(D.branches)&&(D.branches=D.branches.map(xe=>({...xe,id:de()}))),D}),Z.nodes=Z.nodes.map(D=>(D.nextNodeId&&S[D.nextNodeId]?D.nextNodeId=S[D.nextNodeId]:D.nextNodeId&&(D.nextNodeId=null),D.branches&&Array.isArray(D.branches)&&(D.branches=D.branches.map($=>$.nextNodeId&&S[$.nextNodeId]?{...$,nextNodeId:S[$.nextNodeId]}:$.nextNodeId?{...$,nextNodeId:null}:$)),D.parallelNextNodeIds&&Array.isArray(D.parallelNextNodeIds)&&(D.parallelNextNodeIds=D.parallelNextNodeIds.map($=>S[$]||null).filter($=>$!==null)),D)),Array.isArray(Z.links)?Z.links=Z.links.map(D=>({id:de(),sourceId:S[D.sourceId]||D.sourceId,targetId:S[D.targetId]||D.targetId,condition:D.condition})).filter(D=>S[D.sourceId]&&S[D.targetId]):Z.links=[],Array.isArray(Z.projectVariables)?Z.projectVariables=Z.projectVariables.map((D,$)=>({id:de(),name:ft(D.name||`proj_var_${$}`),value:D.value||""})).filter(D=>D.name.trim()!==""):Z.projectVariables=[],Z.runHistory=[];const H=new Date().toISOString();Z.createdAt=H,Z.updatedAt=H,Z.name=Z.name||"Imported Project",Z.description=Z.description||"Imported workflow.",Z.author=Z.author||"User",c(Z),E(!1)}catch(M){console.error("Import failed:",M),y(M instanceof Error?M.message:"Failed to import project. Ensure JSON is valid.")}},[c]),ue=async X=>{if(O)return;F.current=!1,te.current=0,G.current=0,ee(null);const M=wt(X),Z=window.setInterval(()=>{k(D=>D?{...D,elapsedTime:D.elapsedTime+1}:null)},1e3);k({id:X.id,name:X.name,statusText:"Initializing...",elapsedTime:0,intervalId:Z,stopRequested:!1});const S={onLogEntry:D=>{D.status==="running"&&k($=>$?{...$,statusText:`Processing: ${D.nodeName}...`}:null)},onNodeStatusUpdate:(D,$)=>{const ie=M.nodes.find(xe=>xe.id===D);ie&&($.isRunning!==void 0&&(ie.isRunning=$.isRunning),$.hasError!==void 0&&(ie.hasError=$.hasError),$.lastRunOutput!==void 0&&(ie.lastRunOutput=$.lastRunOutput))},onConclusion:D=>{U(D),K(!0)},onRequestUserInput:(D,$)=>(ee(`Project "${X.name}" requires user input, which is not supported for runs started from the home page. Please open the project to run it.`),F.current=!0,Promise.reject(new Error("User input required, not supported in this mode."))),onTokenUpdate:D=>{},getActiveExecutionCount:()=>te.current,incrementActiveExecutionCount:()=>{te.current++},decrementActiveExecutionCount:()=>{te.current=Math.max(0,te.current-1)},getParallelPathCounter:()=>G.current,incrementParallelPathCounter:D=>{G.current+=D},decrementParallelPathCounter:()=>{G.current=Math.max(0,G.current-1)},isStopRequested:()=>F.current};let H=null;try{H=await eh(M,f,S)}catch(D){H={status:"failed",error:D instanceof Error?D.message:"Unknown error during workflow execution.",steps:[],totalTokensUsed:0,updatedNodes:M.nodes}}if(O!=null&&O.intervalId&&clearInterval(O.intervalId),k(D=>(D&&D.intervalId&&clearInterval(D.intervalId),null)),H){const D=o(X.id);if(D){const $={id:de(),timestamp:new Date().toISOString(),status:H.status,steps:H.steps,finalOutput:H.finalOutput,error:H.error||Q,totalTokensUsed:H.totalTokensUsed,durationMs:O!=null&&O.elapsedTime?O.elapsedTime*1e3:0},ie=[...D.runHistory||[],$].slice(-20),xe=D.nodes.map(me=>{const re=H.updatedNodes.find(ne=>ne.id===me.id);return re?{...me,lastRunOutput:re.lastRunOutput,isRunning:!1,hasError:re.hasError}:me});m({...D,nodes:xe,runHistory:ie,updatedAt:new Date().toISOString()})}H.status==="failed"&&(H.error||Q)&&(ee($=>$||(H==null?void 0:H.error)||"Workflow failed."),setTimeout(()=>ee(null),7e3))}},ce=()=>{O&&(F.current=!0,k(X=>X?{...X,statusText:"Stopping...",stopRequested:!0}:null))},V=X=>{const M=Math.floor(X/60),Z=X%60;return`${M.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"container mx-auto p-4 sm:p-8",children:[i.jsx(lh,{}),i.jsxs("div",{className:"my-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsx("h1",{className:"text-3xl font-semibold text-slate-100 text-center sm:text-left",children:"My Projects"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("button",{onClick:Y,className:"rounded-md bg-sky-600 px-6 py-3 text-white hover:bg-sky-700 text-lg font-medium flex items-center justify-center",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Create New Project"]}),i.jsxs("button",{onClick:()=>{E(!0),y(null)},className:"rounded-md bg-teal-600 px-6 py-3 text-white hover:bg-teal-700 text-lg font-medium flex items-center justify-center",children:[i.jsx("i",{className:"fas fa-upload mr-2"}),"Import Project"]})]})]}),u.length===0?i.jsx("p",{className:"text-center text-slate-400 text-xl mt-10",children:"No projects yet. Create one to get started!"}):i.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:u.map(X=>{const M=sx(X),Z=(O==null?void 0:O.id)===X.id,S=!!O;return i.jsxs("div",{className:`rounded-xl bg-slate-800 p-6 shadow-lg hover:shadow-sky-500/30 transition-all duration-300 flex flex-col justify-between relative ${Z?"ring-2 ring-sky-500":""}`,children:[Z&&i.jsx("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm rounded-xl z-10 flex flex-col items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"fas fa-spinner fa-spin fa-2x text-sky-400 mb-3"}),i.jsxs("p",{className:"text-lg font-semibold text-sky-300",children:["Running: ",O.name]}),i.jsx("p",{className:"text-sm text-slate-300 truncate max-w-xs",children:O.statusText}),i.jsx("p",{className:"text-2xl font-mono text-slate-100 mt-2",children:V(O.elapsedTime)}),i.jsx("button",{onClick:ce,disabled:O.stopRequested,className:"mt-4 rounded-md bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:bg-red-800 disabled:text-slate-400",children:O.stopRequested?"Stopping...":"Stop Run"})]})}),i.jsxs("div",{className:`${Z?"opacity-30":""}`,children:[i.jsx("h2",{className:"text-2xl font-semibold text-sky-400 mb-2 truncate",children:X.name}),i.jsxs("p",{className:"text-slate-400 mb-1 text-sm",children:["Author: ",X.author]}),i.jsx("p",{className:"text-slate-300 mb-4 line-clamp-3 h-16",children:X.description}),X.projectVariables&&X.projectVariables.length>0&&i.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Project Variables: ",X.projectVariables.length]}),Q&&X.id===(O==null?void 0:O.id)&&i.jsx("p",{className:"text-xs text-red-400 mt-1 mb-2 animate-pulse",children:Q})]}),i.jsxs("div",{className:`mt-auto ${Z?"opacity-30":""}`,children:[i.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Last updated: ",new Date(X.updatedAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:()=>ue(X),disabled:M||S,title:M?"Run unavailable for projects with Question nodes":S&&!Z?"Another project is running":`Run project ${X.name}`,className:`flex-1 rounded-md px-4 py-2 text-center text-white flex items-center justify-center ${M||S&&!Z?"bg-green-800 text-slate-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,"aria-label":M?"Run disabled for this project":`Run project ${X.name}`,children:[i.jsx("i",{className:"fas fa-play mr-2"}),"Run"]}),i.jsx(xs,{to:`/project/${X.id}`,className:`flex-1 rounded-md bg-sky-600 px-4 py-2 text-center text-white hover:bg-sky-700 ${S?"opacity-50 cursor-not-allowed pointer-events-none":""}`,onClick:H=>{S&&H.preventDefault()},children:"Open"}),i.jsx("button",{onClick:H=>{H.stopPropagation(),se(X)},disabled:S,className:`rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 ${S?"opacity-50 cursor-not-allowed":""}`,"aria-label":`Export project ${X.name}`,children:i.jsx("i",{className:"fas fa-download"})}),i.jsx("button",{onClick:H=>{H.stopPropagation(),g({isOpen:!0,projectId:X.id,projectName:X.name})},disabled:S,className:`rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700 ${S?"opacity-50 cursor-not-allowed":""}`,"aria-label":`Delete project ${X.name}`,children:i.jsx("i",{className:"fas fa-trash"})})]})]})]},X.id)})}),i.jsx(Iu,{isOpen:N.isOpen,onClose:()=>g({isOpen:!1,projectId:null,projectName:null}),onConfirm:ae,title:"Confirm Delete Project",message:i.jsxs(i.Fragment,{children:['Are you sure you want to delete project "',i.jsx("strong",{children:N.projectName}),'"? This cannot be undone.']}),confirmText:"Delete"}),i.jsx(Cx,{isOpen:h.isOpen,onClose:()=>v({isOpen:!1,projectJson:"",projectName:""}),projectJson:h.projectJson,projectName:h.projectName}),i.jsx(Ox,{isOpen:T,onClose:()=>{E(!1),y(null)},onImport:le,errorMessage:R}),i.jsx(ah,{isOpen:z,data:L,onClose:()=>{K(!1),U(null)}}),Q&&!O&&i.jsx(Iu,{isOpen:!!Q,onClose:()=>ee(null),onConfirm:()=>ee(null),title:"Run Error",message:Q,confirmText:"OK",confirmButtonClass:"bg-sky-600 hover:bg-sky-700"})]})},Rx=({value:u,onChange:c,isMaximized:d,placeholder:o,textareaId:m="code"})=>{const f=b.useRef(null),x=b.useRef(null);b.useEffect(()=>{if(x.current&&typeof hljs<"u"){const h=x.current.querySelector("code.language-javascript");if(h){h.hasAttribute("data-highlighted")&&h.removeAttribute("data-highlighted"),h.textContent=u||"";try{hljs.highlightElement(h)}catch(v){console.error("[JavaScriptEditor] Error during hljs.highlightElement call:",v),v instanceof Error&&v.message.toLowerCase().includes("circular structure")&&console.error('[JavaScriptEditor] The "circular structure" error likely occurred inside highlight.js itself, possibly when it tried to log an internal issue after failing to highlight.')}}else console.warn("[JavaScriptEditor] code.language-javascript element NOT found inside preRef.")}else x.current||console.warn("[JavaScriptEditor] preRef.current is null."),typeof hljs>"u"&&console.warn("[JavaScriptEditor] hljs is undefined. Highlighting will not work.")},[u,d]);const N=h=>{x.current&&f.current&&(x.current.scrollTop=h.currentTarget.scrollTop,x.current.scrollLeft=h.currentTarget.scrollLeft)},g=h=>{c(h.target.value)};return i.jsxs("div",{className:`js-editor-container mt-1 shadow-sm ${d?"flex-grow min-h-[200px]":"min-h-[150px] max-h-96"}`,children:[i.jsx("pre",{ref:x,className:"js-editor-highlight-layer custom-scroll","aria-hidden":"true",children:i.jsx("code",{className:"language-javascript hljs"})}),i.jsx("textarea",{ref:f,name:m,id:m,value:u,onChange:g,placeholder:o,className:"js-editor-input-layer custom-scroll",spellCheck:"false",onScroll:N})]})},Mx=({branches:u,allNodes:c,onBranchChange:d,onAddBranch:o,onRemoveBranch:m})=>{const f=c;return i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"text-md font-medium",children:"Branches (Conditions & Next Nodes)"}),u.map((x,N)=>i.jsxs("div",{className:"rounded-md border border-slate-600 p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",placeholder:"Condition (e.g., contains 'YES', default)",value:x.condition,onChange:g=>d(N,"condition",g.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Condition for branch ${N+1}`}),i.jsx("button",{onClick:()=>m(N),className:"text-red-500 hover:text-red-400 p-1 rounded-full hover:bg-slate-700","aria-label":`Remove branch ${N+1}`,title:`Remove branch ${N+1}`,children:i.jsx("i",{className:"fas fa-trash"})})]}),i.jsxs("select",{value:x.nextNodeId||"",onChange:g=>d(N,"nextNodeId",g.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Next node for branch ${N+1}`,children:[i.jsx("option",{value:"",children:"None (End branch)"}),f.map(g=>i.jsx("option",{value:g.id,children:g.name||`${g.type} (${g.id.substring(0,4)})`},g.id))]})]},x.id)),i.jsxs("button",{onClick:o,className:"rounded bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[i.jsx("i",{className:"fas fa-plus mr-2"})," Add Branch"]})]})},Lx=({parallelNextNodeIds:u,allNodes:c,onNodeIdChange:d,onAddPath:o,onRemovePath:m,maxPaths:f})=>{const x=c,N=Math.min(f,u.length+(u.length<f?1:0)),g=u.filter(h=>h&&h.trim()!=="");return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-md font-medium",children:["Parallel Next Nodes (up to ",f,")"]}),i.jsx("p",{className:"text-xs text-slate-400 -mt-2 mb-2",children:"The output of this Parallel node will be sent to each selected node simultaneously."}),Array.from({length:N}).map((h,v)=>{const T=u[v]||"";return v>=u.length&&v>=f?null:i.jsx("div",{className:"rounded-md border border-slate-600 p-3 space-y-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:T,onChange:E=>d(v,E.target.value||null),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Next node for parallel path ${v+1}`,children:[i.jsx("option",{value:"",children:"None (Remove/End Path)"}),x.map(E=>{const R=g.includes(E.id)&&T!==E.id;return i.jsxs("option",{value:E.id,disabled:R,title:R?"Already selected in another path":"",children:[E.name||`${E.type} (${E.id.substring(0,4)})`," ",R?"(Selected)":""]},E.id)})]}),(T||v<u.length)&&(v<u.length||T===""&&v<N)&&i.jsx("button",{onClick:()=>m(v),className:"text-red-500 hover:text-red-400 p-1 rounded-full hover:bg-slate-700","aria-label":`Remove parallel path ${v+1}`,title:`Remove parallel path ${v+1}`,children:i.jsx("i",{className:"fas fa-trash"})})]})},`parallel-path-${v}`)}),u.length<f&&N<=u.length&&i.jsxs("button",{onClick:o,className:"rounded bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[i.jsx("i",{className:"fas fa-plus mr-2"})," Add Path"]}),u.length>=f&&i.jsxs("p",{className:"text-xs text-slate-400",children:["Maximum ",f," parallel paths reached."]})]})},Dx=({node:u,isOpen:c,onClose:d,onSave:o,allNodes:m})=>{const[f,x]=b.useState(null),[N,g]=b.useState(!0),[h,v]=b.useState(!1),T=gs();b.useEffect(()=>{if(u){const M=wt(u);M.type===A.CONCLUSION&&(!M.outputFormatTemplate||M.outputFormatTemplate.trim()==="")&&(M.outputFormatTemplate="{PREVIOUS_OUTPUT}"),M.type===A.VARIABLE&&(M.name=ft(M.name)),M.type===A.JAVASCRIPT&&M.code===void 0&&(M.code=""),M.type===A.PARALLEL&&!Array.isArray(M.parallelNextNodeIds)&&(M.parallelNextNodeIds=[]),x(M),E(M)}else x(null),g(!0);v(!1)},[u,c]);const E=M=>{var S,H,D,$,ie;if(!M){g(!0);return}let Z=!((S=M.name)!=null&&S.trim());M.type===A.VARIABLE?Z=Z||M.name!==ft(M.name)||!M.name.trim():M.type===A.CONCLUSION?Z=Z||!((H=M.prompt)!=null&&H.trim())||!((D=M.outputFormatTemplate)!=null&&D.trim()):M.type===A.JAVASCRIPT?Z=Z||!(($=M.code)!=null&&$.trim()):M.type===A.PARALLEL||M.type===A.SYNCHRONIZE||(Z=Z||!((ie=M.prompt)!=null&&ie.trim())),g(Z)},R=M=>{const{name:Z,value:S}=M.target;x(H=>{if(!H)return null;let D=S;Z==="name"&&H.type===A.VARIABLE&&(D=ft(S));const $={...H,[Z]:D};return E($),$})},y=M=>{x(Z=>{if(!Z||Z.type!==A.JAVASCRIPT)return Z;const S={...Z,code:M};return E(S),S})},O=()=>{if(f&&!N){let M={...f};if(M.type===A.VARIABLE&&M.name&&(M.name=ft(M.name),!M.name.trim())||(M.type===A.CONCLUSION&&(!M.outputFormatTemplate||M.outputFormatTemplate.trim()==="")&&(M.outputFormatTemplate="{PREVIOUS_OUTPUT}"),M.type===A.JAVASCRIPT&&(M.code===void 0||!M.code.trim())))return;M.type===A.PARALLEL&&(M.parallelNextNodeIds=(M.parallelNextNodeIds||[]).filter(Z=>Z&&Z.trim()!=="")),o(M),v(!1),d()}},k=(M,Z,S)=>{x(H=>{if(!H||!H.branches)return H;const D=[...H.branches];D[M]={...D[M],[Z]:S||null};const $={...H,branches:D};return E($),$})},L=()=>{x(M=>{if(!M)return M;const Z=[...M.branches||[],{id:de(),condition:"",nextNodeId:null}],S={...M,branches:Z};return E(S),S})},U=M=>{x(Z=>{if(!Z||!Z.branches)return Z;const S=Z.branches.filter((D,$)=>$!==M),H={...Z,branches:S};return E(H),H})},z=(M,Z)=>{x(S=>{if(!S||S.type!==A.PARALLEL)return S;const H=[...S.parallelNextNodeIds||[]];Z===null||Z===""?M<H.length&&H.splice(M,1):M<H.length?H[M]=Z:H.push(Z);const D=Array.from(new Set(H.filter(ie=>ie&&ie.trim()!==""))),$={...S,parallelNextNodeIds:D};return E($),$})},K=()=>{x(M=>{if(!M||M.type!==A.PARALLEL)return M;const Z=M.parallelNextNodeIds||[];if(Z.length>=Tm)return M;const S={...M,parallelNextNodeIds:[...Z,""]};return E(S),S})},Q=M=>{x(Z=>{if(!Z||Z.type!==A.PARALLEL||!Z.parallelNextNodeIds)return Z;const S=Z.parallelNextNodeIds.filter((D,$)=>$!==M),H={...Z,parallelNextNodeIds:S};return E(H),H})},ee=()=>{(f==null?void 0:f.type)===A.JAVASCRIPT&&!T&&v(M=>!M)};if(!c||!f)return null;const F=m.filter(M=>M.id!==f.id&&M.type!==A.START),te=f.type===A.START||f.type===A.PROMPT||f.type===A.CONDITIONAL||f.type===A.CONCLUSION||f.type===A.QUESTION,G=f.type===A.VARIABLE||f.type===A.JAVASCRIPT||f.type===A.PARALLEL||f.type===A.SYNCHRONIZE,Y=f.type===A.CONCLUSION?"Display Title":f.type===A.QUESTION?"Question for User (use {PREVIOUS_OUTPUT} or {varName} for context)":"Prompt (use {PREVIOUS_OUTPUT} or {varName})",ae=f.type===A.VARIABLE?"Variable Description (Optional)":f.type===A.JAVASCRIPT?"Function Description (Optional)":f.type===A.PARALLEL?"Parallel Node Description (Optional)":f.type===A.SYNCHRONIZE?"Synchronize Node Description (Optional)":"Description",se=f.type===A.CONCLUSION?"Enter a title for the displayed output":f.type===A.QUESTION?"Enter the question to ask the user":"Enter the LLM prompt here...",le=f.type===A.VARIABLE?"Describe what this variable represents":f.type===A.JAVASCRIPT?"Describe what this JavaScript function does":f.type===A.PARALLEL?"Describe the purpose of this parallel split":f.type===A.SYNCHRONIZE?"Describe when this synchronization occurs":"Enter a description...",ue=f.type===A.JAVASCRIPT&&!T,ce=f.type===A.VARIABLE?"Variable Name":f.type===A.JAVASCRIPT?"Function Name":f.type===A.PARALLEL?"Parallel Node Name":f.type===A.SYNCHRONIZE?"Synchronize Node Name":"Node Name",V=f.type===A.VARIABLE?"e.g., customer_name":f.type===A.JAVASCRIPT?"e.g., processUserData":f.type===A.PARALLEL?"e.g., ProcessInParallel":f.type===A.SYNCHRONIZE?"e.g., WaitForAllTasks":"Enter a descriptive name",X=i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:O,disabled:N,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${N?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:"Save Node"}),i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{d(),v(!1)},children:"Close"})]});return i.jsx(Gt,{isOpen:c,onClose:()=>{d(),v(!1)},title:`Edit Node: ${f.name||f.type}`,isMaximized:h,onToggleMaximize:ue?ee:void 0,footerContent:X,children:i.jsxs("div",{className:`space-y-4 text-slate-300 ${h&&f.type===A.JAVASCRIPT?"flex flex-col h-full":""}`,children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:ce}),i.jsx("input",{type:"text",name:"name",id:"name",value:f.name,onChange:R,placeholder:V,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),f.type===A.VARIABLE&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Use only letters, numbers, and underscores (e.g., my_variable_1)."}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["This name will be used in curly braces, like ","{"+(ft(f.name)||"variableName")+"}",", in other nodes' prompts."]})]})]}),te&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium",children:Y}),i.jsx("textarea",{name:"prompt",id:"prompt",rows:f.type===A.CONCLUSION||f.type===A.QUESTION?2:4,value:f.prompt,onChange:R,placeholder:se,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),f.type===A.CONCLUSION&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This title will appear above the final output displayed by this node."}),f.type===A.QUESTION&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This question will be shown to the user during the run. Their input becomes the output of this node."})]}),G&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium",children:ae}),i.jsx("textarea",{name:"prompt",id:"description",rows:2,value:f.prompt,onChange:R,placeholder:le,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This description is for your reference only."})]}),f.type===A.JAVASCRIPT&&i.jsxs("div",{className:`mt-2 ${h?"flex-grow flex flex-col":""}`,children:[i.jsx("label",{htmlFor:"code",className:"block text-sm font-medium",children:"JavaScript Code (Async Function Body)"}),i.jsx(Rx,{value:f.code||"",onChange:y,isMaximized:h,placeholder:`// async function(previousOutput, nodeVariables, projectVariables) { 
//  Write your JS code here...
//  return "some value";
// }`,textareaId:"code"}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Access ",i.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"previousOutput"}),", ",i.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"nodeVariables"})," (object), ",i.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"projectVariables"})," (object). Return a string."]})]}),f.type===A.CONCLUSION&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"outputFormatTemplate",className:"block text-sm font-medium",children:["Output Formatting (use ","{PREVIOUS_OUTPUT}",")"]}),i.jsx("textarea",{name:"outputFormatTemplate",id:"outputFormatTemplate",rows:2,value:f.outputFormatTemplate||"",onChange:R,placeholder:"Default: {PREVIOUS_OUTPUT}",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Define how the final output is displayed. ","{PREVIOUS_OUTPUT}"," will be replaced by the input to this node. You can also use project variables (e.g., ","{project_var}","), node variables (e.g., ","{node_var}","), and system variables (e.g., ","{CurrentDateTime}",")."]})]}),(f.type===A.PROMPT||f.type===A.START||f.type===A.VARIABLE||f.type===A.QUESTION||f.type===A.JAVASCRIPT||f.type===A.SYNCHRONIZE)&&i.jsxs("div",{className:`${h&&f.type===A.JAVASCRIPT?"mt-auto pt-4":""}`,children:[i.jsx("label",{htmlFor:"nextNodeId",className:"block text-sm font-medium",children:"Next Node"}),i.jsxs("select",{name:"nextNodeId",id:"nextNodeId",value:f.nextNodeId||"",onChange:R,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[i.jsx("option",{value:"",children:"None (End of workflow path)"}),F.map(M=>i.jsx("option",{value:M.id,children:M.name||`${M.type} (${M.id.substring(0,4)})`},M.id))]})]}),f.type===A.PARALLEL&&i.jsx(Lx,{parallelNextNodeIds:f.parallelNextNodeIds||[],allNodes:F,onNodeIdChange:z,onAddPath:K,onRemovePath:Q,maxPaths:Tm}),f.type===A.CONDITIONAL&&f.branches&&i.jsx(Mx,{branches:f.branches,allNodes:F,onBranchChange:k,onAddBranch:L,onRemoveBranch:U}),f.lastRunOutput&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Last Run Output:"}),i.jsx("pre",{className:"mt-1 block w-full rounded-md bg-slate-600 p-2 text-xs text-slate-200 custom-scroll whitespace-pre-wrap break-all max-h-32 overflow-y-auto",children:f.lastRunOutput})]})]})})},Ux=({project:u,isOpen:c,onClose:d,onSave:o})=>{const[m,f]=b.useState(""),[x,N]=b.useState(""),[g,h]=b.useState(""),[v,T]=b.useState([]),[E,R]=b.useState(!1);b.useEffect(()=>{u&&c&&(f(u.name),N(u.description),h(u.author),T(u.projectVariables?[...u.projectVariables.map(z=>({...z,name:ft(z.name)}))]:[]))},[u,c]),b.useEffect(()=>{let z=!m.trim();v.forEach(K=>{(!K.name.trim()||K.name!==ft(K.name))&&(z=!0)}),R(z)},[m,v]);const y=(z,K,Q)=>{T(ee=>{const F=[...ee];return K==="name"?F[z]={...F[z],[K]:ft(Q)}:F[z]={...F[z],[K]:Q},F})},O=()=>{T(z=>[...z,{id:de(),name:"",value:""}])},k=z=>{T(K=>K.filter(Q=>Q.id!==z))},L=()=>{if(E)return;const z=v.map(K=>({...K,name:ft(K.name)})).filter(K=>K.name.trim()!=="");o({name:m,description:x,author:g,projectVariables:z}),d()};if(!c||!u)return null;const U=i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:L,disabled:E,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${E?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:E?"Cannot Save (Check Fields)":"Save Settings"}),i.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:d,children:"Close"})]});return i.jsx(Gt,{isOpen:c,onClose:d,title:"Project Settings",widthClass:"sm:max-w-xl",footerContent:U,children:i.jsxs("div",{className:"space-y-6 text-slate-300",children:[i.jsxs("section",{children:[i.jsx("h4",{className:"text-md font-semibold text-sky-400 mb-2",children:"Basic Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium",children:"Project Name *"}),i.jsx("input",{type:"text",id:"projectName",value:m,onChange:z=>f(z.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"projectDescription",className:"block text-sm font-medium",children:"Description"}),i.jsx("textarea",{id:"projectDescription",value:x,onChange:z=>N(z.target.value),rows:3,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"projectAuthor",className:"block text-sm font-medium",children:"Author"}),i.jsx("input",{type:"text",id:"projectAuthor",value:g,onChange:z=>h(z.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]})]})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-md font-semibold text-sky-400 mb-2",children:"Project-Wide Variables"}),i.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:["Define variables accessible throughout your project (e.g., ",i.jsx("code",{className:"bg-slate-700 p-0.5 rounded text-xs",children:"{my_project_var}"}),")."]}),i.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Use only letters, numbers, and underscores for names. Node-specific variables will override these if names conflict."}),i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scroll pr-2",children:v.map((z,K)=>i.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-700 rounded-md",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:`varName-${z.id}`,className:"sr-only",children:"Variable Name"}),i.jsx("input",{type:"text",id:`varName-${z.id}`,placeholder:"Variable Name (e.g., api_version)",value:z.name,onChange:Q=>y(K,"name",Q.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-650 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm placeholder-slate-400"}),(z.name!==ft(z.name)||!z.name.trim())&&c&&i.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Name must be alphanumeric (plus underscore) and cannot be empty."})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:`varValue-${z.id}`,className:"sr-only",children:"Variable Value"}),i.jsx("input",{type:"text",id:`varValue-${z.id}`,placeholder:"Variable Value",value:z.value,onChange:Q=>y(K,"value",Q.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-650 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm placeholder-slate-400"})]}),i.jsx("button",{onClick:()=>k(z.id),className:"p-2 text-red-500 hover:text-red-400 rounded-md hover:bg-slate-600","aria-label":"Delete variable",children:i.jsx("i",{className:"fas fa-trash"})})]},z.id))}),i.jsxs("button",{onClick:O,className:"mt-3 rounded-md bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[i.jsx("i",{className:"fas fa-plus mr-2"}),"Add Variable"]})]})]})})},_x=({runHistory:u,isOpen:c,onClose:d})=>i.jsx(Gt,{isOpen:c,onClose:d,title:"Project Run History",widthClass:"sm:max-w-4xl",children:i.jsxs("div",{className:"max-h-[70vh] overflow-y-auto space-y-4 custom-scroll",children:[u.length===0&&i.jsx("p",{className:"text-slate-400",children:"No runs recorded yet."}),u.slice().reverse().map(o=>i.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[i.jsxs("div",{className:"mb-2 flex flex-wrap justify-between items-center text-sm text-slate-400 gap-x-4 gap-y-1",children:[i.jsxs("span",{children:["Run ID: ",o.id.substring(0,6)]}),i.jsxs("span",{children:["Status: ",i.jsx("span",{className:`font-semibold ${o.status==="completed"?"text-green-400":o.status==="running"?"text-yellow-400":o.status==="stopped"?"text-orange-400":"text-red-400"}`,children:o.status})]}),i.jsx("span",{children:new Date(o.timestamp).toLocaleString()}),o.durationMs!==void 0&&i.jsxs("span",{children:["Duration: ",(o.durationMs/1e3).toFixed(2),"s"]}),o.totalTokensUsed!==void 0&&i.jsxs("span",{children:["Tokens: ",o.totalTokensUsed]})]}),o.steps.map(m=>i.jsxs("details",{className:"mb-2 rounded bg-slate-700 p-2",children:[i.jsxs("summary",{className:"cursor-pointer font-medium text-slate-200",children:["Node: ",m.nodeName||m.nodeId," ",m.error?i.jsx("span",{className:"text-red-400",children:"(Error)"}):"",m.tokensUsed!==void 0&&i.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["(",m.tokensUsed," tokens)"]})]}),i.jsxs("div",{className:"mt-2 space-y-1 pl-4 text-xs text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Prompt:"})," ",i.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:m.promptSent})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Response:"})," ",i.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:m.responseReceived})]}),m.error&&i.jsxs("p",{children:[i.jsx("strong",{children:"Error:"})," ",i.jsx("span",{className:"text-red-300",children:m.error})]})]})]},m.nodeId+m.timestamp)),o.finalOutput&&!o.error&&i.jsxs("p",{className:"mt-2 text-sm",children:[i.jsx("strong",{children:"Final Output:"})," ",o.finalOutput]}),o.error&&i.jsxs("p",{className:"mt-2 text-sm text-red-400",children:[i.jsx("strong",{children:"Run Error:"})," ",o.error]})]},o.id))]})}),zx=({isOpen:u,onClose:c})=>i.jsx(Gt,{isOpen:u,onClose:c,title:"Help & Instructions",widthClass:"sm:max-w-2xl",children:i.jsxs("div",{className:"space-y-4 text-slate-300 max-h-[70vh] overflow-y-auto custom-scroll pr-2",children:[i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Getting Started"}),i.jsx("p",{children:"This application allows you to create interactive workflows for Large Language Models (LLMs) like OpenAI's ChatGPT or local models via Ollama."}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-1",children:[i.jsx("li",{children:"Create a new project or open an existing one."}),i.jsx("li",{children:'In "Project Settings", you can define **Project-Wide Variables**.'}),i.jsx("li",{children:"Add nodes (Start, Prompt, Conditional, Variable, Question, JavaScript, Parallel, Synchronize, Conclusion) to the canvas."}),i.jsx("li",{children:'Configure nodes, link them, and set up your LLM provider in "App Settings".'}),i.jsx("li",{children:"Run your project and review results!"})]})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Node Types"}),i.jsxs("ul",{className:"space-y-1.5",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Start Node:"})," Entry point. Its prompt is sent to the LLM."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Prompt Node:"})," Sends a prompt to LLM. Uses ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"})," and ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Conditional Node:"})," Directs flow based on LLM output to its prompt."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Variable Node:"})," Stores input as ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"})," for later use."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Question Node:"})," Asks user for input, which becomes its output."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"JavaScript Node:"})," Executes custom JavaScript code.",i.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[i.jsxs("li",{children:[`Provide JavaScript code in the node's "Code" field. This code is the body of an `,i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"async"})," function."]}),i.jsxs("li",{children:["The function signature is effectively: ",i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"async function(previousOutput, nodeVariables, projectVariables)"}),"."]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"previousOutput"}),": (string) The output from the preceding node."]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"nodeVariables"}),": (object) Key-value pairs from `Variable` nodes (e.g., `nodeVariables.myVar`)."]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"projectVariables"}),": (object) Key-value pairs from Project Settings (e.g., `projectVariables.apiKey`)."]}),i.jsxs("li",{children:["Your code must ",i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"return"})," a value. This value will be converted to a string and become the output of this node."]}),i.jsxs("li",{children:["Example: ",i.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"return `Processed: ${previousOutput} - User: ${projectVariables.user_name || 'N/A'}`;"})]}),i.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parallel Node:"})," Splits the workflow into multiple concurrent paths.",i.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[i.jsx("li",{children:'Select up to 4 "Next Nodes" in its settings.'}),i.jsx("li",{children:'The input to the Parallel node is passed as input to each of these selected "Next Nodes."'}),i.jsx("li",{children:'When executed, it increments a global "parallel path counter" by the number of its branches.'}),i.jsx("li",{children:'Each selected "Next Node" starts a new execution path that runs concurrently.'}),i.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Synchronize Node:"})," Waits for all globally active parallel branches to complete.",i.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[i.jsx("li",{children:'When a path reaches a Synchronize node, it decrements the global "parallel path counter".'}),i.jsx("li",{children:"The path then pauses, waiting for this global counter to become zero."}),i.jsx("li",{children:"Once the counter is zero (indicating all branches initiated by Parallel nodes, and not yet concluded or synchronized, have finished), this path resumes."}),i.jsx("li",{children:'Upon resuming, it outputs the fixed string "continue". Outputs from the arriving branches are logged but not merged into this output.'}),i.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Conclusion Node:"})," Displays final output and signals the end of a path.",i.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[i.jsx("li",{children:'When reached, it decrements the global "parallel path counter".'}),i.jsx("li",{children:"It then displays its configured output."})]})]})]})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Using Placeholders & Variables"}),i.jsx("p",{children:"In Start, Prompt, Conditional Node prompts, Question Node questions, and Conclusion Node output templates, you can use placeholders. JavaScript nodes access these differently (see above)."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[i.jsxs("li",{children:[i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"}),": Output from the direct predecessor."]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"}),": Value from a Project-Wide Variable or a Variable Node."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"System Variables"})," (e.g., ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{CurrentDateTime}"}),", ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{LLMModel}"}),") are also available."]})]})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Conditional Node Branching"}),i.jsxs("p",{children:["Uses LLM output to choose path. Conditions: Exact match, ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"contains 'keyword'"}),", ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"starts with 'prefix'"}),", or ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"default"}),"."]})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Execution Panel"}),i.jsx("p",{children:"Shows real-time run information: current node, logs (status, output, tokens), total duration, and tokens used. For parallel executions, logs may interleave."})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsxs("section",{children:[i.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"API Keys & Security"}),i.jsx("p",{children:"ChatGPT API keys are stored in browser local storage (insecure for production). JavaScript Node code is executed client-side; be cautious with untrusted code/projects."})]}),i.jsx("hr",{className:"border-slate-700"}),i.jsx("section",{children:i.jsxs("details",{children:[i.jsx("summary",{className:"text-lg font-semibold text-sky-400 mb-2 cursor-pointer hover:text-sky-300",children:"Licenses"}),i.jsxs("div",{className:"space-y-3 mt-1 pl-2 text-sm",children:[i.jsx("p",{children:"This project utilizes the following open-source libraries and resources:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1.5",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"React & React DOM:"}),i.jsx("a",{href:"https://react.dev/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",i.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"React Router DOM:"}),i.jsx("a",{href:"https://reactrouter.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",i.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Tailwind CSS:"}),i.jsx("a",{href:"https://tailwindcss.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",i.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Font Awesome:"}),i.jsx("a",{href:"https://fontawesome.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - See ",i.jsx("a",{href:"https://fontawesome.com/license/free",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"Font Awesome Free License"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Highlight.js:"}),i.jsx("a",{href:"https://highlightjs.org/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",i.jsx("a",{href:"/licenses/BSD-3-Clause.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"BSD 3-Clause License"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"@google/genai (Google Gemini API SDK):"}),i.jsx("a",{href:"https://github.com/google/generative-ai-js",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Repository"})," - Licensed under the ",i.jsx("a",{href:"/licenses/Apache-2.0.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"Apache 2.0 License"}),"."]})]}),i.jsxs("p",{className:"text-xs mt-3",children:["Full license texts are available via the links above. Copies of MIT, BSD 3-Clause, and Apache 2.0 licenses are also included in the application's ",i.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"/licenses"})," directory."]})]})]})})]})}),kx=({isOpen:u,onClose:c,onSaveAndClose:d,onCloseWithoutSaving:o})=>{if(!u)return null;const m=i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:d,className:"inline-flex w-full justify-center rounded-md bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Save & Close"}),i.jsx("button",{onClick:o,className:"mt-3 inline-flex w-full justify-center rounded-md bg-yellow-500 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close without Saving"}),i.jsx("button",{onClick:c,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]});return i.jsx(Gt,{isOpen:u,onClose:c,title:"Unsaved Changes",footerContent:m,children:i.jsx("p",{className:"text-slate-300",children:"You have unsaved changes. What would you like to do?"})})},Hx=({logs:u,currentExecutingNodeId:c,nodes:d,runStartTime:o,runEndTime:m,totalTokensThisRun:f,isOpen:x,onToggle:N,currentProjectName:g})=>{const h=b.useRef(null),v=gs();b.useEffect(()=>{x&&h.current&&(h.current.scrollTop=h.current.scrollHeight)},[u,x]);const T=L=>{if(!L)return"-";try{const U=new Date(L),z=U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),K=U.getMilliseconds().toString().padStart(3,"0");return`${z}.${K}`}catch{const z=new Date(L);return`${z.getHours()}:${z.getMinutes()}:${z.getSeconds()}`}},E=L=>{switch(L){case"running":return"text-yellow-400";case"completed":return"text-green-400";case"failed":return"text-red-400";case"skipped":return"text-slate-500";default:return"text-slate-300"}},R=c?d.find(L=>L.id===c):null,y=o&&m?((m-o)/1e3).toFixed(2)+"s":o?"Running...":"-",O=x?v?"max-h-48 sm:max-h-72":"max-h-72":"max-h-12 hover:max-h-14",k=v?"max-h-[calc(12rem-3rem)] sm:max-h-[calc(18rem-3rem)]":"max-h-[calc(18rem-3rem)]";return i.jsxs("div",{className:`bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700 shadow-2xl z-20 transition-all duration-300 ease-in-out ${O} overflow-hidden ${v?"sticky":"fixed"}`,children:[i.jsxs("div",{className:"flex justify-between items-center p-2 px-3 sm:px-4 cursor-pointer bg-slate-750 hover:bg-slate-700",onClick:N,children:[i.jsxs("h3",{className:"text-sm sm:text-md font-semibold text-slate-100 truncate",children:["Exec: ",g.substring(0,v?10:20),v&&g.length>10?"...":""," ",R?`(Running: ${R.name.substring(0,v?5:10)||"Node"})`:o&&!m?"(Running...)":m?"(Fin)":"(Idle)"]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 text-slate-300 text-xs sm:text-sm flex-shrink-0",children:[o&&i.jsxs("span",{className:"truncate",children:["Dur: ",y]}),f>0&&i.jsxs("span",{className:"truncate",children:["Tokens: ",f]}),i.jsx("button",{className:"text-slate-300 hover:text-white p-1",children:i.jsx("i",{className:`fas ${x?"fa-chevron-down":"fa-chevron-up"}`})})]})]}),x&&i.jsxs("div",{ref:h,className:`p-2 sm:p-4 ${k} overflow-y-auto custom-scroll space-y-2 text-xs sm:text-sm`,children:[u.length===0&&i.jsx("p",{className:"text-slate-400",children:"No execution data for this run yet."}),u.map((L,U)=>i.jsxs("div",{className:"p-1.5 sm:p-2 bg-slate-700 rounded-md",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:`font-semibold ${E(L.status)}`,children:[L.nodeName||L.nodeId," - ",L.status.toUpperCase()]}),i.jsxs("span",{className:"text-xs text-slate-400",children:[T(L.startTime)," - ",L.endTime?T(L.endTime):"..."]})]}),L.output&&i.jsx("pre",{className:"mt-1 text-xs bg-slate-600 p-1 rounded whitespace-pre-wrap break-all max-h-16 sm:max-h-20 overflow-y-auto custom-scroll",children:L.output}),L.error&&i.jsxs("p",{className:"mt-1 text-xs text-red-300",children:["Error: ",L.error]}),L.tokensUsed!==void 0&&i.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Tokens: ",L.tokensUsed]})]},U))]})]})},Ix=({isSidebarOpen:u,toggleSidebar:c,onAddNode:d,onOpenProjectSettingsModal:o,onOpenRunHistoryModal:m,projectRunHistoryCount:f,onCloseProject:x,isWorkflowRunning:N,onOpenHelpModal:g})=>{const h=gs(),v="w-full rounded px-3 py-2 text-sm text-white text-left flex items-center",T="mb-2",E="bg-slate-700 hover:bg-slate-600 text-slate-200 mb-2",R="bg-red-700 hover:bg-red-600 text-white",y="mr-2 sm:mr-3";return h?i.jsxs(i.Fragment,{children:[u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 sm:hidden",onClick:c,"aria-hidden":"true"}),i.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-slate-800 shadow-xl flex flex-col custom-scroll transition-transform duration-300 ease-in-out z-40
                      ${u?"translate-x-0 w-64 p-4 space-y-3":"-translate-x-full w-64 p-4 space-y-3"}`,children:[i.jsx("button",{onClick:c,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500 self-end mb-2","aria-label":"Close sidebar",children:i.jsx("i",{className:"fas fa-times fa-lg"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Node Tools"}),i.jsxs("button",{onClick:()=>{d(A.PROMPT),c()},className:`${v} ${T} bg-sky-600 hover:bg-sky-700`,children:[i.jsx("i",{className:`fas fa-comment-dots ${y}`}),"Add Prompt"]}),i.jsxs("button",{onClick:()=>{d(A.CONDITIONAL),c()},className:`${v} ${T} bg-amber-600 hover:bg-amber-700`,children:[i.jsx("i",{className:`fas fa-code-branch ${y}`}),"Add Conditional"]}),i.jsxs("button",{onClick:()=>{d(A.VARIABLE),c()},className:`${v} ${T} bg-teal-600 hover:bg-teal-700`,children:[i.jsx("i",{className:`fas fa-database ${y}`}),"Add Variable"]}),i.jsxs("button",{onClick:()=>{d(A.QUESTION),c()},className:`${v} ${T} bg-cyan-600 hover:bg-cyan-700`,children:[i.jsx("i",{className:`fas fa-question ${y}`}),"Add Question"]}),i.jsxs("button",{onClick:()=>{d(A.JAVASCRIPT),c()},className:`${v} ${T} bg-purple-600 hover:bg-purple-700`,children:[i.jsx("i",{className:`fas fa-code ${y}`}),"Add JavaScript"]}),i.jsxs("button",{onClick:()=>{d(A.PARALLEL),c()},className:`${v} ${T} bg-rose-600 hover:bg-rose-700`,children:[i.jsx("i",{className:`fas fa-project-diagram ${y}`}),"Add Parallel"]}),i.jsxs("button",{onClick:()=>{d(A.SYNCHRONIZE),c()},className:`${v} ${T} bg-lime-600 hover:bg-lime-700`,children:[i.jsx("i",{className:`fas fa-hourglass-half ${y}`}),"Add Synchronize"]}),i.jsxs("button",{onClick:()=>{d(A.CONCLUSION),c()},className:`${v} ${T} bg-indigo-600 hover:bg-indigo-700`,children:[i.jsx("i",{className:`fas fa-flag-checkered ${y}`}),"Add Conclusion"]}),i.jsx("hr",{className:"border-slate-700 my-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Project Actions"}),i.jsxs("button",{onClick:()=>{o(),c()},className:`${v} ${E}`,children:[i.jsx("i",{className:`fas fa-sliders-h ${y}`}),"Project Settings"]}),i.jsxs("button",{onClick:()=>{m(),c()},className:`${v} ${E}`,children:[i.jsx("i",{className:`fas fa-history ${y}`}),"Run History (",f,")"]})]}),i.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[i.jsxs("button",{onClick:()=>{x(),c()},disabled:N,className:`${v} ${R} disabled:bg-slate-500 disabled:cursor-not-allowed`,children:[i.jsx("i",{className:`fas fa-times-circle ${y}`}),"Close Project"]}),i.jsxs("button",{onClick:()=>{g(),c()},className:`${v} ${E} bg-blue-600 hover:bg-blue-700`,children:[i.jsx("i",{className:`fas fa-question-circle ${y}`}),"Help"]})]})]})]}):i.jsxs("aside",{className:`bg-slate-800 shadow-xl flex flex-col custom-scroll transition-all duration-300 ease-in-out
                  ${u?"w-60 p-4 space-y-3":"w-0 p-0 opacity-0 overflow-hidden"}`,children:[u&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Node Tools"}),i.jsxs("button",{onClick:()=>d(A.PROMPT),className:`${v} ${T} bg-sky-600 hover:bg-sky-700`,children:[i.jsx("i",{className:`fas fa-comment-dots ${y}`}),"Add Prompt"]}),i.jsxs("button",{onClick:()=>d(A.CONDITIONAL),className:`${v} ${T} bg-amber-600 hover:bg-amber-700`,children:[i.jsx("i",{className:`fas fa-code-branch ${y}`}),"Add Conditional"]}),i.jsxs("button",{onClick:()=>d(A.VARIABLE),className:`${v} ${T} bg-teal-600 hover:bg-teal-700`,children:[i.jsx("i",{className:`fas fa-database ${y}`}),"Add Variable"]}),i.jsxs("button",{onClick:()=>d(A.QUESTION),className:`${v} ${T} bg-cyan-600 hover:bg-cyan-700`,children:[i.jsx("i",{className:`fas fa-question ${y}`}),"Add Question"]}),i.jsxs("button",{onClick:()=>d(A.JAVASCRIPT),className:`${v} ${T} bg-purple-600 hover:bg-purple-700`,children:[i.jsx("i",{className:`fas fa-code ${y}`}),"Add JavaScript"]}),i.jsxs("button",{onClick:()=>d(A.PARALLEL),className:`${v} ${T} bg-rose-600 hover:bg-rose-700`,children:[i.jsx("i",{className:`fas fa-project-diagram ${y}`}),"Add Parallel"]}),i.jsxs("button",{onClick:()=>d(A.SYNCHRONIZE),className:`${v} ${T} bg-lime-600 hover:bg-lime-700`,children:[i.jsx("i",{className:`fas fa-hourglass-half ${y}`}),"Add Synchronize"]}),i.jsxs("button",{onClick:()=>d(A.CONCLUSION),className:`${v} ${T} bg-indigo-600 hover:bg-indigo-700`,children:[i.jsx("i",{className:`fas fa-flag-checkered ${y}`}),"Add Conclusion"]}),i.jsx("hr",{className:"border-slate-700 my-4"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Project Actions"}),i.jsxs("button",{onClick:o,className:`${v} ${E}`,children:[i.jsx("i",{className:`fas fa-sliders-h ${y}`}),"Project Settings"]}),i.jsxs("button",{onClick:m,className:`${v} ${E}`,children:[i.jsx("i",{className:`fas fa-history ${y}`}),"Run History (",f,")"]})]}),i.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[i.jsxs("button",{onClick:x,disabled:N,className:`${v} ${R} disabled:bg-slate-500 disabled:cursor-not-allowed`,children:[i.jsx("i",{className:`fas fa-times-circle ${y}`}),"Close Project"]}),i.jsxs("button",{onClick:g,className:`${v} ${E} bg-blue-600 hover:bg-blue-700`,children:[i.jsx("i",{className:`fas fa-question-circle ${y}`}),"Help"]})]})]}),!h&&i.jsx("button",{onClick:c,className:"absolute top-1/2 -right-3 transform -translate-y-1/2 w-6 h-16 bg-slate-700 hover:bg-slate-600 text-white rounded-r-md flex items-center justify-center focus:outline-none",title:u?"Collapse Sidebar":"Expand Sidebar","aria-label":u?"Collapse Sidebar":"Expand Sidebar",style:{display:"flex"},children:i.jsx("i",{className:`fas ${u?"fa-chevron-left":"fa-chevron-right"}`})})]})},Bx=({scale:u,onZoomIn:c,onZoomOut:d,onReset:o,minScale:m=.25,maxScale:f=2})=>i.jsxs("div",{className:"absolute bottom-4 right-4 z-20 flex flex-col items-center space-y-2 p-2 bg-slate-700 bg-opacity-80 rounded-lg shadow-lg",children:[i.jsx("button",{onClick:c,disabled:u>=f,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom In",title:"Zoom In",children:i.jsx("i",{className:"fas fa-plus"})}),i.jsxs("div",{className:"text-xs text-slate-100 bg-slate-600 px-2 py-1 rounded-md w-full text-center cursor-pointer",onClick:o,title:"Reset Zoom (Current:)",children:[Math.round(u*100),"%"]}),i.jsx("button",{onClick:d,disabled:u<=m,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom Out",title:"Zoom Out",children:i.jsx("i",{className:"fas fa-minus"})})]}),Yx={[A.START]:"fas fa-play-circle",[A.PROMPT]:"fas fa-comment-dots",[A.CONDITIONAL]:"fas fa-code-branch",[A.VARIABLE]:"fas fa-database",[A.QUESTION]:"fas fa-question-circle",[A.JAVASCRIPT]:"fas fa-code",[A.PARALLEL]:"fas fa-project-diagram",[A.SYNCHRONIZE]:"fas fa-hourglass-half",[A.CONCLUSION]:"fas fa-flag-checkered"},Vx=({nodes:u,visualLinks:c,getLineToRectangleIntersectionPoint:d,scale:o,translate:m,editorAreaRef:f,canvasContentRef:x,onNodeMouseDown:N,onWheel:g,onCanvasMouseDown:h,zoomControls:v,onNodeTouchStart:T,onDeleteNodeRequest:E})=>{const R=y=>u.find(O=>O.id===y);return i.jsxs("main",{ref:f,className:"flex-1 bg-slate-850 p-0 relative overflow-hidden custom-scroll",style:{backgroundImage:`radial-gradient(${getComputedStyle(document.documentElement).getPropertyValue("--tw-colors-slate-700")||"#374151"} 1px, transparent 1px)`,backgroundSize:`${Jt}px ${Jt}px`,cursor:"grab"},onWheel:g,onMouseDown:h,children:[i.jsxs("div",{ref:x,className:"absolute top-0 left-0",style:{transform:`translate(${m.x}px, ${m.y}px) scale(${o})`,transformOrigin:"0 0"},children:[u.map(y=>{var K,Q;if(!y||typeof y.type!="string"||!Object.values(A).includes(y.type))return i.jsx("div",{className:"absolute rounded-lg shadow-xl p-3 border-2 border-red-700 bg-red-900 text-white flex flex-col justify-center items-center text-xs",style:{left:((K=y==null?void 0:y.position)==null?void 0:K.x)||0,top:((Q=y==null?void 0:y.position)==null?void 0:Q.y)||0,width:da,height:ma,boxSizing:"border-box"},children:i.jsx("p",{className:"font-bold mb-1",children:"Error: Invalid Node"})},(y==null?void 0:y.id)||`invalid-node-${Math.random().toString(36).substr(2,9)}`);const O=Om[y.type]||Om.PROMPT,k=y.isRunning?"border-purple-500 animate-pulse":y.hasError?"border-red-500":"border-transparent",L=`${O} ${k}`;let U=y.name||y.type;y.type===A.CONCLUSION?U+=`: ${y.prompt||ds}`:y.type===A.VARIABLE?U+=`: Stores as {${y.name}}`:y.type===A.QUESTION?U+=`: ${y.prompt||hr}`:y.type===A.JAVASCRIPT?U+=`: JS Function (${y.prompt||"No description"})`:y.type===A.PARALLEL?U+=`: ${y.prompt||Hu}`:y.type===A.SYNCHRONIZE?U+=`: ${y.prompt||pr}`:U+=`: ${y.prompt||"(No prompt)"}`;const z=Yx[y.type]||"fas fa-cog";return i.jsxs("div",{className:`node-${y.id} absolute rounded-lg shadow-xl p-3 border-2 ${L} transition-all duration-150 cursor-grab flex flex-col justify-between items-center`,style:{left:y.position.x,top:y.position.y,width:da,height:ma},onMouseDown:ee=>N(y.id,ee),onTouchStart:ee=>T(y.id,ee),title:U,children:[i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[i.jsxs("div",{className:"flex items-center overflow-hidden",children:[i.jsx("i",{className:`${z} text-white mr-2 text-base`,"aria-hidden":"true"}),i.jsx("h4",{className:"font-bold text-sm text-white truncate",children:y.name||y.type.charAt(0).toUpperCase()+y.type.slice(1).toLowerCase().replace("_"," ")})]}),y.type!==A.START&&i.jsx("button",{className:"node-delete-button text-red-300 hover:text-red-100 text-xs p-0.5 rounded-full hover:bg-red-500/50 z-10","aria-label":`Delete node ${y.name||y.type}`,onMouseDown:ee=>ee.stopPropagation(),onTouchStart:ee=>ee.stopPropagation(),onClick:ee=>E(y.id,ee),children:i.jsx("i",{className:"fas fa-times"})})]}),y.type===A.CONCLUSION?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsx("p",{className:"font-semibold italic",children:y.prompt||ds}),y.isRunning?i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Running...)"}):y.lastRunOutput?i.jsx("p",{className:"mt-1 text-green-300",children:y.lastRunOutput}):i.jsx("p",{className:"mt-1 text-slate-400",children:"(Awaiting output)"})]}):y.type===A.VARIABLE?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsxs("p",{className:"font-semibold italic",children:["Stores as: ","{"+y.name+"}"]}),y.isRunning?i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Processing...)"}):y.lastRunOutput?i.jsxs("p",{className:"mt-1 text-green-300",children:["Last Value: ",y.lastRunOutput]}):i.jsx("p",{className:"mt-1 text-slate-400",children:"(No value captured yet)"})]}):y.type===A.QUESTION?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Q: ",y.prompt||hr]}),y.isRunning?i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Awaiting user input...)"}):y.lastRunOutput?i.jsxs("p",{className:"mt-1 text-green-300",children:["Last Answer: ",y.lastRunOutput]}):i.jsx("p",{className:"mt-1 text-slate-400",children:"(No answer yet)"})]}):y.type===A.JAVASCRIPT?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["JS: ",y.prompt||"(No description)"]}),y.isRunning?i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Executing JS...)"}):y.lastRunOutput?i.jsxs("p",{className:"mt-1 text-green-300",children:["Output: ",y.lastRunOutput]}):i.jsx("p",{className:"mt-1 text-slate-400",children:"(No output yet)"})]}):y.type===A.PARALLEL?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Parallel: ",y.prompt||Hu]}),y.isRunning&&i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Forking paths...)"}),y.parallelNextNodeIds&&y.parallelNextNodeIds.length>0&&i.jsxs("p",{className:"mt-1 text-slate-400 text-xxs",children:["Paths: ",y.parallelNextNodeIds.length]})]}):y.type===A.SYNCHRONIZE?i.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[i.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Sync: ",y.prompt||pr]}),y.isRunning&&i.jsx("p",{className:"mt-1 text-yellow-300",children:"(Synchronizing...)"}),y.lastRunOutput&&i.jsxs("p",{className:"mt-1 text-green-300",children:["Output: ",y.lastRunOutput]})]}):i.jsx("p",{className:"text-xs text-slate-200 h-10 overflow-y-auto custom-scroll line-clamp-3 w-full text-center px-1",children:y.type===A.CONDITIONAL?`Eval: ${y.prompt||"(No prompt)"}`:y.prompt||"(No prompt configured)"})]}),y.type!==A.CONCLUSION&&y.type!==A.VARIABLE&&y.type!==A.QUESTION&&y.type!==A.JAVASCRIPT&&y.type!==A.PARALLEL&&y.type!==A.SYNCHRONIZE&&y.lastRunOutput&&i.jsx("div",{className:"mt-auto pt-1 border-t border-slate-500/50 w-full overflow-hidden",children:i.jsxs("p",{className:`text-xs ${y.hasError?"text-red-300":"text-green-300"} truncate text-center`,children:["Last Out: ",y.lastRunOutput]})})]},y.id)}),i.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:"10000px",height:"10000px"},"aria-hidden":"true",children:[i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9.5",refY:"3.5",orient:"auto",fill:"#0EA5E9",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7"})})}),c.map(y=>{const O=R(y.sourceId),k=R(y.targetId);if(!O||!k)return null;const L={x:O.position.x,y:O.position.y,width:da,height:ma},U={x:k.position.x,y:k.position.y,width:da,height:ma},z={x:O.position.x+da/2,y:O.position.y+ma/2},K={x:k.position.x+da/2,y:k.position.y+ma/2},Q=d(K,z,L),ee=d(z,K,U),F=ee.x-Q.x,te=ee.y-Q.y,G=.2;let Y=Q.x+F*.5,ae=Q.y+te*.5;const se=-te*G,le=F*G;let ue=Y+se,ce=ae+le;Math.abs(F)<1&&Math.abs(te)<1&&(ue+=(Math.random()-.5)*40+20*Math.sign(se||1),ce+=(Math.random()-.5)*40+20*Math.sign(le||1));const V=`M ${Q.x},${Q.y} Q ${ue},${ce} ${ee.x},${ee.y}`,X=.25*Q.x+.5*ue+.25*ee.x,M=.25*Q.y+.5*ce+.25*ee.y;return i.jsxs("g",{children:[i.jsx("path",{d:V,stroke:"#0EA5E9",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),y.condition&&i.jsx("text",{x:X,y:M-5,fill:"#94A3B8",fontSize:"10px",textAnchor:"middle",className:"pointer-events-auto",children:y.condition})]},y.id)})]})]}),i.jsx(Bx,{scale:v.scale,onZoomIn:v.onZoomIn,onZoomOut:v.onZoomOut,onReset:v.onReset,minScale:v.minScale,maxScale:v.maxScale})]})},qx=({isOpen:u,questionText:c,onSubmit:d,onEndRun:o})=>{const[m,f]=b.useState("");b.useEffect(()=>{u&&f("")},[u,c]);const x=()=>{d(m)},N=()=>{o()};if(!u)return null;const g=i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button",onClick:x,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Submit"}),i.jsx("button",{type:"button",onClick:N,className:"mt-3 inline-flex w-full justify-center rounded-md bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"End Run"})]});return i.jsx(Gt,{isOpen:u,onClose:()=>{},title:"User Input Required",footerContent:g,children:i.jsxs("div",{className:"space-y-4 text-slate-300",children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:c}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"userInput",className:"block text-sm font-medium",children:"Your Answer:"}),i.jsx("textarea",{id:"userInput",name:"userInput",rows:3,value:m,onChange:h=>f(h.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll",placeholder:"Enter your response here..."})]})]})})},Gx=()=>{const u=b.useRef(null),c=b.useRef(null),d=gs(),[o,m]=b.useState(!1),[f,x]=b.useState(!0),N=b.useCallback(()=>{d?m(lt=>!lt):x(lt=>!lt)},[d]),g=d?o:f,{currentProject:h,setCurrentProject:v,isLoading:T,hasUnsavedChanges:E,saveProjectState:R,isUnsavedChangesModalOpen:y,setIsUnsavedChangesModalOpen:O,handleRequestCloseProject:k,handleSaveAndClose:L,handleCloseWithoutSaving:U}=ix(),{isProjectSettingsModalOpen:z,openProjectSettingsModal:K,closeProjectSettingsModal:Q,isRunHistoryModalOpen:ee,openRunHistoryModal:F,closeRunHistoryModal:te,isHelpModalOpen:G,openHelpModal:Y,closeHelpModal:ae,isLlmErrorModalOpen:se,llmErrorMessage:le,openLlmErrorModal:ue,closeLlmErrorModal:ce}=bx(),{scale:V,translate:X,handleWheelOnCanvas:M,handleMouseDownOnCanvas:Z,zoomIn:S,zoomOut:H,resetZoom:D,MIN_SCALE:$,MAX_SCALE:ie}=Tx({editorAreaRef:u}),[xe,me]=b.useState(null),re=b.useCallback((lt,it)=>new Promise((xt,Ge)=>{me({questionText:lt,onSubmit:ot=>{me(null),xt(ot)},onEndRun:()=>{me(null),Ge(new Error("User ended the run."))},resolve:xt,reject:Ge})}),[]),ne=vx({currentProject:h,saveProjectState:R,setCurrentProject:v,hasUnsavedChanges:E,requestUserInput:re}),{selectedNodeState:Re,setSelectedNodeState:Ze,isNodeModalOpen:yt,setIsNodeModalOpen:dt,deleteNodeConfirm:Te,setDeleteNodeConfirm:Ee,deleteActionInitiated:Je,setDeleteActionInitiated:Rt,handleAddNode:ut,handleSaveNode:el,confirmDeleteNode:vl,handleDeleteNodeRequest:vs}=ox({currentProject:h,setCurrentProject:v,saveProjectState:R,editorAreaRef:u,scale:V,translate:X}),{handleNodeMouseDown:ya,handleNodeTouchStart:Vu}=dx({currentProject:h,setCurrentProject:v,editorAreaRef:u,setSelectedNodeState:Ze,setIsNodeModalOpen:dt,deleteActionInitiated:Je,setDeleteActionInitiated:Rt,scale:V,translate:X}),{isWorkflowRunning:ql,executionLogs:qu,currentExecutingNodeId:Gu,runStartTime:Gl,runEndTime:mt,totalTokensThisRun:Xt,isExecutionPanelOpen:ht,setIsExecutionPanelOpen:Xu,handleStopWorkflow:Qu,conclusionModalContent:bs,clearConclusionModalContent:xa,isSteppingActive:ga,hasNextStep:tl,startStepThrough:va,processAndAdvanceStep:Xl}=ne,ba=b.useMemo(()=>Ye(h==null?void 0:h.nodes),[h==null?void 0:h.nodes]),{visualLinks:Ns,getLineToRectangleIntersectionPoint:Ss}=Sx(ba),Ql=b.useCallback(async()=>{if(!(!h||ne.isSteppingActive)&&!ne.isWorkflowRunning)try{typeof ne.runWorkflow=="function"?await ne.runWorkflow():ue("A critical error occurred: The workflow execution function is not available. Please try reloading the application.")}catch(lt){const it=lt instanceof Error?lt.message:String(lt);it.includes("User ended the run")||it.includes("Run stopped")||(it.toLowerCase().includes("chatgpt api error: api key")?ue(i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"ChatGPT API Error:"}),' The API key may be missing, invalid, or not authorized. Please ensure your ChatGPT API Key is correctly configured in "Application Settings".',i.jsxs("p",{className:"text-xs mt-2",children:["Original error: ",it.replace("ChatGPT API Error: API key is invalid or not authorized. ","").replace("ChatGPT API Error: API key is not set. ","")]})]})):it.toLowerCase().includes("chatgpt api error")?ue(i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"ChatGPT API Error:"})," ",it.replace("ChatGPT API Error: ",""),i.jsx("p",{className:"text-xs mt-2",children:"Please check your OpenAI account status or try again later."})]})):it.toLowerCase().includes("ollama")?ue(i.jsxs(i.Fragment,{children:[i.jsx("strong",{children:"Ollama Error:"})," ",it.replace("Ollama API Error:","").replace("Ollama Network Error:",""),i.jsx("p",{className:"text-xs mt-2",children:'Please check your Ollama server status and settings in "App Settings".'})]})):it.toLowerCase().includes("run failed")||ue(`An unexpected error occurred during workflow execution: ${it}`))}},[h,ne,ue,E]),$l=lt=>{if(!h)return;const it={...h,...lt};R(it),Q()},Zl=Vl(),on=ps(),[rn,cn]=b.useState(!1);if(b.useEffect(()=>{if(new URLSearchParams(Zl.search).get("autorun")==="true"&&h&&!T&&!ne.isWorkflowRunning&&!ne.isSteppingActive&&!rn){cn(!0),Ql().catch(Ge=>{});const xt=new URLSearchParams(Zl.search);xt.delete("autorun"),on({pathname:Zl.pathname,search:xt.toString()},{replace:!0,state:Zl.state})}},[h,T,ne.isWorkflowRunning,ne.isSteppingActive,Zl,on,Ql,rn]),T)return i.jsx("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:"Loading project..."});if(!h)return i.jsxs("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:["Project not found. ",i.jsx(xs,{to:"/",className:"text-sky-400 hover:text-sky-300 mt-2",children:"Go Home"})]});const fn={nodes:ba,visualLinks:Ns,getLineToRectangleIntersectionPoint:Ss,scale:V,translate:X,editorAreaRef:u,canvasContentRef:c,onNodeMouseDown:ya,onWheel:M,onCanvasMouseDown:Z,zoomControls:{scale:V,onZoomIn:S,onZoomOut:H,onReset:D,minScale:$,maxScale:ie},onNodeTouchStart:Vu,onDeleteNodeRequest:vs};return i.jsxs("div",{className:"flex h-screen flex-col",children:[i.jsx(lh,{onRunProject:Ql,onStopProject:Qu,onStartStepThrough:va,onProcessNextStep:Xl,currentProjectName:h.name,isWorkflowRunning:ql,isSteppingActive:ga,hasNextStep:tl,onToggleSidebar:d?N:void 0,onNavigateHome:()=>k(ql)}),i.jsxs("div",{className:"flex flex-1 overflow-hidden pb-12 sm:pb-0",children:[i.jsx(Ix,{isSidebarOpen:g,toggleSidebar:N,onAddNode:ut,onOpenProjectSettingsModal:K,onOpenRunHistoryModal:F,projectRunHistoryCount:h.runHistory.length,onCloseProject:()=>k(ql),isWorkflowRunning:ql,onOpenHelpModal:Y}),i.jsx(Vx,{...fn})]}),i.jsx(Hx,{logs:qu,currentExecutingNodeId:Gu,nodes:ba,runStartTime:Gl,runEndTime:mt,totalTokensThisRun:Xt,isOpen:ht,onToggle:()=>Xu(lt=>!lt),currentProjectName:h.name}),i.jsx(Dx,{node:Re,isOpen:yt,onClose:()=>{dt(!1),Ze(null)},onSave:el,allNodes:ba}),i.jsx(Ux,{project:h,isOpen:z,onClose:Q,onSave:$l}),i.jsx(_x,{runHistory:h.runHistory,isOpen:ee,onClose:te}),i.jsx(zx,{isOpen:G,onClose:ae}),xe&&i.jsx(qx,{isOpen:!0,questionText:xe.questionText,onSubmit:xe.onSubmit,onEndRun:xe.onEndRun}),i.jsx(ah,{isOpen:bs!==null,data:bs,onClose:xa}),i.jsx(Iu,{isOpen:Te.isOpen,onClose:()=>{Ee({isOpen:!1,nodeId:null,nodeName:null}),Rt(!1)},onConfirm:vl,title:"Confirm Delete Node",message:i.jsxs(i.Fragment,{children:['Are you sure you want to delete node "',i.jsx("strong",{children:Te.nodeName||"this node"}),'"? This cannot be undone.']}),confirmText:"Delete"}),i.jsx(Iu,{isOpen:se,onClose:ce,onConfirm:ce,title:"LLM Configuration / API Error",message:le,confirmText:"OK",confirmButtonClass:"bg-sky-600 hover:bg-sky-700"}),i.jsx(kx,{isOpen:y,onClose:()=>O(!1),onSaveAndClose:L,onCloseWithoutSaving:U})]})},Xx=()=>{const[u,c]=b.useState(()=>ha.getAppSettings()),[d,o]=b.useState(()=>ha.getProjects()),m=b.useCallback(h=>{const v={...fs,...h};c(v),ha.saveAppSettings(v)},[]),f=b.useCallback(h=>{o(v=>{const T=[...v,h];return ha.saveProjects(T),T})},[]),x=b.useCallback(h=>{o(v=>{const T={...h,updatedAt:new Date().toISOString()},E=v.map(R=>R.id===T.id?T:R);return ha.saveProjects(E),E})},[]),N=b.useCallback(h=>{o(v=>{const T=v.filter(E=>E.id!==h);return ha.saveProjects(T),T})},[]),g=b.useCallback(h=>d.find(v=>v.id===h),[d]);return i.jsx(Pm.Provider,{value:{appSettings:u,setAppSettings:m},children:i.jsx(Km.Provider,{value:{projects:d,addProject:f,updateProject:x,deleteProject:N,getProjectById:g},children:i.jsx(Yy,{children:i.jsxs(xy,{children:[i.jsx(dr,{path:"/",element:i.jsx(wx,{})}),i.jsx(dr,{path:"/project/:projectId",element:i.jsx(Gx,{})})]})})})})},nh=document.getElementById("root");if(!nh)throw new Error("Could not find root element to mount to");const Qx=T0.createRoot(nh);Qx.render(i.jsx(Uu.StrictMode,{children:i.jsx(Xx,{})}));
