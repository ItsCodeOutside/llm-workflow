(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(m){if(m.ep)return;m.ep=!0;const f=d(m);fetch(m.href,f)}})();function qo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wo={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function S0(){if(Nm)return Zs;Nm=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(r,m,f){var g=null;if(f!==void 0&&(g=""+f),m.key!==void 0&&(g=""+m.key),"key"in m){f={};for(var S in m)S!=="key"&&(f[S]=m[S])}else f=m;return m=f.ref,{$$typeof:i,type:r,key:g,ref:m!==void 0?m:null,props:f}}return Zs.Fragment=o,Zs.jsx=d,Zs.jsxs=d,Zs}var Sm;function E0(){return Sm||(Sm=1,wo.exports=S0()),wo.exports}var u=E0(),Ro={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function A0(){if(Em)return _e;Em=1;var i=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function E(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function z(N,U,L){this.props=N,this.context=U,this.refs=w,this.updater=L||A}z.prototype.isReactComponent={},z.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function V(){}V.prototype=z.prototype;function I(N,U,L){this.props=N,this.context=U,this.refs=w,this.updater=L||A}var D=I.prototype=new V;D.constructor=I,y(D,z.prototype),D.isPureReactComponent=!0;var Q=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function te(N,U,L,K,de,je){return L=je.ref,{$$typeof:i,type:N,key:U,ref:L!==void 0?L:null,props:je}}function le(N,U){return te(N.type,U,void 0,void 0,void 0,N.props)}function X(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function H(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(L){return U[L]})}var ie=/\/+/g;function ce(N,U){return typeof N=="object"&&N!==null&&N.key!=null?H(""+N.key):U.toString(36)}function ue(){}function he(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ue,ue):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function be(N,U,L,K,de){var je=typeof N;(je==="undefined"||je==="boolean")&&(N=null);var Ee=!1;if(N===null)Ee=!0;else switch(je){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(N.$$typeof){case i:case o:Ee=!0;break;case b:return Ee=N._init,be(Ee(N._payload),U,L,K,de)}}if(Ee)return de=de(N),Ee=K===""?"."+ce(N,0):K,Q(de)?(L="",Ee!=null&&(L=Ee.replace(ie,"$&/")+"/"),be(de,U,L,"",function(Xe){return Xe})):de!=null&&(X(de)&&(de=le(de,L+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(ie,"$&/")+"/")+Ee)),U.push(de)),1;Ee=0;var ge=K===""?".":K+":";if(Q(N))for(var me=0;me<N.length;me++)K=N[me],je=ge+ce(K,me),Ee+=be(K,U,L,je,de);else if(me=E(N),typeof me=="function")for(N=me.call(N),me=0;!(K=N.next()).done;)K=K.value,je=ge+ce(K,me++),Ee+=be(K,U,L,je,de);else if(je==="object"){if(typeof N.then=="function")return be(he(N),U,L,K,de);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(N,U,L){if(N==null)return N;var K=[],de=0;return be(N,K,"","",function(je){return U.call(L,je,de++)}),K}function q(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(L){(N._status===0||N._status===-1)&&(N._status=1,N._result=L)},function(L){(N._status===0||N._status===-1)&&(N._status=2,N._result=L)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var R=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function P(){}return _e.Children={map:Y,forEach:function(N,U,L){Y(N,function(){U.apply(this,arguments)},L)},count:function(N){var U=0;return Y(N,function(){U++}),U},toArray:function(N){return Y(N,function(U){return U})||[]},only:function(N){if(!X(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},_e.Component=z,_e.Fragment=d,_e.Profiler=m,_e.PureComponent=I,_e.StrictMode=r,_e.Suspense=x,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,_e.__COMPILER_RUNTIME={__proto__:null,c:function(N){return Z.H.useMemoCache(N)}},_e.cache=function(N){return function(){return N.apply(null,arguments)}},_e.cloneElement=function(N,U,L){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=y({},N.props),de=N.key,je=void 0;if(U!=null)for(Ee in U.ref!==void 0&&(je=void 0),U.key!==void 0&&(de=""+U.key),U)!ne.call(U,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&U.ref===void 0||(K[Ee]=U[Ee]);var Ee=arguments.length-2;if(Ee===1)K.children=L;else if(1<Ee){for(var ge=Array(Ee),me=0;me<Ee;me++)ge[me]=arguments[me+2];K.children=ge}return te(N.type,de,void 0,void 0,je,K)},_e.createContext=function(N){return N={$$typeof:g,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},_e.createElement=function(N,U,L){var K,de={},je=null;if(U!=null)for(K in U.key!==void 0&&(je=""+U.key),U)ne.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(de[K]=U[K]);var Ee=arguments.length-2;if(Ee===1)de.children=L;else if(1<Ee){for(var ge=Array(Ee),me=0;me<Ee;me++)ge[me]=arguments[me+2];de.children=ge}if(N&&N.defaultProps)for(K in Ee=N.defaultProps,Ee)de[K]===void 0&&(de[K]=Ee[K]);return te(N,je,void 0,void 0,null,de)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(N){return{$$typeof:S,render:N}},_e.isValidElement=X,_e.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:q}},_e.memo=function(N,U){return{$$typeof:h,type:N,compare:U===void 0?null:U}},_e.startTransition=function(N){var U=Z.T,L={};Z.T=L;try{var K=N(),de=Z.S;de!==null&&de(L,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(P,R)}catch(je){R(je)}finally{Z.T=U}},_e.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},_e.use=function(N){return Z.H.use(N)},_e.useActionState=function(N,U,L){return Z.H.useActionState(N,U,L)},_e.useCallback=function(N,U){return Z.H.useCallback(N,U)},_e.useContext=function(N){return Z.H.useContext(N)},_e.useDebugValue=function(){},_e.useDeferredValue=function(N,U){return Z.H.useDeferredValue(N,U)},_e.useEffect=function(N,U,L){var K=Z.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(N,U)},_e.useId=function(){return Z.H.useId()},_e.useImperativeHandle=function(N,U,L){return Z.H.useImperativeHandle(N,U,L)},_e.useInsertionEffect=function(N,U){return Z.H.useInsertionEffect(N,U)},_e.useLayoutEffect=function(N,U){return Z.H.useLayoutEffect(N,U)},_e.useMemo=function(N,U){return Z.H.useMemo(N,U)},_e.useOptimistic=function(N,U){return Z.H.useOptimistic(N,U)},_e.useReducer=function(N,U,L){return Z.H.useReducer(N,U,L)},_e.useRef=function(N){return Z.H.useRef(N)},_e.useState=function(N){return Z.H.useState(N)},_e.useSyncExternalStore=function(N,U,L){return Z.H.useSyncExternalStore(N,U,L)},_e.useTransition=function(){return Z.H.useTransition()},_e.version="19.1.0",_e}var Am;function $o(){return Am||(Am=1,Ro.exports=A0()),Ro.exports}var v=$o();const vu=qo(v);var jo={exports:{}},Qs={},Mo={exports:{}},_o={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function T0(){return Tm||(Tm=1,function(i){function o(Y,q){var R=Y.length;Y.push(q);e:for(;0<R;){var P=R-1>>>1,N=Y[P];if(0<m(N,q))Y[P]=q,Y[R]=N,R=P;else break e}}function d(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var q=Y[0],R=Y.pop();if(R!==q){Y[0]=R;e:for(var P=0,N=Y.length,U=N>>>1;P<U;){var L=2*(P+1)-1,K=Y[L],de=L+1,je=Y[de];if(0>m(K,R))de<N&&0>m(je,K)?(Y[P]=je,Y[de]=R,P=de):(Y[P]=K,Y[L]=R,P=L);else if(de<N&&0>m(je,R))Y[P]=je,Y[de]=R,P=de;else break e}}return q}function m(Y,q){var R=Y.sortIndex-q.sortIndex;return R!==0?R:Y.id-q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var g=Date,S=g.now();i.unstable_now=function(){return g.now()-S}}var x=[],h=[],b=1,T=null,E=3,A=!1,y=!1,w=!1,z=!1,V=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Q(Y){for(var q=d(h);q!==null;){if(q.callback===null)r(h);else if(q.startTime<=Y)r(h),q.sortIndex=q.expirationTime,o(x,q);else break;q=d(h)}}function Z(Y){if(w=!1,Q(Y),!y)if(d(x)!==null)y=!0,ne||(ne=!0,ce());else{var q=d(h);q!==null&&be(Z,q.startTime-Y)}}var ne=!1,te=-1,le=5,X=-1;function H(){return z?!0:!(i.unstable_now()-X<le)}function ie(){if(z=!1,ne){var Y=i.unstable_now();X=Y;var q=!0;try{e:{y=!1,w&&(w=!1,I(te),te=-1),A=!0;var R=E;try{t:{for(Q(Y),T=d(x);T!==null&&!(T.expirationTime>Y&&H());){var P=T.callback;if(typeof P=="function"){T.callback=null,E=T.priorityLevel;var N=P(T.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){T.callback=N,Q(Y),q=!0;break t}T===d(x)&&r(x),Q(Y)}else r(x);T=d(x)}if(T!==null)q=!0;else{var U=d(h);U!==null&&be(Z,U.startTime-Y),q=!1}}break e}finally{T=null,E=R,A=!1}q=void 0}}finally{q?ce():ne=!1}}}var ce;if(typeof D=="function")ce=function(){D(ie)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,he=ue.port2;ue.port1.onmessage=ie,ce=function(){he.postMessage(null)}}else ce=function(){V(ie,0)};function be(Y,q){te=V(function(){Y(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var R=E;E=q;try{return Y()}finally{E=R}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(Y,q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var R=E;E=Y;try{return q()}finally{E=R}},i.unstable_scheduleCallback=function(Y,q,R){var P=i.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?P+R:P):R=P,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=R+N,Y={id:b++,callback:q,priorityLevel:Y,startTime:R,expirationTime:N,sortIndex:-1},R>P?(Y.sortIndex=R,o(h,Y),d(x)===null&&Y===d(h)&&(w?(I(te),te=-1):w=!0,be(Z,R-P))):(Y.sortIndex=N,o(x,Y),y||A||(y=!0,ne||(ne=!0,ce()))),Y},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(Y){var q=E;return function(){var R=E;E=q;try{return Y.apply(this,arguments)}finally{E=R}}}}(_o)),_o}var Om;function O0(){return Om||(Om=1,Mo.exports=T0()),Mo.exports}var Lo={exports:{}},kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function C0(){if(Cm)return kt;Cm=1;var i=$o();function o(x){var h="https://react.dev/errors/"+x;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var r={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function f(x,h,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:T==null?null:""+T,children:x,containerInfo:h,implementation:b}}var g=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function S(x,h){if(x==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,kt.createPortal=function(x,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(o(299));return f(x,h,null,b)},kt.flushSync=function(x){var h=g.T,b=r.p;try{if(g.T=null,r.p=2,x)return x()}finally{g.T=h,r.p=b,r.d.f()}},kt.preconnect=function(x,h){typeof x=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(x,h))},kt.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},kt.preinit=function(x,h){if(typeof x=="string"&&h&&typeof h.as=="string"){var b=h.as,T=S(b,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;b==="style"?r.d.S(x,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:A}):b==="script"&&r.d.X(x,{crossOrigin:T,integrity:E,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},kt.preinitModule=function(x,h){if(typeof x=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var b=S(h.as,h.crossOrigin);r.d.M(x,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(x)},kt.preload=function(x,h){if(typeof x=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var b=h.as,T=S(b,h.crossOrigin);r.d.L(x,b,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},kt.preloadModule=function(x,h){if(typeof x=="string")if(h){var b=S(h.as,h.crossOrigin);r.d.m(x,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(x)},kt.requestFormReset=function(x){r.d.r(x)},kt.unstable_batchedUpdates=function(x,h){return x(h)},kt.useFormState=function(x,h,b){return g.H.useFormState(x,h,b)},kt.useFormStatus=function(){return g.H.useHostTransitionStatus()},kt.version="19.1.0",kt}var wm;function w0(){if(wm)return Lo.exports;wm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Lo.exports=C0(),Lo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function R0(){if(Rm)return Qs;Rm=1;var i=O0(),o=$o(),d=w0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(f(e)!==e)throw Error(r(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var n=e,l=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(l=a.return,l!==null){n=l;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return S(a),e;if(s===l)return S(a),t;s=s.sibling}throw Error(r(188))}if(n.return!==l.return)n=a,l=s;else{for(var c=!1,p=a.child;p;){if(p===n){c=!0,n=a,l=s;break}if(p===l){c=!0,l=a,n=s;break}p=p.sibling}if(!c){for(p=s.child;p;){if(p===n){c=!0,n=s,l=a;break}if(p===l){c=!0,l=s,n=a;break}p=p.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==l)throw Error(r(190))}if(n.tag!==3)throw Error(r(188));return n.stateNode.current===n?e:t}function h(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=h(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case z:return"Profiler";case w:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case D:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}var be=Array.isArray,Y=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},P=[],N=-1;function U(e){return{current:e}}function L(e){0>N||(e.current=P[N],P[N]=null,N--)}function K(e,t){N++,P[N]=e.current,e.current=t}var de=U(null),je=U(null),Ee=U(null),ge=U(null);function me(e,t){switch(K(Ee,t),K(je,e),K(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qd(t),e=Kd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(de),K(de,e)}function Xe(){L(de),L(je),L(Ee)}function Ue(e){e.memoizedState!==null&&K(ge,e);var t=de.current,n=Kd(t,e.type);t!==n&&(K(je,e),K(de,n))}function _t(e){je.current===e&&(L(de),L(je)),ge.current===e&&(L(ge),Vs._currentValue=R)}var Ct=Object.prototype.hasOwnProperty,Be=i.unstable_scheduleCallback,Le=i.unstable_cancelCallback,dt=i.unstable_shouldYield,Xt=i.unstable_requestPaint,Et=i.unstable_now,an=i.unstable_getCurrentPriorityLevel,On=i.unstable_ImmediatePriority,Il=i.unstable_UserBlockingPriority,rl=i.unstable_NormalPriority,Ka=i.unstable_LowPriority,Hl=i.unstable_IdlePriority,yn=i.log,zn=i.unstable_setDisableYieldValue,Pt=null,vt=null;function sn(e){if(typeof yn=="function"&&zn(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Pt,e)}catch{}}var Lt=Math.clz32?Math.clz32:ga,ui=Math.log,Ja=Math.LN2;function ga(e){return e>>>=0,e===0?32:31-(ui(e)/Ja|0)|0}var ol=256,In=4194304;function xn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cl(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var a=0,s=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~s,l!==0?a=xn(l):(c&=p,c!==0?a=xn(c):n||(n=p&~e,n!==0&&(a=xn(n))))):(p=l&~s,p!==0?a=xn(p):c!==0?a=xn(c):n||(n=l&~e,n!==0&&(a=xn(n)))),a===0?0:t!==0&&t!==a&&(t&s)===0&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function Hn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bl(){var e=ol;return ol<<=1,(ol&4194048)===0&&(ol=256),e}function Yl(){var e=In;return In<<=1,(In&62914560)===0&&(In=4194304),e}function Yn(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bt(e,t,n,l,a,s){var c=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var p=e.entanglements,O=e.expirationTimes,B=e.hiddenUpdates;for(n=c&~n;0<n;){var J=31-Lt(n),ee=1<<J;p[J]=0,O[J]=-1;var G=B[J];if(G!==null)for(B[J]=null,J=0;J<G.length;J++){var $=G[J];$!==null&&($.lane&=-536870913)}n&=~ee}l!==0&&C(e,l,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(c&~t))}function C(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Lt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&4194090}function W(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Lt(n),a=1<<l;a&t|e[l]&t&&(e[l]|=t),n&=~a}}function oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function et(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:pm(e.type))}function lt(e,t){var n=q.p;try{return q.p=e,t()}finally{q.p=n}}var re=Math.random().toString(36).slice(2),ae="__reactFiber$"+re,pe="__reactProps$"+re,Pe="__reactContainer$"+re,tt="__reactEvents$"+re,Gl="__reactListeners$"+re,Wa="__reactHandles$"+re,ya="__reactResources$"+re,Vl="__reactMarker$"+re;function ql(e){delete e[ae],delete e[pe],delete e[tt],delete e[Gl],delete e[Wa]}function fl(e){var t=e[ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[ae]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=em(e);e!==null;){if(n=e[ae])return n;e=em(e)}return t}e=n,n=e.parentNode}return null}function dl(e){if(e=e[ae]||e[Pe]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function $l(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Gn(e){var t=e[ya];return t||(t=e[ya]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Vl]=!0}var ri=new Set,oi={};function Vn(e,t){It(e,t),It(e+"Capture",t)}function It(e,t){for(oi[e]=t,e=0;e<t.length;e++)ri.add(t[e])}var ci=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fa={},fi={};function wu(e){return Ct.call(fi,e)?!0:Ct.call(Fa,e)?!1:ci.test(e)?fi[e]=!0:(Fa[e]=!0,!1)}function xa(e,t,n){if(wu(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function qn(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function bn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}var se,ve;function Me(e){if(se===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);se=t&&t[1]||"",ve=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+e+ve}var qe=!1;function it(e,t){if(!e||qe)return"";qe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var G=$}Reflect.construct(e,[],ee)}else{try{ee.call()}catch($){G=$}e.call(ee.prototype)}}else{try{throw Error()}catch($){G=$}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),c=s[0],p=s[1];if(c&&p){var O=c.split(`
`),B=p.split(`
`);for(a=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;a<B.length&&!B[a].includes("DetermineComponentFrameRoot");)a++;if(l===O.length||a===B.length)for(l=O.length-1,a=B.length-1;1<=l&&0<=a&&O[l]!==B[a];)a--;for(;1<=l&&0<=a;l--,a--)if(O[l]!==B[a]){if(l!==1||a!==1)do if(l--,a--,0>a||O[l]!==B[a]){var J=`
`+O[l].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=l&&0<=a);break}}}finally{qe=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Me(n):""}function Zt(e){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return Me("Activity");default:return""}}function vn(e){try{var t="";do t+=Zt(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function un(e){var t=Dt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){l=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=un(e))}function es(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Dt(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ru=/[\n"\\]/g;function Yt(e){return e.replace(Ru,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ts(e,t,n,l,a,s,c,p){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?ml(e,c,wt(t)):n!=null?ml(e,c,wt(n)):l!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+wt(p):e.removeAttribute("name")}function di(e,t,n,l,a,s,c,p){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+wt(n):"",t=t!=null?""+wt(t):n,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??a,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function ml(e,t,n){t==="number"&&Pl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function $n(e,t,n,l){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&l&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Qt(e,t,n){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wt(n):""}function mi(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(r(92));if(be(l)){if(1<l.length)throw Error(r(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=wt(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l)}function wn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Re=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ns(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||Re.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function pt(e,t,n){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var a in t)l=t[a],t.hasOwnProperty(a)&&n[a]!==l&&ns(e,a,l)}else for(var s in t)t.hasOwnProperty(s)&&ns(e,s,t[s])}function $e(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ba=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hl(e){return Xn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zl=null;function fe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ye=null,we=null;function Ye(e){var t=dl(e);if(t&&(e=t.stateNode)){var n=e[pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ts(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var a=l[pe]||null;if(!a)throw Error(r(90));ts(l,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&es(l)}break e;case"textarea":Qt(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}}}var gt=!1;function rn(e,t,n){if(gt)return e(t,n);gt=!0;try{var l=e(t);return l}finally{if(gt=!1,(ye!==null||we!==null)&&(Wi(),ye&&(t=ye,e=we,we=ye=null,Ye(t),e)))for(t=0;t<e.length;t++)Ye(e[t])}}function Ql(e,t){var n=e.stateNode;if(n===null)return null;var l=n[pe]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(r(231,t,typeof n));return n}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=!1;if(Nn)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){ju=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{ju=!1}var pl=null,Mu=null,hi=null;function Wo(){if(hi)return hi;var e,t=Mu,n=t.length,l,a="value"in pl?pl.value:pl.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var c=n-e;for(l=1;l<=c&&t[n-l]===a[s-l];l++);return hi=a.slice(e,1<l?1-l:void 0)}function pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Fo(){return!1}function Gt(e){function t(n,l,a,s,c){this._reactName=n,this._targetInst=a,this.type=l,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gi:Fo,this.isPropagationStopped=Fo,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Gt(Kl),as=b({},Kl,{view:0,detail:0}),Sh=Gt(as),_u,Lu,ss,xi=b({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ss&&(ss&&e.type==="mousemove"?(_u=e.screenX-ss.screenX,Lu=e.screenY-ss.screenY):Lu=_u=0,ss=e),_u)},movementY:function(e){return"movementY"in e?e.movementY:Lu}}),ec=Gt(xi),Eh=b({},xi,{dataTransfer:0}),Ah=Gt(Eh),Th=b({},as,{relatedTarget:0}),Du=Gt(Th),Oh=b({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=Gt(Oh),wh=b({},Kl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rh=Gt(wh),jh=b({},Kl,{data:0}),tc=Gt(jh),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lh[e])?!!t[e]:!1}function Uu(){return Dh}var Uh=b({},as,{key:function(e){if(e.key){var t=Mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_h[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kh=Gt(Uh),zh=b({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=Gt(zh),Ih=b({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),Hh=Gt(Ih),Bh=b({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yh=Gt(Bh),Gh=b({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vh=Gt(Gh),qh=b({},Kl,{newState:0,oldState:0}),$h=Gt(qh),Xh=[9,13,27,32],ku=Nn&&"CompositionEvent"in window,is=null;Nn&&"documentMode"in document&&(is=document.documentMode);var Ph=Nn&&"TextEvent"in window&&!is,lc=Nn&&(!ku||is&&8<is&&11>=is),ac=" ",sc=!1;function ic(e,t){switch(e){case"keyup":return Xh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var va=!1;function Zh(e,t){switch(e){case"compositionend":return uc(t);case"keypress":return t.which!==32?null:(sc=!0,ac);case"textInput":return e=t.data,e===ac&&sc?null:e;default:return null}}function Qh(e,t){if(va)return e==="compositionend"||!ku&&ic(e,t)?(e=Wo(),hi=Mu=pl=null,va=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lc&&t.locale!=="ko"?null:t.data;default:return null}}var Kh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kh[e.type]:t==="textarea"}function oc(e,t,n,l){ye?we?we.push(l):we=[l]:ye=l,t=au(t,"onChange"),0<t.length&&(n=new yi("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var us=null,rs=null;function Jh(e){qd(e,0)}function bi(e){var t=$l(e);if(es(t))return e}function cc(e,t){if(e==="change")return t}var fc=!1;if(Nn){var zu;if(Nn){var Iu="oninput"in document;if(!Iu){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),Iu=typeof dc.oninput=="function"}zu=Iu}else zu=!1;fc=zu&&(!document.documentMode||9<document.documentMode)}function mc(){us&&(us.detachEvent("onpropertychange",hc),rs=us=null)}function hc(e){if(e.propertyName==="value"&&bi(rs)){var t=[];oc(t,rs,e,fe(e)),rn(Jh,t)}}function Wh(e,t,n){e==="focusin"?(mc(),us=t,rs=n,us.attachEvent("onpropertychange",hc)):e==="focusout"&&mc()}function Fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(rs)}function ep(e,t){if(e==="click")return bi(t)}function tp(e,t){if(e==="input"||e==="change")return bi(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:np;function os(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var a=n[l];if(!Ct.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=pc(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function yc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pl(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lp=Nn&&"documentMode"in document&&11>=document.documentMode,Na=null,Bu=null,cs=null,Yu=!1;function bc(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yu||Na==null||Na!==Pl(l)||(l=Na,"selectionStart"in l&&Hu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cs&&os(cs,l)||(cs=l,l=au(Bu,"onSelect"),0<l.length&&(t=new yi("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=Na)))}function Jl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sa={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionrun:Jl("Transition","TransitionRun"),transitionstart:Jl("Transition","TransitionStart"),transitioncancel:Jl("Transition","TransitionCancel"),transitionend:Jl("Transition","TransitionEnd")},Gu={},vc={};Nn&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Wl(e){if(Gu[e])return Gu[e];if(!Sa[e])return e;var t=Sa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vc)return Gu[e]=t[n];return e}var Nc=Wl("animationend"),Sc=Wl("animationiteration"),Ec=Wl("animationstart"),ap=Wl("transitionrun"),sp=Wl("transitionstart"),ip=Wl("transitioncancel"),Ac=Wl("transitionend"),Tc=new Map,Vu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vu.push("scrollEnd");function Sn(e,t){Tc.set(e,t),Vn(t,[e])}var Oc=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var n=Oc.get(e);return n!==void 0?n:(t={value:e,source:t,stack:vn(t)},Oc.set(e,t),t)}return{value:e,source:t,stack:vn(t)}}var cn=[],Ea=0,qu=0;function vi(){for(var e=Ea,t=qu=Ea=0;t<e;){var n=cn[t];cn[t++]=null;var l=cn[t];cn[t++]=null;var a=cn[t];cn[t++]=null;var s=cn[t];if(cn[t++]=null,l!==null&&a!==null){var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}s!==0&&Cc(n,a,s)}}function Ni(e,t,n,l){cn[Ea++]=e,cn[Ea++]=t,cn[Ea++]=n,cn[Ea++]=l,qu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $u(e,t,n,l){return Ni(e,t,n,l),Si(e)}function Aa(e,t){return Ni(e,null,null,t),Si(e)}function Cc(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,l=s.alternate,l!==null&&(l.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-Lt(n),e=s.hiddenUpdates,l=e[a],l===null?e[a]=[t]:l.push(t),t.lane=n|536870912),s):null}function Si(e){if(50<Us)throw Us=0,Jr=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function up(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,l){return new up(e,t,n,l)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pn(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function wc(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ei(e,t,n,l,a,s){var c=0;if(l=e,typeof e=="function")Xu(e)&&(c=1);else if(typeof e=="string")c=o0(e,n,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=Jt(31,n,t,a),e.elementType=X,e.lanes=s,e;case y:return Fl(n.children,a,s,t);case w:c=8,a|=24;break;case z:return e=Jt(12,n,t,a|2),e.elementType=z,e.lanes=s,e;case Z:return e=Jt(13,n,t,a),e.elementType=Z,e.lanes=s,e;case ne:return e=Jt(19,n,t,a),e.elementType=ne,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case D:c=10;break e;case I:c=9;break e;case Q:c=11;break e;case te:c=14;break e;case le:c=16,l=null;break e}c=29,n=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Jt(c,n,t,a),t.elementType=e,t.type=l,t.lanes=s,t}function Fl(e,t,n,l){return e=Jt(7,e,l,t),e.lanes=n,e}function Pu(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function Zu(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Oa=[],Ca=0,Ai=null,Ti=0,fn=[],dn=0,ea=null,Zn=1,Qn="";function ta(e,t){Oa[Ca++]=Ti,Oa[Ca++]=Ai,Ai=e,Ti=t}function Rc(e,t,n){fn[dn++]=Zn,fn[dn++]=Qn,fn[dn++]=ea,ea=e;var l=Zn;e=Qn;var a=32-Lt(l)-1;l&=~(1<<a),n+=1;var s=32-Lt(t)+a;if(30<s){var c=a-a%5;s=(l&(1<<c)-1).toString(32),l>>=c,a-=c,Zn=1<<32-Lt(t)+a|n<<a|l,Qn=s+e}else Zn=1<<s|n<<a|l,Qn=e}function Qu(e){e.return!==null&&(ta(e,1),Rc(e,1,0))}function Ku(e){for(;e===Ai;)Ai=Oa[--Ca],Oa[Ca]=null,Ti=Oa[--Ca],Oa[Ca]=null;for(;e===ea;)ea=fn[--dn],fn[dn]=null,Qn=fn[--dn],fn[dn]=null,Zn=fn[--dn],fn[dn]=null}var Ht=null,ot=null,Ve=!1,na=null,Rn=!1,Ju=Error(r(519));function la(e){var t=Error(r(418,""));throw ms(on(t,e)),Ju}function jc(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[ae]=e,t[pe]=l,n){case"dialog":Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":case"embed":Ie("load",t);break;case"video":case"audio":for(n=0;n<zs.length;n++)Ie(zs[n],t);break;case"source":Ie("error",t);break;case"img":case"image":case"link":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"input":Ie("invalid",t),di(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Xl(t);break;case"select":Ie("invalid",t);break;case"textarea":Ie("invalid",t),mi(t,l.value,l.defaultValue,l.children),Xl(t)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||Zd(t.textContent,n)?(l.popover!=null&&(Ie("beforetoggle",t),Ie("toggle",t)),l.onScroll!=null&&Ie("scroll",t),l.onScrollEnd!=null&&Ie("scrollend",t),l.onClick!=null&&(t.onclick=su),t=!0):t=!1,t||la(e)}function Mc(e){for(Ht=e.return;Ht;)switch(Ht.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Ht=Ht.return}}function fs(e){if(e!==Ht)return!1;if(!Ve)return Mc(e),Ve=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||ho(e.type,e.memoizedProps)),n=!n),n&&ot&&la(e),Mc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){ot=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}ot=null}}else t===27?(t=ot,Ml(e.type)?(e=xo,xo=null,ot=e):ot=t):ot=Ht?An(e.stateNode.nextSibling):null;return!0}function ds(){ot=Ht=null,Ve=!1}function _c(){var e=na;return e!==null&&($t===null?$t=e:$t.push.apply($t,e),na=null),e}function ms(e){na===null?na=[e]:na.push(e)}var Wu=U(null),aa=null,Kn=null;function gl(e,t,n){K(Wu,t._currentValue),t._currentValue=n}function Jn(e){e._currentValue=Wu.current,L(Wu)}function Fu(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function er(e,t,n,l){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var c=a.child;s=s.firstContext;e:for(;s!==null;){var p=s;s=a;for(var O=0;O<t.length;O++)if(p.context===t[O]){s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),Fu(s.return,n,e),l||(c=null);break e}s=p.next}}else if(a.tag===18){if(c=a.return,c===null)throw Error(r(341));c.lanes|=n,s=c.alternate,s!==null&&(s.lanes|=n),Fu(c,n,e),c=null}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===e){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}}function hs(e,t,n,l){e=null;for(var a=t,s=!1;a!==null;){if(!s){if((a.flags&524288)!==0)s=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var c=a.alternate;if(c===null)throw Error(r(387));if(c=c.memoizedProps,c!==null){var p=a.type;Kt(a.pendingProps.value,c.value)||(e!==null?e.push(p):e=[p])}}else if(a===ge.current){if(c=a.alternate,c===null)throw Error(r(387));c.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Vs):e=[Vs])}a=a.return}e!==null&&er(t,e,n,l),t.flags|=262144}function Oi(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function sa(e){aa=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ut(e){return Lc(aa,e)}function Ci(e,t){return aa===null&&sa(e),Lc(e,t)}function Lc(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Kn===null){if(e===null)throw Error(r(308));Kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kn=Kn.next=t;return n}var rp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},op=i.unstable_scheduleCallback,cp=i.unstable_NormalPriority,Nt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tr(){return{controller:new rp,data:new Map,refCount:0}}function ps(e){e.refCount--,e.refCount===0&&op(cp,function(){e.controller.abort()})}var gs=null,nr=0,wa=0,Ra=null;function fp(e,t){if(gs===null){var n=gs=[];nr=0,wa=ao(),Ra={status:"pending",value:void 0,then:function(l){n.push(l)}}}return nr++,t.then(Dc,Dc),t}function Dc(){if(--nr===0&&gs!==null){Ra!==null&&(Ra.status="fulfilled");var e=gs;gs=null,wa=0,Ra=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function dp(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(l.status="rejected",l.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),l}var Uc=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&fp(e,t),Uc!==null&&Uc(e,t)};var ia=U(null);function lr(){var e=ia.current;return e!==null?e:nt.pooledCache}function wi(e,t){t===null?K(ia,ia.current):K(ia,t.pool)}function kc(){var e=lr();return e===null?null:{parent:Nt._currentValue,pool:e}}var ys=Error(r(460)),zc=Error(r(474)),Ri=Error(r(542)),ar={then:function(){}};function Ic(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ji(){}function Hc(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(ji,ji),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yc(e),e;default:if(typeof t.status=="string")t.then(ji,ji);else{if(e=nt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=l}},function(l){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yc(e),e}throw xs=t,ys}}var xs=null;function Bc(){if(xs===null)throw Error(r(459));var e=xs;return xs=null,e}function Yc(e){if(e===ys||e===Ri)throw Error(r(483))}var yl=!1;function sr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bl(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,t=Si(e),Cc(e,null,n),t}return Ni(e,l,t,n),Si(e)}function bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,W(e,n)}}function ur(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var c={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=c:s=s.next=c,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var rr=!1;function vs(){if(rr){var e=Ra;if(e!==null)throw e}}function Ns(e,t,n,l){rr=!1;var a=e.updateQueue;yl=!1;var s=a.firstBaseUpdate,c=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var O=p,B=O.next;O.next=null,c===null?s=B:c.next=B,c=O;var J=e.alternate;J!==null&&(J=J.updateQueue,p=J.lastBaseUpdate,p!==c&&(p===null?J.firstBaseUpdate=B:p.next=B,J.lastBaseUpdate=O))}if(s!==null){var ee=a.baseState;c=0,J=B=O=null,p=s;do{var G=p.lane&-536870913,$=G!==p.lane;if($?(He&G)===G:(l&G)===G){G!==0&&G===wa&&(rr=!0),J!==null&&(J=J.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Ce=e,Ae=p;G=t;var We=n;switch(Ae.tag){case 1:if(Ce=Ae.payload,typeof Ce=="function"){ee=Ce.call(We,ee,G);break e}ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ae.payload,G=typeof Ce=="function"?Ce.call(We,ee,G):Ce,G==null)break e;ee=b({},ee,G);break e;case 2:yl=!0}}G=p.callback,G!==null&&(e.flags|=64,$&&(e.flags|=8192),$=a.callbacks,$===null?a.callbacks=[G]:$.push(G))}else $={lane:G,tag:p.tag,payload:p.payload,callback:p.callback,next:null},J===null?(B=J=$,O=ee):J=J.next=$,c|=G;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;$=p,p=$.next,$.next=null,a.lastBaseUpdate=$,a.shared.pending=null}}while(!0);J===null&&(O=ee),a.baseState=O,a.firstBaseUpdate=B,a.lastBaseUpdate=J,s===null&&(a.shared.lanes=0),Cl|=c,e.lanes=c,e.memoizedState=ee}}function Gc(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Vc(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Gc(n[e],t)}var ja=U(null),Mi=U(0);function qc(e,t){e=al,K(Mi,e),K(ja,t),al=e|t.baseLanes}function or(){K(Mi,al),K(ja,ja.current)}function cr(){al=Mi.current,L(ja),L(Mi)}var vl=0,De=null,Ke=null,yt=null,_i=!1,Ma=!1,ua=!1,Li=0,Ss=0,_a=null,mp=0;function mt(){throw Error(r(321))}function fr(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function dr(e,t,n,l,a,s){return vl=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?wf:Rf,ua=!1,s=n(l,a),ua=!1,Ma&&(s=Xc(t,n,l,a)),$c(e),s}function $c(e){Y.H=Hi;var t=Ke!==null&&Ke.next!==null;if(vl=0,yt=Ke=De=null,_i=!1,Ss=0,_a=null,t)throw Error(r(300));e===null||At||(e=e.dependencies,e!==null&&Oi(e)&&(At=!0))}function Xc(e,t,n,l){De=e;var a=0;do{if(Ma&&(_a=null),Ss=0,Ma=!1,25<=a)throw Error(r(301));if(a+=1,yt=Ke=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=vp,s=t(n,l)}while(Ma);return s}function hp(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?Es(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(De.flags|=1024),t}function mr(){var e=Li!==0;return Li=0,e}function hr(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function pr(e){if(_i){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}_i=!1}vl=0,yt=Ke=De=null,Ma=!1,Ss=Li=0,_a=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=e:yt=yt.next=e,yt}function xt(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=yt===null?De.memoizedState:yt.next;if(t!==null)yt=t,Ke=e;else{if(e===null)throw De.alternate===null?Error(r(467)):Error(r(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},yt===null?De.memoizedState=yt=e:yt=yt.next=e}return yt}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Es(e){var t=Ss;return Ss+=1,_a===null&&(_a=[]),e=Hc(_a,e,t),t=De,(yt===null?t.memoizedState:yt.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?wf:Rf),e}function Di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Es(e);if(e.$$typeof===D)return Ut(e)}throw Error(r(438,String(e)))}function yr(e){var t=null,n=De.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gr(),De.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=H;return t.index++,n}function Wn(e,t){return typeof t=="function"?t(e):t}function Ui(e){var t=xt();return xr(t,Ke,e)}function xr(e,t,n){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var a=e.baseQueue,s=l.pending;if(s!==null){if(a!==null){var c=a.next;a.next=s.next,s.next=c}t.baseQueue=a=s,l.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var p=c=null,O=null,B=t,J=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(He&ee)===ee:(vl&ee)===ee){var G=B.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===wa&&(J=!0);else if((vl&G)===G){B=B.next,G===wa&&(J=!0);continue}else ee={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(p=O=ee,c=s):O=O.next=ee,De.lanes|=G,Cl|=G;ee=B.action,ua&&n(s,ee),s=B.hasEagerState?B.eagerState:n(s,ee)}else G={lane:ee,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(p=O=G,c=s):O=O.next=G,De.lanes|=ee,Cl|=ee;B=B.next}while(B!==null&&B!==t);if(O===null?c=s:O.next=p,!Kt(s,e.memoizedState)&&(At=!0,J&&(n=Ra,n!==null)))throw n;e.memoizedState=s,e.baseState=c,e.baseQueue=O,l.lastRenderedState=s}return a===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function br(e){var t=xt(),n=t.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=e;var l=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var c=a=a.next;do s=e(s,c.action),c=c.next;while(c!==a);Kt(s,t.memoizedState)||(At=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,l]}function Pc(e,t,n){var l=De,a=xt(),s=Ve;if(s){if(n===void 0)throw Error(r(407));n=n()}else n=t();var c=!Kt((Ke||a).memoizedState,n);c&&(a.memoizedState=n,At=!0),a=a.queue;var p=Kc.bind(null,l,a,e);if(As(2048,8,p,[e]),a.getSnapshot!==t||c||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,La(9,ki(),Qc.bind(null,l,a,n,t),null),nt===null)throw Error(r(349));s||(vl&124)!==0||Zc(l,t,n)}return n}function Zc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=De.updateQueue,t===null?(t=gr(),De.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qc(e,t,n,l){t.value=n,t.getSnapshot=l,Jc(t)&&Wc(e)}function Kc(e,t,n){return n(function(){Jc(t)&&Wc(e)})}function Jc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function Wc(e){var t=Aa(e,2);t!==null&&nn(t,e,2)}function vr(e){var t=Vt();if(typeof e=="function"){var n=e;if(e=n(),ua){sn(!0);try{n()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},t}function Fc(e,t,n,l){return e.baseState=n,xr(e,Ke,typeof l=="function"?l:Wn)}function pp(e,t,n,l,a){if(Ii(e))throw Error(r(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){s.listeners.push(c)}};Y.T!==null?n(!0):s.isTransition=!1,l(s),n=t.pending,n===null?(s.next=t.pending=s,ef(t,s)):(s.next=n.next,t.pending=n.next=s)}}function ef(e,t){var n=t.action,l=t.payload,a=e.state;if(t.isTransition){var s=Y.T,c={};Y.T=c;try{var p=n(a,l),O=Y.S;O!==null&&O(c,p),tf(e,t,p)}catch(B){Nr(e,t,B)}finally{Y.T=s}}else try{s=n(a,l),tf(e,t,s)}catch(B){Nr(e,t,B)}}function tf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){nf(e,t,l)},function(l){return Nr(e,t,l)}):nf(e,t,n)}function nf(e,t,n){t.status="fulfilled",t.value=n,lf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,ef(e,n)))}function Nr(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,lf(t),t=t.next;while(t!==l)}e.action=null}function lf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function af(e,t){return t}function sf(e,t){if(Ve){var n=nt.formState;if(n!==null){e:{var l=De;if(Ve){if(ot){t:{for(var a=ot,s=Rn;a.nodeType!==8;){if(!s){a=null;break t}if(a=An(a.nextSibling),a===null){a=null;break t}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){ot=An(a.nextSibling),l=a.data==="F!";break e}}la(l)}l=!1}l&&(t=n[0])}}return n=Vt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},n.queue=l,n=Tf.bind(null,De,l),l.dispatch=n,l=vr(!1),s=Or.bind(null,De,!1,l.queue),l=Vt(),a={state:t,dispatch:null,action:e,pending:null},l.queue=a,n=pp.bind(null,De,a,s,n),a.dispatch=n,l.memoizedState=e,[t,n,!1]}function uf(e){var t=xt();return rf(t,Ke,e)}function rf(e,t,n){if(t=xr(e,t,af)[0],e=Ui(Wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Es(t)}catch(c){throw c===ys?Ri:c}else l=t;t=xt();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(De.flags|=2048,La(9,ki(),gp.bind(null,a,n),null)),[l,s,e]}function gp(e,t){e.action=t}function of(e){var t=xt(),n=Ke;if(n!==null)return rf(t,n,e);xt(),t=t.memoizedState,n=xt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function La(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=De.updateQueue,t===null&&(t=gr(),De.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function ki(){return{destroy:void 0,resource:void 0}}function cf(){return xt().memoizedState}function zi(e,t,n,l){var a=Vt();l=l===void 0?null:l,De.flags|=e,a.memoizedState=La(1|t,ki(),n,l)}function As(e,t,n,l){var a=xt();l=l===void 0?null:l;var s=a.memoizedState.inst;Ke!==null&&l!==null&&fr(l,Ke.memoizedState.deps)?a.memoizedState=La(t,s,n,l):(De.flags|=e,a.memoizedState=La(1|t,s,n,l))}function ff(e,t){zi(8390656,8,e,t)}function df(e,t){As(2048,8,e,t)}function mf(e,t){return As(4,2,e,t)}function hf(e,t){return As(4,4,e,t)}function pf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gf(e,t,n){n=n!=null?n.concat([e]):null,As(4,4,pf.bind(null,t,e),n)}function Sr(){}function yf(e,t){var n=xt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&fr(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function xf(e,t){var n=xt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&fr(t,l[1]))return l[0];if(l=e(),ua){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[l,t],l}function Er(e,t,n){return n===void 0||(vl&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=Nd(),De.lanes|=e,Cl|=e,n)}function bf(e,t,n,l){return Kt(n,t)?n:ja.current!==null?(e=Er(e,n,l),Kt(e,t)||(At=!0),e):(vl&42)===0?(At=!0,e.memoizedState=n):(e=Nd(),De.lanes|=e,Cl|=e,t)}function vf(e,t,n,l,a){var s=q.p;q.p=s!==0&&8>s?s:8;var c=Y.T,p={};Y.T=p,Or(e,!1,t,n);try{var O=a(),B=Y.S;if(B!==null&&B(p,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=dp(O,l);Ts(e,t,J,tn(e))}else Ts(e,t,l,tn(e))}catch(ee){Ts(e,t,{then:function(){},status:"rejected",reason:ee},tn())}finally{q.p=s,Y.T=c}}function yp(){}function Ar(e,t,n,l){if(e.tag!==5)throw Error(r(476));var a=Nf(e).queue;vf(e,a,t,R,n===null?yp:function(){return Sf(e),n(l)})}function Nf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sf(e){var t=Nf(e).next.queue;Ts(e,t,{},tn())}function Tr(){return Ut(Vs)}function Ef(){return xt().memoizedState}function Af(){return xt().memoizedState}function xp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=tn();e=xl(n);var l=bl(t,e,n);l!==null&&(nn(l,t,n),bs(l,t,n)),t={cache:tr()},e.payload=t;return}t=t.return}}function bp(e,t,n){var l=tn();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ii(e)?Of(t,n):(n=$u(e,t,n,l),n!==null&&(nn(n,e,l),Cf(n,t,l)))}function Tf(e,t,n){var l=tn();Ts(e,t,n,l)}function Ts(e,t,n,l){var a={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ii(e))Of(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,p=s(c,n);if(a.hasEagerState=!0,a.eagerState=p,Kt(p,c))return Ni(e,t,a,0),nt===null&&vi(),!1}catch{}finally{}if(n=$u(e,t,a,l),n!==null)return nn(n,e,l),Cf(n,t,l),!0}return!1}function Or(e,t,n,l){if(l={lane:2,revertLane:ao(),action:l,hasEagerState:!1,eagerState:null,next:null},Ii(e)){if(t)throw Error(r(479))}else t=$u(e,n,l,2),t!==null&&nn(t,e,2)}function Ii(e){var t=e.alternate;return e===De||t!==null&&t===De}function Of(e,t){Ma=_i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cf(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,W(e,n)}}var Hi={readContext:Ut,use:Di,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},wf={readContext:Ut,use:Di,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:ff,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zi(4194308,4,pf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var n=Vt();t=t===void 0?null:t;var l=e();if(ua){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Vt();if(n!==void 0){var a=n(t);if(ua){sn(!0);try{n(t)}finally{sn(!1)}}}else a=t;return l.memoizedState=l.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},l.queue=e,e=e.dispatch=bp.bind(null,De,e),[l.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=vr(e);var t=e.queue,n=Tf.bind(null,De,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Sr,useDeferredValue:function(e,t){var n=Vt();return Er(n,e,t)},useTransition:function(){var e=vr(!1);return e=vf.bind(null,De,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=De,a=Vt();if(Ve){if(n===void 0)throw Error(r(407));n=n()}else{if(n=t(),nt===null)throw Error(r(349));(He&124)!==0||Zc(l,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,ff(Kc.bind(null,l,s,e),[e]),l.flags|=2048,La(9,ki(),Qc.bind(null,l,s,n,t),null),n},useId:function(){var e=Vt(),t=nt.identifierPrefix;if(Ve){var n=Qn,l=Zn;n=(l&~(1<<32-Lt(l)-1)).toString(32)+n,t="«"+t+"R"+n,n=Li++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=mp++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Tr,useFormState:sf,useActionState:sf,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Or.bind(null,De,!0,n),n.dispatch=t,[e,t]},useMemoCache:yr,useCacheRefresh:function(){return Vt().memoizedState=xp.bind(null,De)}},Rf={readContext:Ut,use:Di,useCallback:yf,useContext:Ut,useEffect:df,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:xf,useReducer:Ui,useRef:cf,useState:function(){return Ui(Wn)},useDebugValue:Sr,useDeferredValue:function(e,t){var n=xt();return bf(n,Ke.memoizedState,e,t)},useTransition:function(){var e=Ui(Wn)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Es(e),t]},useSyncExternalStore:Pc,useId:Ef,useHostTransitionStatus:Tr,useFormState:uf,useActionState:uf,useOptimistic:function(e,t){var n=xt();return Fc(n,Ke,e,t)},useMemoCache:yr,useCacheRefresh:Af},vp={readContext:Ut,use:Di,useCallback:yf,useContext:Ut,useEffect:df,useImperativeHandle:gf,useInsertionEffect:mf,useLayoutEffect:hf,useMemo:xf,useReducer:br,useRef:cf,useState:function(){return br(Wn)},useDebugValue:Sr,useDeferredValue:function(e,t){var n=xt();return Ke===null?Er(n,e,t):bf(n,Ke.memoizedState,e,t)},useTransition:function(){var e=br(Wn)[0],t=xt().memoizedState;return[typeof e=="boolean"?e:Es(e),t]},useSyncExternalStore:Pc,useId:Ef,useHostTransitionStatus:Tr,useFormState:of,useActionState:of,useOptimistic:function(e,t){var n=xt();return Ke!==null?Fc(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:yr,useCacheRefresh:Af},Da=null,Os=0;function Bi(e){var t=Os;return Os+=1,Da===null&&(Da=[]),Hc(Da,e,t)}function Cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Yi(e,t){throw t.$$typeof===T?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jf(e){var t=e._init;return t(e._payload)}function Mf(e){function t(_,M){if(e){var k=_.deletions;k===null?(_.deletions=[M],_.flags|=16):k.push(M)}}function n(_,M){if(!e)return null;for(;M!==null;)t(_,M),M=M.sibling;return null}function l(_){for(var M=new Map;_!==null;)_.key!==null?M.set(_.key,_):M.set(_.index,_),_=_.sibling;return M}function a(_,M){return _=Pn(_,M),_.index=0,_.sibling=null,_}function s(_,M,k){return _.index=k,e?(k=_.alternate,k!==null?(k=k.index,k<M?(_.flags|=67108866,M):k):(_.flags|=67108866,M)):(_.flags|=1048576,M)}function c(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function p(_,M,k,F){return M===null||M.tag!==6?(M=Pu(k,_.mode,F),M.return=_,M):(M=a(M,k),M.return=_,M)}function O(_,M,k,F){var xe=k.type;return xe===y?J(_,M,k.props.children,F,k.key):M!==null&&(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&jf(xe)===M.type)?(M=a(M,k.props),Cs(M,k),M.return=_,M):(M=Ei(k.type,k.key,k.props,null,_.mode,F),Cs(M,k),M.return=_,M)}function B(_,M,k,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=Zu(k,_.mode,F),M.return=_,M):(M=a(M,k.children||[]),M.return=_,M)}function J(_,M,k,F,xe){return M===null||M.tag!==7?(M=Fl(k,_.mode,F,xe),M.return=_,M):(M=a(M,k),M.return=_,M)}function ee(_,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Pu(""+M,_.mode,k),M.return=_,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return k=Ei(M.type,M.key,M.props,null,_.mode,k),Cs(k,M),k.return=_,k;case A:return M=Zu(M,_.mode,k),M.return=_,M;case le:var F=M._init;return M=F(M._payload),ee(_,M,k)}if(be(M)||ce(M))return M=Fl(M,_.mode,k,null),M.return=_,M;if(typeof M.then=="function")return ee(_,Bi(M),k);if(M.$$typeof===D)return ee(_,Ci(_,M),k);Yi(_,M)}return null}function G(_,M,k,F){var xe=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return xe!==null?null:p(_,M,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===xe?O(_,M,k,F):null;case A:return k.key===xe?B(_,M,k,F):null;case le:return xe=k._init,k=xe(k._payload),G(_,M,k,F)}if(be(k)||ce(k))return xe!==null?null:J(_,M,k,F,null);if(typeof k.then=="function")return G(_,M,Bi(k),F);if(k.$$typeof===D)return G(_,M,Ci(_,k),F);Yi(_,k)}return null}function $(_,M,k,F,xe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return _=_.get(k)||null,p(M,_,""+F,xe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return _=_.get(F.key===null?k:F.key)||null,O(M,_,F,xe);case A:return _=_.get(F.key===null?k:F.key)||null,B(M,_,F,xe);case le:var ke=F._init;return F=ke(F._payload),$(_,M,k,F,xe)}if(be(F)||ce(F))return _=_.get(k)||null,J(M,_,F,xe,null);if(typeof F.then=="function")return $(_,M,k,Bi(F),xe);if(F.$$typeof===D)return $(_,M,k,Ci(M,F),xe);Yi(M,F)}return null}function Ce(_,M,k,F){for(var xe=null,ke=null,Ne=M,Oe=M=0,Ot=null;Ne!==null&&Oe<k.length;Oe++){Ne.index>Oe?(Ot=Ne,Ne=null):Ot=Ne.sibling;var Ge=G(_,Ne,k[Oe],F);if(Ge===null){Ne===null&&(Ne=Ot);break}e&&Ne&&Ge.alternate===null&&t(_,Ne),M=s(Ge,M,Oe),ke===null?xe=Ge:ke.sibling=Ge,ke=Ge,Ne=Ot}if(Oe===k.length)return n(_,Ne),Ve&&ta(_,Oe),xe;if(Ne===null){for(;Oe<k.length;Oe++)Ne=ee(_,k[Oe],F),Ne!==null&&(M=s(Ne,M,Oe),ke===null?xe=Ne:ke.sibling=Ne,ke=Ne);return Ve&&ta(_,Oe),xe}for(Ne=l(Ne);Oe<k.length;Oe++)Ot=$(Ne,_,Oe,k[Oe],F),Ot!==null&&(e&&Ot.alternate!==null&&Ne.delete(Ot.key===null?Oe:Ot.key),M=s(Ot,M,Oe),ke===null?xe=Ot:ke.sibling=Ot,ke=Ot);return e&&Ne.forEach(function(kl){return t(_,kl)}),Ve&&ta(_,Oe),xe}function Ae(_,M,k,F){if(k==null)throw Error(r(151));for(var xe=null,ke=null,Ne=M,Oe=M=0,Ot=null,Ge=k.next();Ne!==null&&!Ge.done;Oe++,Ge=k.next()){Ne.index>Oe?(Ot=Ne,Ne=null):Ot=Ne.sibling;var kl=G(_,Ne,Ge.value,F);if(kl===null){Ne===null&&(Ne=Ot);break}e&&Ne&&kl.alternate===null&&t(_,Ne),M=s(kl,M,Oe),ke===null?xe=kl:ke.sibling=kl,ke=kl,Ne=Ot}if(Ge.done)return n(_,Ne),Ve&&ta(_,Oe),xe;if(Ne===null){for(;!Ge.done;Oe++,Ge=k.next())Ge=ee(_,Ge.value,F),Ge!==null&&(M=s(Ge,M,Oe),ke===null?xe=Ge:ke.sibling=Ge,ke=Ge);return Ve&&ta(_,Oe),xe}for(Ne=l(Ne);!Ge.done;Oe++,Ge=k.next())Ge=$(Ne,_,Oe,Ge.value,F),Ge!==null&&(e&&Ge.alternate!==null&&Ne.delete(Ge.key===null?Oe:Ge.key),M=s(Ge,M,Oe),ke===null?xe=Ge:ke.sibling=Ge,ke=Ge);return e&&Ne.forEach(function(N0){return t(_,N0)}),Ve&&ta(_,Oe),xe}function We(_,M,k,F){if(typeof k=="object"&&k!==null&&k.type===y&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var xe=k.key;M!==null;){if(M.key===xe){if(xe=k.type,xe===y){if(M.tag===7){n(_,M.sibling),F=a(M,k.props.children),F.return=_,_=F;break e}}else if(M.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===le&&jf(xe)===M.type){n(_,M.sibling),F=a(M,k.props),Cs(F,k),F.return=_,_=F;break e}n(_,M);break}else t(_,M);M=M.sibling}k.type===y?(F=Fl(k.props.children,_.mode,F,k.key),F.return=_,_=F):(F=Ei(k.type,k.key,k.props,null,_.mode,F),Cs(F,k),F.return=_,_=F)}return c(_);case A:e:{for(xe=k.key;M!==null;){if(M.key===xe)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){n(_,M.sibling),F=a(M,k.children||[]),F.return=_,_=F;break e}else{n(_,M);break}else t(_,M);M=M.sibling}F=Zu(k,_.mode,F),F.return=_,_=F}return c(_);case le:return xe=k._init,k=xe(k._payload),We(_,M,k,F)}if(be(k))return Ce(_,M,k,F);if(ce(k)){if(xe=ce(k),typeof xe!="function")throw Error(r(150));return k=xe.call(k),Ae(_,M,k,F)}if(typeof k.then=="function")return We(_,M,Bi(k),F);if(k.$$typeof===D)return We(_,M,Ci(_,k),F);Yi(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(n(_,M.sibling),F=a(M,k),F.return=_,_=F):(n(_,M),F=Pu(k,_.mode,F),F.return=_,_=F),c(_)):n(_,M)}return function(_,M,k,F){try{Os=0;var xe=We(_,M,k,F);return Da=null,xe}catch(Ne){if(Ne===ys||Ne===Ri)throw Ne;var ke=Jt(29,Ne,null,_.mode);return ke.lanes=F,ke.return=_,ke}finally{}}}var Ua=Mf(!0),_f=Mf(!1),mn=U(null),jn=null;function Nl(e){var t=e.alternate;K(St,St.current&1),K(mn,e),jn===null&&(t===null||ja.current!==null||t.memoizedState!==null)&&(jn=e)}function Lf(e){if(e.tag===22){if(K(St,St.current),K(mn,e),jn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(jn=e)}}else Sl()}function Sl(){K(St,St.current),K(mn,mn.current)}function Fn(e){L(mn),jn===e&&(jn=null),L(St)}var St=U(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||yo(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Cr(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wr={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=tn(),a=xl(l);a.payload=t,n!=null&&(a.callback=n),t=bl(e,a,l),t!==null&&(nn(t,e,l),bs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=tn(),a=xl(l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=bl(e,a,l),t!==null&&(nn(t,e,l),bs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tn(),l=xl(n);l.tag=2,t!=null&&(l.callback=t),t=bl(e,l,n),t!==null&&(nn(t,e,n),bs(t,e,n))}};function Df(e,t,n,l,a,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,c):t.prototype&&t.prototype.isPureReactComponent?!os(n,l)||!os(a,s):!0}function Uf(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&wr.enqueueReplaceState(t,t.state,null)}function ra(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kf(e){Vi(e)}function zf(e){console.error(e)}function If(e){Vi(e)}function qi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Hf(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Rr(e,t,n){return n=xl(n),n.tag=3,n.payload={element:null},n.callback=function(){qi(e,t)},n}function Bf(e){return e=xl(e),e.tag=3,e}function Yf(e,t,n,l){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=l.value;e.payload=function(){return a(s)},e.callback=function(){Hf(t,n,l)}}var c=n.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){Hf(t,n,l),typeof a!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function Np(e,t,n,l,a){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&hs(t,n,a,!0),n=mn.current,n!==null){switch(n.tag){case 13:return jn===null?Fr():n.alternate===null&&ct===0&&(ct=3),n.flags&=-257,n.flags|=65536,n.lanes=a,l===ar?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),to(e,l,a)),!1;case 22:return n.flags|=65536,l===ar?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),to(e,l,a)),!1}throw Error(r(435,n.tag))}return to(e,l,a),Fr(),!1}if(Ve)return t=mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,l!==Ju&&(e=Error(r(422),{cause:l}),ms(on(e,n)))):(l!==Ju&&(t=Error(r(423),{cause:l}),ms(on(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,l=on(l,n),a=Rr(e.stateNode,l,a),ur(e,a),ct!==4&&(ct=2)),!1;var s=Error(r(520),{cause:l});if(s=on(s,n),Ds===null?Ds=[s]:Ds.push(s),ct!==4&&(ct=2),t===null)return!0;l=on(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Rr(n.stateNode,l,e),ur(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(wl===null||!wl.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Bf(a),Yf(a,e,n,l),ur(n,a),!1}n=n.return}while(n!==null);return!1}var Gf=Error(r(461)),At=!1;function Rt(e,t,n,l){t.child=e===null?_f(t,null,n,l):Ua(t,e.child,n,l)}function Vf(e,t,n,l,a){n=n.render;var s=t.ref;if("ref"in l){var c={};for(var p in l)p!=="ref"&&(c[p]=l[p])}else c=l;return sa(t),l=dr(e,t,n,c,s,a),p=mr(),e!==null&&!At?(hr(e,t,a),el(e,t,a)):(Ve&&p&&Qu(t),t.flags|=1,Rt(e,t,l,a),t.child)}function qf(e,t,n,l,a){if(e===null){var s=n.type;return typeof s=="function"&&!Xu(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,$f(e,t,s,l,a)):(e=Ei(n.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!zr(e,a)){var c=s.memoizedProps;if(n=n.compare,n=n!==null?n:os,n(c,l)&&e.ref===t.ref)return el(e,t,a)}return t.flags|=1,e=Pn(s,l),e.ref=t.ref,e.return=t,t.child=e}function $f(e,t,n,l,a){if(e!==null){var s=e.memoizedProps;if(os(s,l)&&e.ref===t.ref)if(At=!1,t.pendingProps=l=s,zr(e,a))(e.flags&131072)!==0&&(At=!0);else return t.lanes=e.lanes,el(e,t,a)}return jr(e,t,n,l,a)}function Xf(e,t,n){var l=t.pendingProps,a=l.children,s=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=s!==null?s.baseLanes|n:n,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;t.childLanes=s&~l}else t.childLanes=0,t.child=null;return Pf(e,t,l,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wi(t,s!==null?s.cachePool:null),s!==null?qc(t,s):or(),Lf(t);else return t.lanes=t.childLanes=536870912,Pf(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(wi(t,s.cachePool),qc(t,s),Sl(),t.memoizedState=null):(e!==null&&wi(t,null),or(),Sl());return Rt(e,t,a,n),t.child}function Pf(e,t,n,l){var a=lr();return a=a===null?null:{parent:Nt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&wi(t,null),or(),Lf(t),e!==null&&hs(e,t,l,!0),null}function $i(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(r(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function jr(e,t,n,l,a){return sa(t),n=dr(e,t,n,l,void 0,a),l=mr(),e!==null&&!At?(hr(e,t,a),el(e,t,a)):(Ve&&l&&Qu(t),t.flags|=1,Rt(e,t,n,a),t.child)}function Zf(e,t,n,l,a,s){return sa(t),t.updateQueue=null,n=Xc(t,l,n,a),$c(e),l=mr(),e!==null&&!At?(hr(e,t,s),el(e,t,s)):(Ve&&l&&Qu(t),t.flags|=1,Rt(e,t,n,s),t.child)}function Qf(e,t,n,l,a){if(sa(t),t.stateNode===null){var s=Ta,c=n.contextType;typeof c=="object"&&c!==null&&(s=Ut(c)),s=new n(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},sr(t),c=n.contextType,s.context=typeof c=="object"&&c!==null?Ut(c):Ta,s.state=t.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Cr(t,n,c,l),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(c=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),c!==s.state&&wr.enqueueReplaceState(s,s.state,null),Ns(t,l,s,a),vs(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var p=t.memoizedProps,O=ra(n,p);s.props=O;var B=s.context,J=n.contextType;c=Ta,typeof J=="object"&&J!==null&&(c=Ut(J));var ee=n.getDerivedStateFromProps;J=typeof ee=="function"||typeof s.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,J||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p||B!==c)&&Uf(t,s,l,c),yl=!1;var G=t.memoizedState;s.state=G,Ns(t,l,s,a),vs(),B=t.memoizedState,p||G!==B||yl?(typeof ee=="function"&&(Cr(t,n,ee,l),B=t.memoizedState),(O=yl||Df(t,n,O,l,G,B,c))?(J||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=B),s.props=l,s.state=B,s.context=c,l=O):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,ir(e,t),c=t.memoizedProps,J=ra(n,c),s.props=J,ee=t.pendingProps,G=s.context,B=n.contextType,O=Ta,typeof B=="object"&&B!==null&&(O=Ut(B)),p=n.getDerivedStateFromProps,(B=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==ee||G!==O)&&Uf(t,s,l,O),yl=!1,G=t.memoizedState,s.state=G,Ns(t,l,s,a),vs();var $=t.memoizedState;c!==ee||G!==$||yl||e!==null&&e.dependencies!==null&&Oi(e.dependencies)?(typeof p=="function"&&(Cr(t,n,p,l),$=t.memoizedState),(J=yl||Df(t,n,J,l,G,$,O)||e!==null&&e.dependencies!==null&&Oi(e.dependencies))?(B||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,$,O),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,$,O)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=$),s.props=l,s.state=$,s.context=O,l=J):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,$i(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=Ua(t,e.child,null,a),t.child=Ua(t,null,n,a)):Rt(e,t,n,a),t.memoizedState=s.state,e=t.child):e=el(e,t,a),e}function Kf(e,t,n,l){return ds(),t.flags|=256,Rt(e,t,n,l),t.child}var Mr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _r(e){return{baseLanes:e,cachePool:kc()}}function Lr(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=hn),e}function Jf(e,t,n){var l=t.pendingProps,a=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),c&&(a=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ve){if(a?Nl(t):Sl(),Ve){var p=ot,O;if(O=p){e:{for(O=p,p=Rn;O.nodeType!==8;){if(!p){p=null;break e}if(O=An(O.nextSibling),O===null){p=null;break e}}p=O}p!==null?(t.memoizedState={dehydrated:p,treeContext:ea!==null?{id:Zn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},O=Jt(18,null,null,0),O.stateNode=p,O.return=t,t.child=O,Ht=t,ot=null,O=!0):O=!1}O||la(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return yo(p)?t.lanes=32:t.lanes=536870912,null;Fn(t)}return p=l.children,l=l.fallback,a?(Sl(),a=t.mode,p=Xi({mode:"hidden",children:p},a),l=Fl(l,a,n,null),p.return=t,l.return=t,p.sibling=l,t.child=p,a=t.child,a.memoizedState=_r(n),a.childLanes=Lr(e,c,n),t.memoizedState=Mr,l):(Nl(t),Dr(t,p))}if(O=e.memoizedState,O!==null&&(p=O.dehydrated,p!==null)){if(s)t.flags&256?(Nl(t),t.flags&=-257,t=Ur(e,t,n)):t.memoizedState!==null?(Sl(),t.child=e.child,t.flags|=128,t=null):(Sl(),a=l.fallback,p=t.mode,l=Xi({mode:"visible",children:l.children},p),a=Fl(a,p,n,null),a.flags|=2,l.return=t,a.return=t,l.sibling=a,t.child=l,Ua(t,e.child,null,n),l=t.child,l.memoizedState=_r(n),l.childLanes=Lr(e,c,n),t.memoizedState=Mr,t=a);else if(Nl(t),yo(p)){if(c=p.nextSibling&&p.nextSibling.dataset,c)var B=c.dgst;c=B,l=Error(r(419)),l.stack="",l.digest=c,ms({value:l,source:null,stack:null}),t=Ur(e,t,n)}else if(At||hs(e,t,n,!1),c=(n&e.childLanes)!==0,At||c){if(c=nt,c!==null&&(l=n&-n,l=(l&42)!==0?1:oe(l),l=(l&(c.suspendedLanes|n))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Aa(e,l),nn(c,e,l),Gf;p.data==="$?"||Fr(),t=Ur(e,t,n)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,ot=An(p.nextSibling),Ht=t,Ve=!0,na=null,Rn=!1,e!==null&&(fn[dn++]=Zn,fn[dn++]=Qn,fn[dn++]=ea,Zn=e.id,Qn=e.overflow,ea=t),t=Dr(t,l.children),t.flags|=4096);return t}return a?(Sl(),a=l.fallback,p=t.mode,O=e.child,B=O.sibling,l=Pn(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,B!==null?a=Pn(B,a):(a=Fl(a,p,n,null),a.flags|=2),a.return=t,l.return=t,l.sibling=a,t.child=l,l=a,a=t.child,p=e.child.memoizedState,p===null?p=_r(n):(O=p.cachePool,O!==null?(B=Nt._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=kc(),p={baseLanes:p.baseLanes|n,cachePool:O}),a.memoizedState=p,a.childLanes=Lr(e,c,n),t.memoizedState=Mr,l):(Nl(t),n=e.child,e=n.sibling,n=Pn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=n,t.memoizedState=null,n)}function Dr(e,t){return t=Xi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xi(e,t){return e=Jt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ur(e,t,n){return Ua(t,e.child,null,n),e=Dr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wf(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Fu(e.return,t,n)}function kr(e,t,n,l,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=l,s.tail=n,s.tailMode=a)}function Ff(e,t,n){var l=t.pendingProps,a=l.revealOrder,s=l.tail;if(Rt(e,t,l.children,n),l=St.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wf(e,n,t);else if(e.tag===19)Wf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(K(St,l),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Gi(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),kr(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gi(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}kr(t,!0,n,null,s);break;case"together":kr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Cl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(hs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Oi(e)))}function Sp(e,t,n){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),gl(t,Nt,e.memoizedState.cache),ds();break;case 27:case 5:Ue(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:gl(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Nl(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Jf(e,t,n):(Nl(t),e=el(e,t,n),e!==null?e.sibling:null);Nl(t);break;case 19:var a=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(hs(e,t,n,!1),l=(n&t.childLanes)!==0),a){if(l)return Ff(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),K(St,St.current),l)break;return null;case 22:case 23:return t.lanes=0,Xf(e,t,n);case 24:gl(t,Nt,e.memoizedState.cache)}return el(e,t,n)}function ed(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)At=!0;else{if(!zr(e,n)&&(t.flags&128)===0)return At=!1,Sp(e,t,n);At=(e.flags&131072)!==0}else At=!1,Ve&&(t.flags&1048576)!==0&&Rc(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,a=l._init;if(l=a(l._payload),t.type=l,typeof l=="function")Xu(l)?(e=ra(l,e),t.tag=1,t=Qf(null,t,l,e,n)):(t.tag=0,t=jr(null,t,l,e,n));else{if(l!=null){if(a=l.$$typeof,a===Q){t.tag=11,t=Vf(null,t,l,e,n);break e}else if(a===te){t.tag=14,t=qf(null,t,l,e,n);break e}}throw t=he(l)||l,Error(r(306,t,""))}}return t;case 0:return jr(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,a=ra(l,t.pendingProps),Qf(e,t,l,a,n);case 3:e:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(r(387));l=t.pendingProps;var s=t.memoizedState;a=s.element,ir(e,t),Ns(t,l,null,n);var c=t.memoizedState;if(l=c.cache,gl(t,Nt,l),l!==s.cache&&er(t,[Nt],n,!0),vs(),l=c.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Kf(e,t,l,n);break e}else if(l!==a){a=on(Error(r(424)),t),ms(a),t=Kf(e,t,l,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ot=An(e.firstChild),Ht=t,Ve=!0,na=null,Rn=!0,n=_f(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ds(),l===a){t=el(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return $i(e,t),e===null?(n=am(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ve||(n=t.type,e=t.pendingProps,l=iu(Ee.current).createElement(n),l[ae]=t,l[pe]=e,Mt(l,n,e),st(l),t.stateNode=l):t.memoizedState=am(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ue(t),e===null&&Ve&&(l=t.stateNode=tm(t.type,t.pendingProps,Ee.current),Ht=t,Rn=!0,a=ot,Ml(t.type)?(xo=a,ot=An(l.firstChild)):ot=a),Rt(e,t,t.pendingProps.children,n),$i(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ve&&((a=l=ot)&&(l=Kp(l,t.type,t.pendingProps,Rn),l!==null?(t.stateNode=l,Ht=t,ot=An(l.firstChild),Rn=!1,a=!0):a=!1),a||la(t)),Ue(t),a=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,l=s.children,ho(a,s)?l=null:c!==null&&ho(a,c)&&(t.flags|=32),t.memoizedState!==null&&(a=dr(e,t,hp,null,null,n),Vs._currentValue=a),$i(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&Ve&&((e=n=ot)&&(n=Jp(n,t.pendingProps,Rn),n!==null?(t.stateNode=n,Ht=t,ot=null,e=!0):e=!1),e||la(t)),null;case 13:return Jf(e,t,n);case 4:return me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ua(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return Vf(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,gl(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return a=t.type._context,l=t.pendingProps.children,sa(t),a=Ut(a),l=l(a),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return qf(e,t,t.type,t.pendingProps,n);case 15:return $f(e,t,t.type,t.pendingProps,n);case 19:return Ff(e,t,n);case 31:return l=t.pendingProps,n=t.mode,l={mode:l.mode,children:l.children},e===null?(n=Xi(l,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Pn(e.child,l),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Xf(e,t,n);case 24:return sa(t),l=Ut(Nt),e===null?(a=lr(),a===null&&(a=nt,s=tr(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:l,cache:a},sr(t),gl(t,Nt,a)):((e.lanes&n)!==0&&(ir(e,t),Ns(t,null,null,n),vs()),a=e.memoizedState,s=t.memoizedState,a.parent!==l?(a={parent:l,cache:l},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),gl(t,Nt,l)):(l=s.cache,gl(t,Nt,l),l!==a.cache&&er(t,[Nt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function tl(e){e.flags|=4}function td(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!om(t)){if(t=mn.current,t!==null&&((He&4194048)===He?jn!==null:(He&62914560)!==He&&(He&536870912)===0||t!==jn))throw xs=ar,zc;e.flags|=8192}}function Pi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Yl():536870912,e.lanes|=t,Ha|=t)}function ws(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags&65011712,l|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function Ep(e,t,n){var l=t.pendingProps;switch(Ku(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return ut(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Jn(Nt),Xe(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fs(t)?tl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),ut(t),null;case 26:return n=t.memoizedState,e===null?(tl(t),n!==null?(ut(t),td(t,n)):(ut(t),t.flags&=-16777217)):n?n!==e.memoizedState?(tl(t),ut(t),td(t,n)):(ut(t),t.flags&=-16777217):(e.memoizedProps!==l&&tl(t),ut(t),t.flags&=-16777217),null;case 27:_t(t),n=Ee.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&tl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ut(t),null}e=de.current,fs(t)?jc(t):(e=tm(a,l,n),t.stateNode=e,tl(t))}return ut(t),null;case 5:if(_t(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&tl(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return ut(t),null}if(e=de.current,fs(t))jc(t);else{switch(a=iu(Ee.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?a.createElement("select",{is:l.is}):a.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?a.createElement(n,{is:l.is}):a.createElement(n)}}e[ae]=t,e[pe]=l;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Mt(e,n,l),n){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&tl(t)}}return ut(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&tl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=Ee.current,fs(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,a=Ht,a!==null)switch(a.tag){case 27:case 5:l=a.memoizedProps}e[ae]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Zd(e.nodeValue,n)),e||la(t)}else e=iu(e).createTextNode(l),e[ae]=t,t.stateNode=e}return ut(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=fs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!a)throw Error(r(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));a[ae]=t}else ds(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ut(t),a=!1}else a=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Fn(t),t):(Fn(t),null)}if(Fn(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=l!==null,e=e!==null&&e.memoizedState!==null,n){l=t.child,a=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(a=l.alternate.memoizedState.cachePool.pool);var s=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==a&&(l.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Pi(t,t.updateQueue),ut(t),null;case 4:return Xe(),e===null&&ro(t.stateNode.containerInfo),ut(t),null;case 10:return Jn(t.type),ut(t),null;case 19:if(L(St),a=t.memoizedState,a===null)return ut(t),null;if(l=(t.flags&128)!==0,s=a.rendering,s===null)if(l)ws(a,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=Gi(e),s!==null){for(t.flags|=128,ws(a,!1),e=s.updateQueue,t.updateQueue=e,Pi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)wc(n,e),n=n.sibling;return K(St,St.current&1|2),t.child}e=e.sibling}a.tail!==null&&Et()>Ki&&(t.flags|=128,l=!0,ws(a,!1),t.lanes=4194304)}else{if(!l)if(e=Gi(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Pi(t,e),ws(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ve)return ut(t),null}else 2*Et()-a.renderingStartTime>Ki&&n!==536870912&&(t.flags|=128,l=!0,ws(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(e=a.last,e!==null?e.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Et(),t.sibling=null,e=St.current,K(St,l?e&1|2:e&1),t):(ut(t),null);case 22:case 23:return Fn(t),cr(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),n=t.updateQueue,n!==null&&Pi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&L(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jn(Nt),ut(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Ap(e,t){switch(Ku(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(Nt),Xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _t(t),null;case 13:if(Fn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(St),null;case 4:return Xe(),null;case 10:return Jn(t.type),null;case 22:case 23:return Fn(t),cr(),e!==null&&L(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jn(Nt),null;case 25:return null;default:return null}}function nd(e,t){switch(Ku(t),t.tag){case 3:Jn(Nt),Xe();break;case 26:case 27:case 5:_t(t);break;case 4:Xe();break;case 13:Fn(t);break;case 19:L(St);break;case 10:Jn(t.type);break;case 22:case 23:Fn(t),cr(),e!==null&&L(ia);break;case 24:Jn(Nt)}}function Rs(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var a=l.next;n=a;do{if((n.tag&e)===e){l=void 0;var s=n.create,c=n.inst;l=s(),c.destroy=l}n=n.next}while(n!==a)}}catch(p){Fe(t,t.return,p)}}function El(e,t,n){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){var c=l.inst,p=c.destroy;if(p!==void 0){c.destroy=void 0,a=t;var O=n,B=p;try{B()}catch(J){Fe(a,O,J)}}}l=l.next}while(l!==s)}}catch(J){Fe(t,t.return,J)}}function ld(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Vc(t,n)}catch(l){Fe(e,e.return,l)}}}function ad(e,t,n){n.props=ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Fe(e,t,l)}}function js(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(a){Fe(e,t,a)}}function Mn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(a){Fe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Fe(e,t,a)}else n.current=null}function sd(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(a){Fe(e,e.return,a)}}function Ir(e,t,n){try{var l=e.stateNode;$p(l,e.type,n,t),l[pe]=t}catch(a){Fe(e,e.return,a)}}function id(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ml(e.type)||e.tag===4}function Hr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ml(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Br(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=su));else if(l!==4&&(l===27&&Ml(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Br(e,t,n),e=e.sibling;e!==null;)Br(e,t,n),e=e.sibling}function Zi(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&Ml(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function ud(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mt(t,l,n),t[ae]=e,t[pe]=n}catch(s){Fe(e,e.return,s)}}var nl=!1,ht=!1,Yr=!1,rd=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Tp(e,t){if(e=e.containerInfo,fo=du,e=xc(e),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var a=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var c=0,p=-1,O=-1,B=0,J=0,ee=e,G=null;t:for(;;){for(var $;ee!==n||a!==0&&ee.nodeType!==3||(p=c+a),ee!==s||l!==0&&ee.nodeType!==3||(O=c+l),ee.nodeType===3&&(c+=ee.nodeValue.length),($=ee.firstChild)!==null;)G=ee,ee=$;for(;;){if(ee===e)break t;if(G===n&&++B===a&&(p=c),G===s&&++J===l&&(O=c),($=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=$}n=p===-1||O===-1?null:{start:p,end:O}}else n=null}n=n||{start:0,end:0}}else n=null;for(mo={focusedElem:e,selectionRange:n},du=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){switch(t=Tt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,l=n.stateNode;try{var Ce=ra(n.type,a,n.elementType===n.type);e=l.getSnapshotBeforeUpdate(Ce,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ae){Fe(n,n.return,Ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)go(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":go(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}}function od(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Al(e,n),l&4&&Rs(5,n);break;case 1:if(Al(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(c){Fe(n,n.return,c)}else{var a=ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){Fe(n,n.return,c)}}l&64&&ld(n),l&512&&js(n,n.return);break;case 3:if(Al(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Vc(e,t)}catch(c){Fe(n,n.return,c)}}break;case 27:t===null&&l&4&&ud(n);case 26:case 5:Al(e,n),t===null&&l&4&&sd(n),l&512&&js(n,n.return);break;case 12:Al(e,n);break;case 13:Al(e,n),l&4&&dd(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Dp.bind(null,n),Wp(e,n))));break;case 22:if(l=n.memoizedState!==null||nl,!l){t=t!==null&&t.memoizedState!==null||ht,a=nl;var s=ht;nl=l,(ht=t)&&!s?Tl(e,n,(n.subtreeFlags&8772)!==0):Al(e,n),nl=a,ht=s}break;case 30:break;default:Al(e,n)}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,qt=!1;function ll(e,t,n){for(n=n.child;n!==null;)fd(e,t,n),n=n.sibling}function fd(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Pt,n)}catch{}switch(n.tag){case 26:ht||Mn(n,t),ll(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ht||Mn(n,t);var l=at,a=qt;Ml(n.type)&&(at=n.stateNode,qt=!1),ll(e,t,n),Hs(n.stateNode),at=l,qt=a;break;case 5:ht||Mn(n,t);case 6:if(l=at,a=qt,at=null,ll(e,t,n),at=l,qt=a,at!==null)if(qt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(s){Fe(n,t,s)}else try{at.removeChild(n.stateNode)}catch(s){Fe(n,t,s)}break;case 18:at!==null&&(qt?(e=at,Fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ps(e)):Fd(at,n.stateNode));break;case 4:l=at,a=qt,at=n.stateNode.containerInfo,qt=!0,ll(e,t,n),at=l,qt=a;break;case 0:case 11:case 14:case 15:ht||El(2,n,t),ht||El(4,n,t),ll(e,t,n);break;case 1:ht||(Mn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&ad(n,t,l)),ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:ht=(l=ht)||n.memoizedState!==null,ll(e,t,n),ht=l;break;default:ll(e,t,n)}}function dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ps(e)}catch(n){Fe(t,t.return,n)}}function Op(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new rd),t;default:throw Error(r(435,e.tag))}}function Gr(e,t){var n=Op(e);t.forEach(function(l){var a=Up.bind(null,e,l);n.has(l)||(n.add(l),l.then(a,a))})}function Wt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var a=n[l],s=e,c=t,p=c;e:for(;p!==null;){switch(p.tag){case 27:if(Ml(p.type)){at=p.stateNode,qt=!1;break e}break;case 5:at=p.stateNode,qt=!1;break e;case 3:case 4:at=p.stateNode.containerInfo,qt=!0;break e}p=p.return}if(at===null)throw Error(r(160));fd(s,c,a),at=null,qt=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)md(t,e),t=t.sibling}var En=null;function md(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(t,e),Ft(e),l&4&&(El(3,e,e.return),Rs(3,e),El(5,e,e.return));break;case 1:Wt(t,e),Ft(e),l&512&&(ht||n===null||Mn(n,n.return)),l&64&&nl&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var a=En;if(Wt(t,e),Ft(e),l&512&&(ht||n===null||Mn(n,n.return)),l&4){var s=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(l){case"title":s=a.getElementsByTagName("title")[0],(!s||s[Vl]||s[ae]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(l),a.head.insertBefore(s,a.querySelector("head > title"))),Mt(s,l,n),s[ae]=e,st(s),l=s;break e;case"link":var c=um("link","href",a).get(l+(n.href||""));if(c){for(var p=0;p<c.length;p++)if(s=c[p],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){c.splice(p,1);break t}}s=a.createElement(l),Mt(s,l,n),a.head.appendChild(s);break;case"meta":if(c=um("meta","content",a).get(l+(n.content||""))){for(p=0;p<c.length;p++)if(s=c[p],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){c.splice(p,1);break t}}s=a.createElement(l),Mt(s,l,n),a.head.appendChild(s);break;default:throw Error(r(468,l))}s[ae]=e,st(s),l=s}e.stateNode=l}else rm(a,e.type,e.stateNode);else e.stateNode=im(a,l,e.memoizedProps);else s!==l?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,l===null?rm(a,e.type,e.stateNode):im(a,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ir(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wt(t,e),Ft(e),l&512&&(ht||n===null||Mn(n,n.return)),n!==null&&l&4&&Ir(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wt(t,e),Ft(e),l&512&&(ht||n===null||Mn(n,n.return)),e.flags&32){a=e.stateNode;try{wn(a,"")}catch($){Fe(e,e.return,$)}}l&4&&e.stateNode!=null&&(a=e.memoizedProps,Ir(e,a,n!==null?n.memoizedProps:a)),l&1024&&(Yr=!0);break;case 6:if(Wt(t,e),Ft(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch($){Fe(e,e.return,$)}}break;case 3:if(ou=null,a=En,En=uu(t.containerInfo),Wt(t,e),En=a,Ft(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch($){Fe(e,e.return,$)}Yr&&(Yr=!1,hd(e));break;case 4:l=En,En=uu(e.stateNode.containerInfo),Wt(t,e),Ft(e),En=l;break;case 12:Wt(t,e),Ft(e);break;case 13:Wt(t,e),Ft(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zr=Et()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gr(e,l)));break;case 22:a=e.memoizedState!==null;var O=n!==null&&n.memoizedState!==null,B=nl,J=ht;if(nl=B||a,ht=J||O,Wt(t,e),ht=J,nl=B,Ft(e),l&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||O||nl||ht||oa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){O=n=t;try{if(s=O.stateNode,a)c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{p=O.stateNode;var ee=O.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;p.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){Fe(O,O.return,$)}}}else if(t.tag===6){if(n===null){O=t;try{O.stateNode.nodeValue=a?"":O.memoizedProps}catch($){Fe(O,O.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Gr(e,n))));break;case 19:Wt(t,e),Ft(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Gr(e,l)));break;case 30:break;case 21:break;default:Wt(t,e),Ft(e)}}function Ft(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(id(l)){n=l;break}l=l.return}if(n==null)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode,s=Hr(e);Zi(e,s,a);break;case 5:var c=n.stateNode;n.flags&32&&(wn(c,""),n.flags&=-33);var p=Hr(e);Zi(e,p,c);break;case 3:case 4:var O=n.stateNode.containerInfo,B=Hr(e);Br(e,B,O);break;default:throw Error(r(161))}}catch(J){Fe(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Al(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)od(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:El(4,t,t.return),oa(t);break;case 1:Mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ad(t,t.return,n),oa(t);break;case 27:Hs(t.stateNode);case 26:case 5:Mn(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function Tl(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,a=e,s=t,c=s.flags;switch(s.tag){case 0:case 11:case 15:Tl(a,s,n),Rs(4,s);break;case 1:if(Tl(a,s,n),l=s,a=l.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(B){Fe(l,l.return,B)}if(l=s,a=l.updateQueue,a!==null){var p=l.stateNode;try{var O=a.shared.hiddenCallbacks;if(O!==null)for(a.shared.hiddenCallbacks=null,a=0;a<O.length;a++)Gc(O[a],p)}catch(B){Fe(l,l.return,B)}}n&&c&64&&ld(s),js(s,s.return);break;case 27:ud(s);case 26:case 5:Tl(a,s,n),n&&l===null&&c&4&&sd(s),js(s,s.return);break;case 12:Tl(a,s,n);break;case 13:Tl(a,s,n),n&&c&4&&dd(a,s);break;case 22:s.memoizedState===null&&Tl(a,s,n),js(s,s.return);break;case 30:break;default:Tl(a,s,n)}t=t.sibling}}function Vr(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ps(n))}function qr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ps(e))}function _n(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pd(e,t,n,l),t=t.sibling}function pd(e,t,n,l){var a=t.flags;switch(t.tag){case 0:case 11:case 15:_n(e,t,n,l),a&2048&&Rs(9,t);break;case 1:_n(e,t,n,l);break;case 3:_n(e,t,n,l),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ps(e)));break;case 12:if(a&2048){_n(e,t,n,l),e=t.stateNode;try{var s=t.memoizedProps,c=s.id,p=s.onPostCommit;typeof p=="function"&&p(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Fe(t,t.return,O)}}else _n(e,t,n,l);break;case 13:_n(e,t,n,l);break;case 23:break;case 22:s=t.stateNode,c=t.alternate,t.memoizedState!==null?s._visibility&2?_n(e,t,n,l):Ms(e,t):s._visibility&2?_n(e,t,n,l):(s._visibility|=2,ka(e,t,n,l,(t.subtreeFlags&10256)!==0)),a&2048&&Vr(c,t);break;case 24:_n(e,t,n,l),a&2048&&qr(t.alternate,t);break;default:_n(e,t,n,l)}}function ka(e,t,n,l,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,c=t,p=n,O=l,B=c.flags;switch(c.tag){case 0:case 11:case 15:ka(s,c,p,O,a),Rs(8,c);break;case 23:break;case 22:var J=c.stateNode;c.memoizedState!==null?J._visibility&2?ka(s,c,p,O,a):Ms(s,c):(J._visibility|=2,ka(s,c,p,O,a)),a&&B&2048&&Vr(c.alternate,c);break;case 24:ka(s,c,p,O,a),a&&B&2048&&qr(c.alternate,c);break;default:ka(s,c,p,O,a)}t=t.sibling}}function Ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,a=l.flags;switch(l.tag){case 22:Ms(n,l),a&2048&&Vr(l.alternate,l);break;case 24:Ms(n,l),a&2048&&qr(l.alternate,l);break;default:Ms(n,l)}t=t.sibling}}var _s=8192;function za(e){if(e.subtreeFlags&_s)for(e=e.child;e!==null;)gd(e),e=e.sibling}function gd(e){switch(e.tag){case 26:za(e),e.flags&_s&&e.memoizedState!==null&&f0(En,e.memoizedState,e.memoizedProps);break;case 5:za(e);break;case 3:case 4:var t=En;En=uu(e.stateNode.containerInfo),za(e),En=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=_s,_s=16777216,za(e),_s=t):za(e));break;default:za(e)}}function yd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,bd(l,e)}yd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xd(e),e=e.sibling}function xd(e){switch(e.tag){case 0:case 11:case 15:Ls(e),e.flags&2048&&El(9,e,e.return);break;case 3:Ls(e);break;case 12:Ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qi(e)):Ls(e);break;default:Ls(e)}}function Qi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Tt=l,bd(l,e)}yd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:El(8,t,t.return),Qi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qi(t));break;default:Qi(t)}e=e.sibling}}function bd(e,t){for(;Tt!==null;){var n=Tt;switch(n.tag){case 0:case 11:case 15:El(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ps(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Tt=l;else e:for(n=e;Tt!==null;){l=Tt;var a=l.sibling,s=l.return;if(cd(l),l===n){Tt=null;break e}if(a!==null){a.return=s,Tt=a;break e}Tt=s}}}var Cp={getCacheForType:function(e){var t=Ut(Nt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},wp=typeof WeakMap=="function"?WeakMap:Map,Ze=0,nt=null,ze=null,He=0,Qe=0,en=null,Ol=!1,Ia=!1,$r=!1,al=0,ct=0,Cl=0,ca=0,Xr=0,hn=0,Ha=0,Ds=null,$t=null,Pr=!1,Zr=0,Ki=1/0,Ji=null,wl=null,jt=0,Rl=null,Ba=null,Ya=0,Qr=0,Kr=null,vd=null,Us=0,Jr=null;function tn(){if((Ze&2)!==0&&He!==0)return He&-He;if(Y.T!==null){var e=wa;return e!==0?e:ao()}return et()}function Nd(){hn===0&&(hn=(He&536870912)===0||Ve?Bl():536870912);var e=mn.current;return e!==null&&(e.flags|=32),hn}function nn(e,t,n){(e===nt&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Ga(e,0),jl(e,He,hn,!1)),Cn(e,n),((Ze&2)===0||e!==nt)&&(e===nt&&((Ze&2)===0&&(ca|=n),ct===4&&jl(e,He,hn,!1)),Ln(e))}function Sd(e,t,n){if((Ze&6)!==0)throw Error(r(327));var l=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Hn(e,t),a=l?Mp(e,t):eo(e,t,!0),s=l;do{if(a===0){Ia&&!l&&jl(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!Rp(n)){a=eo(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var p=e;a=Ds;var O=p.current.memoizedState.isDehydrated;if(O&&(Ga(p,c).flags|=256),c=eo(p,c,!1),c!==2){if($r&&!O){p.errorRecoveryDisabledLanes|=s,ca|=s,a=4;break e}s=$t,$t=a,s!==null&&($t===null?$t=s:$t.push.apply($t,s))}a=c}if(s=!1,a!==2)continue}}if(a===1){Ga(e,0),jl(e,t,0,!0);break}e:{switch(l=e,s=a,s){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:jl(l,t,hn,!Ol);break e;case 2:$t=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(a=Zr+300-Et(),10<a)){if(jl(l,t,hn,!Ol),cl(l,0,!0)!==0)break e;l.timeoutHandle=Jd(Ed.bind(null,l,n,$t,Ji,Pr,t,hn,ca,Ha,Ol,s,2,-0,0),a);break e}Ed(l,n,$t,Ji,Pr,t,hn,ca,Ha,Ol,s,0,-0,0)}}break}while(!0);Ln(e)}function Ed(e,t,n,l,a,s,c,p,O,B,J,ee,G,$){if(e.timeoutHandle=-1,ee=t.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Gs={stylesheets:null,count:0,unsuspend:c0},gd(t),ee=d0(),ee!==null)){e.cancelPendingCommit=ee(jd.bind(null,e,t,s,n,l,a,c,p,O,J,1,G,$)),jl(e,s,c,!B);return}jd(e,t,s,n,l,a,c,p,O)}function Rp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var a=n[l],s=a.getSnapshot;a=a.value;try{if(!Kt(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jl(e,t,n,l){t&=~Xr,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var a=t;0<a;){var s=31-Lt(a),c=1<<s;l[s]=-1,a&=~c}n!==0&&C(e,n,t)}function Wi(){return(Ze&6)===0?(ks(0),!1):!0}function Wr(){if(ze!==null){if(Qe===0)var e=ze.return;else e=ze,Kn=aa=null,pr(e),Da=null,Os=0,e=ze;for(;e!==null;)nd(e.alternate,e),e=e.return;ze=null}}function Ga(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Pp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Wr(),nt=e,ze=n=Pn(e.current,null),He=t,Qe=0,en=null,Ol=!1,Ia=Hn(e,t),$r=!1,Ha=hn=Xr=ca=Cl=ct=0,$t=Ds=null,Pr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var a=31-Lt(l),s=1<<a;t|=e[a],l&=~s}return al=t,vi(),n}function Ad(e,t){De=null,Y.H=Hi,t===ys||t===Ri?(t=Bc(),Qe=3):t===zc?(t=Bc(),Qe=4):Qe=t===Gf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,en=t,ze===null&&(ct=1,qi(e,on(t,e.current)))}function Td(){var e=Y.H;return Y.H=Hi,e===null?Hi:e}function Od(){var e=Y.A;return Y.A=Cp,e}function Fr(){ct=4,Ol||(He&4194048)!==He&&mn.current!==null||(Ia=!0),(Cl&134217727)===0&&(ca&134217727)===0||nt===null||jl(nt,He,hn,!1)}function eo(e,t,n){var l=Ze;Ze|=2;var a=Td(),s=Od();(nt!==e||He!==t)&&(Ji=null,Ga(e,t)),t=!1;var c=ct;e:do try{if(Qe!==0&&ze!==null){var p=ze,O=en;switch(Qe){case 8:Wr(),c=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(t=!0);var B=Qe;if(Qe=0,en=null,Va(e,p,O,B),n&&Ia){c=0;break e}break;default:B=Qe,Qe=0,en=null,Va(e,p,O,B)}}jp(),c=ct;break}catch(J){Ad(e,J)}while(!0);return t&&e.shellSuspendCounter++,Kn=aa=null,Ze=l,Y.H=a,Y.A=s,ze===null&&(nt=null,He=0,vi()),c}function jp(){for(;ze!==null;)Cd(ze)}function Mp(e,t){var n=Ze;Ze|=2;var l=Td(),a=Od();nt!==e||He!==t?(Ji=null,Ki=Et()+500,Ga(e,t)):Ia=Hn(e,t);e:do try{if(Qe!==0&&ze!==null){t=ze;var s=en;t:switch(Qe){case 1:Qe=0,en=null,Va(e,t,s,1);break;case 2:case 9:if(Ic(s)){Qe=0,en=null,wd(t);break}t=function(){Qe!==2&&Qe!==9||nt!==e||(Qe=7),Ln(e)},s.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ic(s)?(Qe=0,en=null,wd(t)):(Qe=0,en=null,Va(e,t,s,7));break;case 5:var c=null;switch(ze.tag){case 26:c=ze.memoizedState;case 5:case 27:var p=ze;if(!c||om(c)){Qe=0,en=null;var O=p.sibling;if(O!==null)ze=O;else{var B=p.return;B!==null?(ze=B,Fi(B)):ze=null}break t}}Qe=0,en=null,Va(e,t,s,5);break;case 6:Qe=0,en=null,Va(e,t,s,6);break;case 8:Wr(),ct=6;break e;default:throw Error(r(462))}}_p();break}catch(J){Ad(e,J)}while(!0);return Kn=aa=null,Y.H=l,Y.A=a,Ze=n,ze!==null?0:(nt=null,He=0,vi(),ct)}function _p(){for(;ze!==null&&!dt();)Cd(ze)}function Cd(e){var t=ed(e.alternate,e,al);e.memoizedProps=e.pendingProps,t===null?Fi(e):ze=t}function wd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zf(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=Zf(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:pr(t);default:nd(n,t),t=ze=wc(t,al),t=ed(n,t,al)}e.memoizedProps=e.pendingProps,t===null?Fi(e):ze=t}function Va(e,t,n,l){Kn=aa=null,pr(t),Da=null,Os=0;var a=t.return;try{if(Np(e,a,t,n,He)){ct=1,qi(e,on(n,e.current)),ze=null;return}}catch(s){if(a!==null)throw ze=a,s;ct=1,qi(e,on(n,e.current)),ze=null;return}t.flags&32768?(Ve||l===1?e=!0:Ia||(He&536870912)!==0?e=!1:(Ol=e=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rd(t,e)):Fi(t)}function Fi(e){var t=e;do{if((t.flags&32768)!==0){Rd(t,Ol);return}e=t.return;var n=Ep(t.alternate,t,al);if(n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);ct===0&&(ct=5)}function Rd(e,t){do{var n=Ap(e.alternate,e);if(n!==null){n.flags&=32767,ze=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=n}while(e!==null);ct=6,ze=null}function jd(e,t,n,l,a,s,c,p,O){e.cancelPendingCommit=null;do eu();while(jt!==0);if((Ze&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(s=t.lanes|t.childLanes,s|=qu,Bt(e,n,s,c,p,O),e===nt&&(ze=nt=null,He=0),Ba=t,Rl=e,Ya=n,Qr=s,Kr=a,vd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kp(rl,function(){return Ud(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,a=q.p,q.p=2,c=Ze,Ze|=4;try{Tp(e,t,n)}finally{Ze=c,q.p=a,Y.T=l}}jt=1,Md(),_d(),Ld()}}function Md(){if(jt===1){jt=0;var e=Rl,t=Ba,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=Y.T,Y.T=null;var l=q.p;q.p=2;var a=Ze;Ze|=4;try{md(t,e);var s=mo,c=xc(e.containerInfo),p=s.focusedElem,O=s.selectionRange;if(c!==p&&p&&p.ownerDocument&&yc(p.ownerDocument.documentElement,p)){if(O!==null&&Hu(p)){var B=O.start,J=O.end;if(J===void 0&&(J=B),"selectionStart"in p)p.selectionStart=B,p.selectionEnd=Math.min(J,p.value.length);else{var ee=p.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var $=G.getSelection(),Ce=p.textContent.length,Ae=Math.min(O.start,Ce),We=O.end===void 0?Ae:Math.min(O.end,Ce);!$.extend&&Ae>We&&(c=We,We=Ae,Ae=c);var _=gc(p,Ae),M=gc(p,We);if(_&&M&&($.rangeCount!==1||$.anchorNode!==_.node||$.anchorOffset!==_.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var k=ee.createRange();k.setStart(_.node,_.offset),$.removeAllRanges(),Ae>We?($.addRange(k),$.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),$.addRange(k))}}}}for(ee=[],$=p;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<ee.length;p++){var F=ee[p];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}du=!!fo,mo=fo=null}finally{Ze=a,q.p=l,Y.T=n}}e.current=t,jt=2}}function _d(){if(jt===2){jt=0;var e=Rl,t=Ba,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=Y.T,Y.T=null;var l=q.p;q.p=2;var a=Ze;Ze|=4;try{od(e,t.alternate,t)}finally{Ze=a,q.p=l,Y.T=n}}jt=3}}function Ld(){if(jt===4||jt===3){jt=0,Xt();var e=Rl,t=Ba,n=Ya,l=vd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?jt=5:(jt=0,Ba=Rl=null,Dd(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(wl=null),Te(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Pt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Y.T,a=q.p,q.p=2,Y.T=null;try{for(var s=e.onRecoverableError,c=0;c<l.length;c++){var p=l[c];s(p.value,{componentStack:p.stack})}}finally{Y.T=t,q.p=a}}(Ya&3)!==0&&eu(),Ln(e),a=e.pendingLanes,(n&4194090)!==0&&(a&42)!==0?e===Jr?Us++:(Us=0,Jr=e):Us=0,ks(0)}}function Dd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ps(t)))}function eu(e){return Md(),_d(),Ld(),Ud()}function Ud(){if(jt!==5)return!1;var e=Rl,t=Qr;Qr=0;var n=Te(Ya),l=Y.T,a=q.p;try{q.p=32>n?32:n,Y.T=null,n=Kr,Kr=null;var s=Rl,c=Ya;if(jt=0,Ba=Rl=null,Ya=0,(Ze&6)!==0)throw Error(r(331));var p=Ze;if(Ze|=4,xd(s.current),pd(s,s.current,c,n),Ze=p,ks(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Pt,s)}catch{}return!0}finally{q.p=a,Y.T=l,Dd(e,t)}}function kd(e,t,n){t=on(n,t),t=Rr(e.stateNode,t,2),e=bl(e,t,2),e!==null&&(Cn(e,2),Ln(e))}function Fe(e,t,n){if(e.tag===3)kd(e,e,n);else for(;t!==null;){if(t.tag===3){kd(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wl===null||!wl.has(l))){e=on(n,e),n=Bf(2),l=bl(t,n,2),l!==null&&(Yf(n,l,t,e),Cn(l,2),Ln(l));break}}t=t.return}}function to(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new wp;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(n)||($r=!0,a.add(n),e=Lp.bind(null,e,t,n),t.then(e,e))}function Lp(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,nt===e&&(He&n)===n&&(ct===4||ct===3&&(He&62914560)===He&&300>Et()-Zr?(Ze&2)===0&&Ga(e,0):Xr|=n,Ha===He&&(Ha=0)),Ln(e)}function zd(e,t){t===0&&(t=Yl()),e=Aa(e,t),e!==null&&(Cn(e,t),Ln(e))}function Dp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zd(e,n)}function Up(e,t){var n=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),zd(e,n)}function kp(e,t){return Be(e,t)}var tu=null,qa=null,no=!1,nu=!1,lo=!1,fa=0;function Ln(e){e!==qa&&e.next===null&&(qa===null?tu=qa=e:qa=qa.next=e),nu=!0,no||(no=!0,Ip())}function ks(e,t){if(!lo&&nu){lo=!0;do for(var n=!1,l=tu;l!==null;){if(e!==0){var a=l.pendingLanes;if(a===0)var s=0;else{var c=l.suspendedLanes,p=l.pingedLanes;s=(1<<31-Lt(42|e)+1)-1,s&=a&~(c&~p),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Yd(l,s))}else s=He,s=cl(l,l===nt?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||Hn(l,s)||(n=!0,Yd(l,s));l=l.next}while(n);lo=!1}}function zp(){Id()}function Id(){nu=no=!1;var e=0;fa!==0&&(Xp()&&(e=fa),fa=0);for(var t=Et(),n=null,l=tu;l!==null;){var a=l.next,s=Hd(l,t);s===0?(l.next=null,n===null?tu=a:n.next=a,a===null&&(qa=n)):(n=l,(e!==0||(s&3)!==0)&&(nu=!0)),l=a}ks(e)}function Hd(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var c=31-Lt(s),p=1<<c,O=a[c];O===-1?((p&n)===0||(p&l)!==0)&&(a[c]=Bn(p,t)):O<=t&&(e.expiredLanes|=p),s&=~p}if(t=nt,n=He,n=cl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Le(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Hn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Le(l),Te(n)){case 2:case 8:n=Il;break;case 32:n=rl;break;case 268435456:n=Hl;break;default:n=rl}return l=Bd.bind(null,e),n=Be(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Le(l),e.callbackPriority=2,e.callbackNode=null,2}function Bd(e,t){if(jt!==0&&jt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(eu()&&e.callbackNode!==n)return null;var l=He;return l=cl(e,e===nt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sd(e,l,t),Hd(e,Et()),e.callbackNode!=null&&e.callbackNode===n?Bd.bind(null,e):null)}function Yd(e,t){if(eu())return null;Sd(e,t,!0)}function Ip(){Zp(function(){(Ze&6)!==0?Be(On,zp):Id()})}function ao(){return fa===0&&(fa=Bl()),fa}function Gd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hl(""+e)}function Vd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Hp(e,t,n,l,a){if(t==="submit"&&n&&n.stateNode===a){var s=Gd((a[pe]||null).action),c=l.submitter;c&&(t=(t=c[pe]||null)?Gd(t.formAction):c.getAttribute("formAction"),t!==null&&(s=t,c=null));var p=new yi("action","action",null,l,a);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(fa!==0){var O=c?Vd(a,c):new FormData(a);Ar(n,{pending:!0,data:O,method:a.method,action:s},null,O)}}else typeof s=="function"&&(p.preventDefault(),O=c?Vd(a,c):new FormData(a),Ar(n,{pending:!0,data:O,method:a.method,action:s},s,O))},currentTarget:a}]})}}for(var so=0;so<Vu.length;so++){var io=Vu[so],Bp=io.toLowerCase(),Yp=io[0].toUpperCase()+io.slice(1);Sn(Bp,"on"+Yp)}Sn(Nc,"onAnimationEnd"),Sn(Sc,"onAnimationIteration"),Sn(Ec,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(ap,"onTransitionRun"),Sn(sp,"onTransitionStart"),Sn(ip,"onTransitionCancel"),Sn(Ac,"onTransitionEnd"),It("onMouseEnter",["mouseout","mouseover"]),It("onMouseLeave",["mouseout","mouseover"]),It("onPointerEnter",["pointerout","pointerover"]),It("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zs));function qd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],a=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var c=l.length-1;0<=c;c--){var p=l[c],O=p.instance,B=p.currentTarget;if(p=p.listener,O!==s&&a.isPropagationStopped())break e;s=p,a.currentTarget=B;try{s(a)}catch(J){Vi(J)}a.currentTarget=null,s=O}else for(c=0;c<l.length;c++){if(p=l[c],O=p.instance,B=p.currentTarget,p=p.listener,O!==s&&a.isPropagationStopped())break e;s=p,a.currentTarget=B;try{s(a)}catch(J){Vi(J)}a.currentTarget=null,s=O}}}}function Ie(e,t){var n=t[tt];n===void 0&&(n=t[tt]=new Set);var l=e+"__bubble";n.has(l)||($d(t,e,2,!1),n.add(l))}function uo(e,t,n){var l=0;t&&(l|=4),$d(n,e,l,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ro(e){if(!e[lu]){e[lu]=!0,ri.forEach(function(n){n!=="selectionchange"&&(Gp.has(n)||uo(n,!1,e),uo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,uo("selectionchange",!1,t))}}function $d(e,t,n,l){switch(pm(t)){case 2:var a=p0;break;case 8:a=g0;break;default:a=Eo}n=a.bind(null,t,n,e),a=void 0,!ju||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function oo(e,t,n,l,a){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var c=l.tag;if(c===3||c===4){var p=l.stateNode.containerInfo;if(p===a)break;if(c===4)for(c=l.return;c!==null;){var O=c.tag;if((O===3||O===4)&&c.stateNode.containerInfo===a)return;c=c.return}for(;p!==null;){if(c=fl(p),c===null)return;if(O=c.tag,O===5||O===6||O===26||O===27){l=s=c;continue e}p=p.parentNode}}l=l.return}rn(function(){var B=s,J=fe(n),ee=[];e:{var G=Tc.get(e);if(G!==void 0){var $=yi,Ce=e;switch(e){case"keypress":if(pi(n)===0)break e;case"keydown":case"keyup":$=kh;break;case"focusin":Ce="focus",$=Du;break;case"focusout":Ce="blur",$=Du;break;case"beforeblur":case"afterblur":$=Du;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Hh;break;case Nc:case Sc:case Ec:$=Ch;break;case Ac:$=Yh;break;case"scroll":case"scrollend":$=Sh;break;case"wheel":$=Vh;break;case"copy":case"cut":case"paste":$=Rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=nc;break;case"toggle":case"beforetoggle":$=$h}var Ae=(t&4)!==0,We=!Ae&&(e==="scroll"||e==="scrollend"),_=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var M=B,k;M!==null;){var F=M;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||_===null||(F=Ql(M,_),F!=null&&Ae.push(Is(M,F,k))),We)break;M=M.return}0<Ae.length&&(G=new $(G,Ce,null,n,J),ee.push({event:G,listeners:Ae}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",G&&n!==Zl&&(Ce=n.relatedTarget||n.fromElement)&&(fl(Ce)||Ce[Pe]))break e;if(($||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,$?(Ce=n.relatedTarget||n.toElement,$=B,Ce=Ce?fl(Ce):null,Ce!==null&&(We=f(Ce),Ae=Ce.tag,Ce!==We||Ae!==5&&Ae!==27&&Ae!==6)&&(Ce=null)):($=null,Ce=B),$!==Ce)){if(Ae=ec,F="onMouseLeave",_="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Ae=nc,F="onPointerLeave",_="onPointerEnter",M="pointer"),We=$==null?G:$l($),k=Ce==null?G:$l(Ce),G=new Ae(F,M+"leave",$,n,J),G.target=We,G.relatedTarget=k,F=null,fl(J)===B&&(Ae=new Ae(_,M+"enter",Ce,n,J),Ae.target=k,Ae.relatedTarget=We,F=Ae),We=F,$&&Ce)t:{for(Ae=$,_=Ce,M=0,k=Ae;k;k=$a(k))M++;for(k=0,F=_;F;F=$a(F))k++;for(;0<M-k;)Ae=$a(Ae),M--;for(;0<k-M;)_=$a(_),k--;for(;M--;){if(Ae===_||_!==null&&Ae===_.alternate)break t;Ae=$a(Ae),_=$a(_)}Ae=null}else Ae=null;$!==null&&Xd(ee,G,$,Ae,!1),Ce!==null&&We!==null&&Xd(ee,We,Ce,Ae,!0)}}e:{if(G=B?$l(B):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var xe=cc;else if(rc(G))if(fc)xe=tp;else{xe=Fh;var ke=Wh}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?B&&$e(B.elementType)&&(xe=cc):xe=ep;if(xe&&(xe=xe(e,B))){oc(ee,xe,n,J);break e}ke&&ke(e,G,B),e==="focusout"&&B&&G.type==="number"&&B.memoizedProps.value!=null&&ml(G,"number",G.value)}switch(ke=B?$l(B):window,e){case"focusin":(rc(ke)||ke.contentEditable==="true")&&(Na=ke,Bu=B,cs=null);break;case"focusout":cs=Bu=Na=null;break;case"mousedown":Yu=!0;break;case"contextmenu":case"mouseup":case"dragend":Yu=!1,bc(ee,n,J);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":bc(ee,n,J)}var Ne;if(ku)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else va?ic(e,n)&&(Oe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Oe="onCompositionStart");Oe&&(lc&&n.locale!=="ko"&&(va||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&va&&(Ne=Wo()):(pl=J,Mu="value"in pl?pl.value:pl.textContent,va=!0)),ke=au(B,Oe),0<ke.length&&(Oe=new tc(Oe,e,null,n,J),ee.push({event:Oe,listeners:ke}),Ne?Oe.data=Ne:(Ne=uc(n),Ne!==null&&(Oe.data=Ne)))),(Ne=Ph?Zh(e,n):Qh(e,n))&&(Oe=au(B,"onBeforeInput"),0<Oe.length&&(ke=new tc("onBeforeInput","beforeinput",null,n,J),ee.push({event:ke,listeners:Oe}),ke.data=Ne)),Hp(ee,e,B,n,J)}qd(ee,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",l=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=Ql(e,n),a!=null&&l.unshift(Is(e,a,s)),a=Ql(e,t),a!=null&&l.push(Is(e,a,s))),e.tag===3)return l;e=e.return}return[]}function $a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xd(e,t,n,l,a){for(var s=t._reactName,c=[];n!==null&&n!==l;){var p=n,O=p.alternate,B=p.stateNode;if(p=p.tag,O!==null&&O===l)break;p!==5&&p!==26&&p!==27||B===null||(O=B,a?(B=Ql(n,s),B!=null&&c.unshift(Is(n,B,O))):a||(B=Ql(n,s),B!=null&&c.push(Is(n,B,O)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var Vp=/\r\n?/g,qp=/\u0000|\uFFFD/g;function Pd(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(qp,"")}function Zd(e,t){return t=Pd(t),Pd(e)===t}function su(){}function Je(e,t,n,l,a,s){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&wn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,n,l);break;case"style":pt(e,l,s);break;case"data":if(t!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hl(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Je(e,t,"name",a.name,a,null),Je(e,t,"formEncType",a.formEncType,a,null),Je(e,t,"formMethod",a.formMethod,a,null),Je(e,t,"formTarget",a.formTarget,a,null)):(Je(e,t,"encType",a.encType,a,null),Je(e,t,"method",a.method,a,null),Je(e,t,"target",a.target,a,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=hl(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=su);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=hl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),xa(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":xa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ba.get(n)||n,xa(e,n,l))}}function co(e,t,n,l,a,s){switch(n){case"style":pt(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(n=l.__html,n!=null){if(a.children!=null)throw Error(r(60));e.innerHTML=n}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&Ie("scroll",e);break;case"onScrollEnd":l!=null&&Ie("scrollend",e);break;case"onClick":l!=null&&(e.onclick=su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oi.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[pe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof l=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,a);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):xa(e,n,l)}}}function Mt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var l=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var c=n[s];if(c!=null)switch(s){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,s,c,n,null)}}a&&Je(e,t,"srcSet",n.srcSet,n,null),l&&Je(e,t,"src",n.src,n,null);return;case"input":Ie("invalid",e);var p=s=c=a=null,O=null,B=null;for(l in n)if(n.hasOwnProperty(l)){var J=n[l];if(J!=null)switch(l){case"name":a=J;break;case"type":c=J;break;case"checked":O=J;break;case"defaultChecked":B=J;break;case"value":s=J;break;case"defaultValue":p=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,t));break;default:Je(e,t,l,J,n,null)}}di(e,s,p,O,B,c,a,!1),Xl(e);return;case"select":Ie("invalid",e),l=c=s=null;for(a in n)if(n.hasOwnProperty(a)&&(p=n[a],p!=null))switch(a){case"value":s=p;break;case"defaultValue":c=p;break;case"multiple":l=p;default:Je(e,t,a,p,n,null)}t=s,n=c,e.multiple=!!l,t!=null?$n(e,!!l,t,!1):n!=null&&$n(e,!!l,n,!0);return;case"textarea":Ie("invalid",e),s=a=l=null;for(c in n)if(n.hasOwnProperty(c)&&(p=n[c],p!=null))switch(c){case"value":l=p;break;case"defaultValue":a=p;break;case"children":s=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:Je(e,t,c,p,n,null)}mi(e,l,a,s),Xl(e);return;case"option":for(O in n)if(n.hasOwnProperty(O)&&(l=n[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(e,t,O,l,n,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(l=0;l<zs.length;l++)Ie(zs[l],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(l=n[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Je(e,t,B,l,n,null)}return;default:if($e(t)){for(J in n)n.hasOwnProperty(J)&&(l=n[J],l!==void 0&&co(e,t,J,l,n,void 0));return}}for(p in n)n.hasOwnProperty(p)&&(l=n[p],l!=null&&Je(e,t,p,l,n,null))}function $p(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,c=null,p=null,O=null,B=null,J=null;for($ in n){var ee=n[$];if(n.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=ee;default:l.hasOwnProperty($)||Je(e,t,$,null,l,ee)}}for(var G in l){var $=l[G];if(ee=n[G],l.hasOwnProperty(G)&&($!=null||ee!=null))switch(G){case"type":s=$;break;case"name":a=$;break;case"checked":B=$;break;case"defaultChecked":J=$;break;case"value":c=$;break;case"defaultValue":p=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,t));break;default:$!==ee&&Je(e,t,G,$,l,ee)}}ts(e,c,p,O,B,J,s,a);return;case"select":$=c=p=G=null;for(s in n)if(O=n[s],n.hasOwnProperty(s)&&O!=null)switch(s){case"value":break;case"multiple":$=O;default:l.hasOwnProperty(s)||Je(e,t,s,null,l,O)}for(a in l)if(s=l[a],O=n[a],l.hasOwnProperty(a)&&(s!=null||O!=null))switch(a){case"value":G=s;break;case"defaultValue":p=s;break;case"multiple":c=s;default:s!==O&&Je(e,t,a,s,l,O)}t=p,n=c,l=$,G!=null?$n(e,!!n,G,!1):!!l!=!!n&&(t!=null?$n(e,!!n,t,!0):$n(e,!!n,n?[]:"",!1));return;case"textarea":$=G=null;for(p in n)if(a=n[p],n.hasOwnProperty(p)&&a!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Je(e,t,p,null,l,a)}for(c in l)if(a=l[c],s=n[c],l.hasOwnProperty(c)&&(a!=null||s!=null))switch(c){case"value":G=a;break;case"defaultValue":$=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(r(91));break;default:a!==s&&Je(e,t,c,a,l,s)}Qt(e,G,$);return;case"option":for(var Ce in n)if(G=n[Ce],n.hasOwnProperty(Ce)&&G!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":e.selected=!1;break;default:Je(e,t,Ce,null,l,G)}for(O in l)if(G=l[O],$=n[O],l.hasOwnProperty(O)&&G!==$&&(G!=null||$!=null))switch(O){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Je(e,t,O,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in n)G=n[Ae],n.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&Je(e,t,Ae,null,l,G);for(B in l)if(G=l[B],$=n[B],l.hasOwnProperty(B)&&G!==$&&(G!=null||$!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:Je(e,t,B,G,l,$)}return;default:if($e(t)){for(var We in n)G=n[We],n.hasOwnProperty(We)&&G!==void 0&&!l.hasOwnProperty(We)&&co(e,t,We,void 0,l,G);for(J in l)G=l[J],$=n[J],!l.hasOwnProperty(J)||G===$||G===void 0&&$===void 0||co(e,t,J,G,l,$);return}}for(var _ in n)G=n[_],n.hasOwnProperty(_)&&G!=null&&!l.hasOwnProperty(_)&&Je(e,t,_,null,l,G);for(ee in l)G=l[ee],$=n[ee],!l.hasOwnProperty(ee)||G===$||G==null&&$==null||Je(e,t,ee,G,l,$)}var fo=null,mo=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function Qd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var po=null;function Xp(){var e=window.event;return e&&e.type==="popstate"?e===po?!1:(po=e,!0):(po=null,!1)}var Jd=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Zp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Qp)}:Jd;function Qp(e){setTimeout(function(){throw e})}function Ml(e){return e==="head"}function Fd(e,t){var n=t,l=0,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<l&&8>l){n=l;var c=e.ownerDocument;if(n&1&&Hs(c.documentElement),n&2&&Hs(c.body),n&4)for(n=c.head,Hs(n),c=n.firstChild;c;){var p=c.nextSibling,O=c.nodeName;c[Vl]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=p}}if(a===0){e.removeChild(s),Ps(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:l=n.charCodeAt(0)-48;else l=0;n=s}while(n);Ps(t)}function go(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":go(n),ql(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Kp(e,t,n,l){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Vl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=An(e.nextSibling),e===null)break}return null}function Jp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=An(e.nextSibling),e===null))return null;return e}function yo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Wp(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var xo=null;function em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function tm(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Hs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ql(e)}var pn=new Map,nm=new Set;function uu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sl=q.d;q.d={f:Fp,r:e0,D:t0,C:n0,L:l0,m:a0,X:i0,S:s0,M:u0};function Fp(){var e=sl.f(),t=Wi();return e||t}function e0(e){var t=dl(e);t!==null&&t.tag===5&&t.type==="form"?Sf(t):sl.r(e)}var Xa=typeof document>"u"?null:document;function lm(e,t,n){var l=Xa;if(l&&typeof t=="string"&&t){var a=Yt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),nm.has(a)||(nm.add(a),e={rel:e,crossOrigin:n,href:t},l.querySelector(a)===null&&(t=l.createElement("link"),Mt(t,"link",e),st(t),l.head.appendChild(t)))}}function t0(e){sl.D(e),lm("dns-prefetch",e,null)}function n0(e,t){sl.C(e,t),lm("preconnect",e,t)}function l0(e,t,n){sl.L(e,t,n);var l=Xa;if(l&&e&&t){var a='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Yt(n.imageSizes)+'"]')):a+='[href="'+Yt(e)+'"]';var s=a;switch(t){case"style":s=Pa(e);break;case"script":s=Za(e)}pn.has(s)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),pn.set(s,e),l.querySelector(a)!==null||t==="style"&&l.querySelector(Bs(s))||t==="script"&&l.querySelector(Ys(s))||(t=l.createElement("link"),Mt(t,"link",e),st(t),l.head.appendChild(t)))}}function a0(e,t){sl.m(e,t);var n=Xa;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Yt(l)+'"][href="'+Yt(e)+'"]',s=a;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Za(e)}if(!pn.has(s)&&(e=b({rel:"modulepreload",href:e},t),pn.set(s,e),n.querySelector(a)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ys(s)))return}l=n.createElement("link"),Mt(l,"link",e),st(l),n.head.appendChild(l)}}}function s0(e,t,n){sl.S(e,t,n);var l=Xa;if(l&&e){var a=Gn(l).hoistableStyles,s=Pa(e);t=t||"default";var c=a.get(s);if(!c){var p={loading:0,preload:null};if(c=l.querySelector(Bs(s)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=pn.get(s))&&bo(e,n);var O=c=l.createElement("link");st(O),Mt(O,"link",e),O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),O.addEventListener("load",function(){p.loading|=1}),O.addEventListener("error",function(){p.loading|=2}),p.loading|=4,ru(c,t,l)}c={type:"stylesheet",instance:c,count:1,state:p},a.set(s,c)}}}function i0(e,t){sl.X(e,t);var n=Xa;if(n&&e){var l=Gn(n).hoistableScripts,a=Za(e),s=l.get(a);s||(s=n.querySelector(Ys(a)),s||(e=b({src:e,async:!0},t),(t=pn.get(a))&&vo(e,t),s=n.createElement("script"),st(s),Mt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(a,s))}}function u0(e,t){sl.M(e,t);var n=Xa;if(n&&e){var l=Gn(n).hoistableScripts,a=Za(e),s=l.get(a);s||(s=n.querySelector(Ys(a)),s||(e=b({src:e,async:!0,type:"module"},t),(t=pn.get(a))&&vo(e,t),s=n.createElement("script"),st(s),Mt(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(a,s))}}function am(e,t,n,l){var a=(a=Ee.current)?uu(a):null;if(!a)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Pa(n.href),n=Gn(a).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Pa(n.href);var s=Gn(a).hoistableStyles,c=s.get(e);if(c||(a=a.ownerDocument||a,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,c),(s=a.querySelector(Bs(e)))&&!s._p&&(c.instance=s,c.state.loading=5),pn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},pn.set(e,n),s||r0(a,e,n,c.state))),t&&l===null)throw Error(r(528,""));return c}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Za(n),n=Gn(a).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pa(e){return'href="'+Yt(e)+'"'}function Bs(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function r0(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Mt(t,"link",n),st(t),e.head.appendChild(t))}function Za(e){return'[src="'+Yt(e)+'"]'}function Ys(e){return"script[async]"+e}function im(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(l)return t.instance=l,st(l),l;var a=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),st(l),Mt(l,"style",a),ru(l,n.precedence,e),t.instance=l;case"stylesheet":a=Pa(n.href);var s=e.querySelector(Bs(a));if(s)return t.state.loading|=4,t.instance=s,st(s),s;l=sm(n),(a=pn.get(a))&&bo(l,a),s=(e.ownerDocument||e).createElement("link"),st(s);var c=s;return c._p=new Promise(function(p,O){c.onload=p,c.onerror=O}),Mt(s,"link",l),t.state.loading|=4,ru(s,n.precedence,e),t.instance=s;case"script":return s=Za(n.src),(a=e.querySelector(Ys(s)))?(t.instance=a,st(a),a):(l=n,(a=pn.get(s))&&(l=b({},n),vo(l,a)),e=e.ownerDocument||e,a=e.createElement("script"),st(a),Mt(a,"link",l),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ru(l,n.precedence,e));return t.instance}function ru(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=l.length?l[l.length-1]:null,s=a,c=0;c<l.length;c++){var p=l[c];if(p.dataset.precedence===t)s=p;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ou=null;function um(e,t,n){if(ou===null){var l=new Map,a=ou=new Map;a.set(n,l)}else a=ou,l=a.get(n),l||(l=new Map,a.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[Vl]||s[ae]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var c=s.getAttribute(t)||"";c=e+c;var p=l.get(c);p?p.push(s):l.set(c,[s])}}return l}function rm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function o0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function om(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Gs=null;function c0(){}function f0(e,t,n){if(Gs===null)throw Error(r(475));var l=Gs;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var a=Pa(n.href),s=e.querySelector(Bs(a));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=cu.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=s,st(s);return}s=e.ownerDocument||e,n=sm(n),(a=pn.get(a))&&bo(n,a),s=s.createElement("link"),st(s);var c=s;c._p=new Promise(function(p,O){c.onload=p,c.onerror=O}),Mt(s,"link",n),t.instance=s}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=cu.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function d0(){if(Gs===null)throw Error(r(475));var e=Gs;return e.stylesheets&&e.count===0&&No(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&No(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function cu(){if(this.count--,this.count===0){if(this.stylesheets)No(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fu=null;function No(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fu=new Map,t.forEach(m0,e),fu=null,cu.call(e))}function m0(e,t){if(!(t.state.loading&4)){var n=fu.get(e);if(n)var l=n.get(null);else{n=new Map,fu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var c=a[s];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(n.set(c.dataset.precedence,c),l=c)}l&&n.set(null,l)}a=t.instance,c=a.getAttribute("data-precedence"),s=n.get(c)||l,s===l&&n.set(null,a),n.set(c,a),this.count++,l=cu.bind(this),a.addEventListener("load",l),a.addEventListener("error",l),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Vs={$$typeof:D,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function h0(e,t,n,l,a,s,c,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=l,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function cm(e,t,n,l,a,s,c,p,O,B,J,ee){return e=new h0(e,t,n,c,p,O,B,ee),t=1,s===!0&&(t|=24),s=Jt(3,null,null,t),e.current=s,s.stateNode=e,t=tr(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:n,cache:t},sr(s),e}function fm(e){return e?(e=Ta,e):Ta}function dm(e,t,n,l,a,s){a=fm(a),l.context===null?l.context=a:l.pendingContext=a,l=xl(t),l.payload={element:n},s=s===void 0?null:s,s!==null&&(l.callback=s),n=bl(e,l,t),n!==null&&(nn(n,e,t),bs(n,e,t))}function mm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function So(e,t){mm(e,t),(e=e.alternate)&&mm(e,t)}function hm(e){if(e.tag===13){var t=Aa(e,67108864);t!==null&&nn(t,e,67108864),So(e,67108864)}}var du=!0;function p0(e,t,n,l){var a=Y.T;Y.T=null;var s=q.p;try{q.p=2,Eo(e,t,n,l)}finally{q.p=s,Y.T=a}}function g0(e,t,n,l){var a=Y.T;Y.T=null;var s=q.p;try{q.p=8,Eo(e,t,n,l)}finally{q.p=s,Y.T=a}}function Eo(e,t,n,l){if(du){var a=Ao(l);if(a===null)oo(e,t,l,mu,n),gm(e,l);else if(x0(a,e,t,n,l))l.stopPropagation();else if(gm(e,l),t&4&&-1<y0.indexOf(e)){for(;a!==null;){var s=dl(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var c=xn(s.pendingLanes);if(c!==0){var p=s;for(p.pendingLanes|=2,p.entangledLanes|=2;c;){var O=1<<31-Lt(c);p.entanglements[1]|=O,c&=~O}Ln(s),(Ze&6)===0&&(Ki=Et()+500,ks(0))}}break;case 13:p=Aa(s,2),p!==null&&nn(p,s,2),Wi(),So(s,2)}if(s=Ao(l),s===null&&oo(e,t,l,mu,n),s===a)break;a=s}a!==null&&l.stopPropagation()}else oo(e,t,l,null,n)}}function Ao(e){return e=fe(e),To(e)}var mu=null;function To(e){if(mu=null,e=fl(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return mu=e,null}function pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case On:return 2;case Il:return 8;case rl:case Ka:return 32;case Hl:return 268435456;default:return 32}default:return 32}}var Oo=!1,_l=null,Ll=null,Dl=null,qs=new Map,$s=new Map,Ul=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(t.pointerId)}}function Xs(e,t,n,l,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:s,targetContainers:[a]},t!==null&&(t=dl(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function x0(e,t,n,l,a){switch(t){case"focusin":return _l=Xs(_l,e,t,n,l,a),!0;case"dragenter":return Ll=Xs(Ll,e,t,n,l,a),!0;case"mouseover":return Dl=Xs(Dl,e,t,n,l,a),!0;case"pointerover":var s=a.pointerId;return qs.set(s,Xs(qs.get(s)||null,e,t,n,l,a)),!0;case"gotpointercapture":return s=a.pointerId,$s.set(s,Xs($s.get(s)||null,e,t,n,l,a)),!0}return!1}function ym(e){var t=fl(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=g(n),t!==null){e.blockedOn=t,lt(e.priority,function(){if(n.tag===13){var l=tn();l=oe(l);var a=Aa(n,l);a!==null&&nn(a,n,l),So(n,l)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ao(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Zl=l,n.target.dispatchEvent(l),Zl=null}else return t=dl(n),t!==null&&hm(t),e.blockedOn=n,!1;t.shift()}return!0}function xm(e,t,n){hu(e)&&n.delete(t)}function b0(){Oo=!1,_l!==null&&hu(_l)&&(_l=null),Ll!==null&&hu(Ll)&&(Ll=null),Dl!==null&&hu(Dl)&&(Dl=null),qs.forEach(xm),$s.forEach(xm)}function pu(e,t){e.blockedOn===t&&(e.blockedOn=null,Oo||(Oo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,b0)))}var gu=null;function bm(e){gu!==e&&(gu=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gu===e&&(gu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],a=e[t+2];if(typeof l!="function"){if(To(l||n)===null)continue;break}var s=dl(n);s!==null&&(e.splice(t,3),t-=3,Ar(s,{pending:!0,data:a,method:n.method,action:l},l,a))}}))}function Ps(e){function t(O){return pu(O,e)}_l!==null&&pu(_l,e),Ll!==null&&pu(Ll,e),Dl!==null&&pu(Dl,e),qs.forEach(t),$s.forEach(t);for(var n=0;n<Ul.length;n++){var l=Ul[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ul.length&&(n=Ul[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&Ul.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var a=n[l],s=n[l+1],c=a[pe]||null;if(typeof s=="function")c||bm(n);else if(c){var p=null;if(s&&s.hasAttribute("formAction")){if(a=s,c=s[pe]||null)p=c.formAction;else if(To(a)!==null)continue}else p=c.action;typeof p=="function"?n[l+1]=p:(n.splice(l,3),l-=3),bm(n)}}}function Co(e){this._internalRoot=e}yu.prototype.render=Co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var n=t.current,l=tn();dm(n,l,e,t,null,null)},yu.prototype.unmount=Co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dm(e.current,2,null,e,null,null),Wi(),t[Pe]=null}};function yu(e){this._internalRoot=e}yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ul.length&&t!==0&&t<Ul[n].priority;n++);Ul.splice(n,0,e),n===0&&ym(e)}};var vm=o.version;if(vm!=="19.1.0")throw Error(r(527,vm,"19.1.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=x(t),e=e!==null?h(e):null,e=e===null?null:e.stateNode,e};var v0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Pt=xu.inject(v0),vt=xu}catch{}}return Qs.createRoot=function(e,t){if(!m(e))throw Error(r(299));var n=!1,l="",a=kf,s=zf,c=If,p=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=cm(e,1,!1,null,null,n,l,a,s,c,p,null),e[Pe]=t.current,ro(e),new Co(t)},Qs.hydrateRoot=function(e,t,n){if(!m(e))throw Error(r(299));var l=!1,a="",s=kf,c=zf,p=If,O=null,B=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(O=n.unstable_transitionCallbacks),n.formState!==void 0&&(B=n.formState)),t=cm(e,1,!0,t,n??null,l,a,s,c,p,O,B),t.context=fm(null),n=t.current,l=tn(),l=oe(l),a=xl(l),a.callback=null,bl(n,a,l),n=l,t.current.lanes=n,Cn(t,n),Ln(t),e[Pe]=t.current,ro(e),new yu(t)},Qs.version="19.1.0",Qs}var jm;function j0(){if(jm)return jo.exports;jm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),jo.exports=R0(),jo.exports}var M0=j0();const _0=qo(M0);var Ks={},Mm;function L0(){if(Mm)return Ks;Mm=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.parse=g,Ks.serialize=h;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,d=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,m=Object.prototype.toString,f=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function g(E,A){const y=new f,w=E.length;if(w<2)return y;const z=(A==null?void 0:A.decode)||b;let V=0;do{const I=E.indexOf("=",V);if(I===-1)break;const D=E.indexOf(";",V),Q=D===-1?w:D;if(I>Q){V=E.lastIndexOf(";",I-1)+1;continue}const Z=S(E,V,I),ne=x(E,I,Z),te=E.slice(Z,ne);if(y[te]===void 0){let le=S(E,I+1,Q),X=x(E,Q,le);const H=z(E.slice(le,X));y[te]=H}V=Q+1}while(V<w);return y}function S(E,A,y){do{const w=E.charCodeAt(A);if(w!==32&&w!==9)return A}while(++A<y);return y}function x(E,A,y){for(;A>y;){const w=E.charCodeAt(--A);if(w!==32&&w!==9)return A+1}return y}function h(E,A,y){const w=(y==null?void 0:y.encode)||encodeURIComponent;if(!i.test(E))throw new TypeError(`argument name is invalid: ${E}`);const z=w(A);if(!o.test(z))throw new TypeError(`argument val is invalid: ${A}`);let V=E+"="+z;if(!y)return V;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);V+="; Max-Age="+y.maxAge}if(y.domain){if(!d.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);V+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);V+="; Path="+y.path}if(y.expires){if(!T(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);V+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(V+="; HttpOnly"),y.secure&&(V+="; Secure"),y.partitioned&&(V+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return V}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return m.call(E)==="[object Date]"}return Ks}L0();var _m="popstate";function D0(i={}){function o(m,f){let{pathname:g="/",search:S="",hash:x=""}=pa(m.location.hash.substring(1));return!g.startsWith("/")&&!g.startsWith(".")&&(g="/"+g),Io("",{pathname:g,search:S,hash:x},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function d(m,f){let g=m.document.querySelector("base"),S="";if(g&&g.getAttribute("href")){let x=m.location.href,h=x.indexOf("#");S=h===-1?x:x.slice(0,h)}return S+"#"+(typeof f=="string"?f:Ws(f))}function r(m,f){Tn(m.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(f)})`)}return k0(o,d,r,i)}function rt(i,o){if(i===!1||i===null||typeof i>"u")throw new Error(o)}function Tn(i,o){if(!i){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function U0(){return Math.random().toString(36).substring(2,10)}function Lm(i,o){return{usr:i.state,key:i.key,idx:o}}function Io(i,o,d=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof o=="string"?pa(o):o,state:d,key:o&&o.key||r||U0()}}function Ws({pathname:i="/",search:o="",hash:d=""}){return o&&o!=="?"&&(i+=o.charAt(0)==="?"?o:"?"+o),d&&d!=="#"&&(i+=d.charAt(0)==="#"?d:"#"+d),i}function pa(i){let o={};if(i){let d=i.indexOf("#");d>=0&&(o.hash=i.substring(d),i=i.substring(0,d));let r=i.indexOf("?");r>=0&&(o.search=i.substring(r),i=i.substring(0,r)),i&&(o.pathname=i)}return o}function k0(i,o,d,r={}){let{window:m=document.defaultView,v5Compat:f=!1}=r,g=m.history,S="POP",x=null,h=b();h==null&&(h=0,g.replaceState({...g.state,idx:h},""));function b(){return(g.state||{idx:null}).idx}function T(){S="POP";let z=b(),V=z==null?null:z-h;h=z,x&&x({action:S,location:w.location,delta:V})}function E(z,V){S="PUSH";let I=Io(w.location,z,V);d&&d(I,z),h=b()+1;let D=Lm(I,h),Q=w.createHref(I);try{g.pushState(D,"",Q)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;m.location.assign(Q)}f&&x&&x({action:S,location:w.location,delta:1})}function A(z,V){S="REPLACE";let I=Io(w.location,z,V);d&&d(I,z),h=b();let D=Lm(I,h),Q=w.createHref(I);g.replaceState(D,"",Q),f&&x&&x({action:S,location:w.location,delta:0})}function y(z){return z0(z)}let w={get action(){return S},get location(){return i(m,g)},listen(z){if(x)throw new Error("A history only accepts one active listener");return m.addEventListener(_m,T),x=z,()=>{m.removeEventListener(_m,T),x=null}},createHref(z){return o(m,z)},createURL:y,encodeLocation(z){let V=y(z);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:A,go(z){return g.go(z)}};return w}function z0(i,o=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),rt(d,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Ws(i);return r=r.replace(/ $/,"%20"),!o&&r.startsWith("//")&&(r=d+r),new URL(r,d)}function Xm(i,o,d="/"){return I0(i,o,d,!1)}function I0(i,o,d,r){let m=typeof o=="string"?pa(o):o,f=ul(m.pathname||"/",d);if(f==null)return null;let g=Pm(i);H0(g);let S=null;for(let x=0;S==null&&x<g.length;++x){let h=K0(f);S=Z0(g[x],h,r)}return S}function Pm(i,o=[],d=[],r=""){let m=(f,g,S)=>{let x={relativePath:S===void 0?f.path||"":S,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};x.relativePath.startsWith("/")&&(rt(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length));let h=il([r,x.relativePath]),b=d.concat(x);f.children&&f.children.length>0&&(rt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Pm(f.children,o,b,h)),!(f.path==null&&!f.index)&&o.push({path:h,score:X0(h,f.index),routesMeta:b})};return i.forEach((f,g)=>{var S;if(f.path===""||!((S=f.path)!=null&&S.includes("?")))m(f,g);else for(let x of Zm(f.path))m(f,g,x)}),o}function Zm(i){let o=i.split("/");if(o.length===0)return[];let[d,...r]=o,m=d.endsWith("?"),f=d.replace(/\?$/,"");if(r.length===0)return m?[f,""]:[f];let g=Zm(r.join("/")),S=[];return S.push(...g.map(x=>x===""?f:[f,x].join("/"))),m&&S.push(...g),S.map(x=>i.startsWith("/")&&x===""?"/":x)}function H0(i){i.sort((o,d)=>o.score!==d.score?d.score-o.score:P0(o.routesMeta.map(r=>r.childrenIndex),d.routesMeta.map(r=>r.childrenIndex)))}var B0=/^:[\w-]+$/,Y0=3,G0=2,V0=1,q0=10,$0=-2,Dm=i=>i==="*";function X0(i,o){let d=i.split("/"),r=d.length;return d.some(Dm)&&(r+=$0),o&&(r+=G0),d.filter(m=>!Dm(m)).reduce((m,f)=>m+(B0.test(f)?Y0:f===""?V0:q0),r)}function P0(i,o){return i.length===o.length&&i.slice(0,-1).every((r,m)=>r===o[m])?i[i.length-1]-o[o.length-1]:0}function Z0(i,o,d=!1){let{routesMeta:r}=i,m={},f="/",g=[];for(let S=0;S<r.length;++S){let x=r[S],h=S===r.length-1,b=f==="/"?o:o.slice(f.length)||"/",T=Eu({path:x.relativePath,caseSensitive:x.caseSensitive,end:h},b),E=x.route;if(!T&&h&&d&&!r[r.length-1].route.index&&(T=Eu({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!T)return null;Object.assign(m,T.params),g.push({params:m,pathname:il([f,T.pathname]),pathnameBase:eg(il([f,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(f=il([f,T.pathnameBase]))}return g}function Eu(i,o){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[d,r]=Q0(i.path,i.caseSensitive,i.end),m=o.match(d);if(!m)return null;let f=m[0],g=f.replace(/(.)\/+$/,"$1"),S=m.slice(1);return{params:r.reduce((h,{paramName:b,isOptional:T},E)=>{if(b==="*"){let y=S[E]||"";g=f.slice(0,f.length-y.length).replace(/(.)\/+$/,"$1")}const A=S[E];return T&&!A?h[b]=void 0:h[b]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:f,pathnameBase:g,pattern:i}}function Q0(i,o=!1,d=!0){Tn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],m="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,S,x)=>(r.push({paramName:S,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),m+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?m+="\\/*$":i!==""&&i!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,o?void 0:"i"),r]}function K0(i){try{return i.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Tn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),i}}function ul(i,o){if(o==="/")return i;if(!i.toLowerCase().startsWith(o.toLowerCase()))return null;let d=o.endsWith("/")?o.length-1:o.length,r=i.charAt(d);return r&&r!=="/"?null:i.slice(d)||"/"}function J0(i,o="/"){let{pathname:d,search:r="",hash:m=""}=typeof i=="string"?pa(i):i;return{pathname:d?d.startsWith("/")?d:W0(d,o):o,search:tg(r),hash:ng(m)}}function W0(i,o){let d=o.replace(/\/+$/,"").split("/");return i.split("/").forEach(m=>{m===".."?d.length>1&&d.pop():m!=="."&&d.push(m)}),d.length>1?d.join("/"):"/"}function Do(i,o,d,r){return`Cannot include a '${i}' character in a manually specified \`to.${o}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F0(i){return i.filter((o,d)=>d===0||o.route.path&&o.route.path.length>0)}function Qm(i){let o=F0(i);return o.map((d,r)=>r===o.length-1?d.pathname:d.pathnameBase)}function Km(i,o,d,r=!1){let m;typeof i=="string"?m=pa(i):(m={...i},rt(!m.pathname||!m.pathname.includes("?"),Do("?","pathname","search",m)),rt(!m.pathname||!m.pathname.includes("#"),Do("#","pathname","hash",m)),rt(!m.search||!m.search.includes("#"),Do("#","search","hash",m)));let f=i===""||m.pathname==="",g=f?"/":m.pathname,S;if(g==null)S=d;else{let T=o.length-1;if(!r&&g.startsWith("..")){let E=g.split("/");for(;E[0]==="..";)E.shift(),T-=1;m.pathname=E.join("/")}S=T>=0?o[T]:"/"}let x=J0(m,S),h=g&&g!=="/"&&g.endsWith("/"),b=(f||g===".")&&d.endsWith("/");return!x.pathname.endsWith("/")&&(h||b)&&(x.pathname+="/"),x}var il=i=>i.join("/").replace(/\/\/+/g,"/"),eg=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),tg=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,ng=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lg(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Jm=["POST","PUT","PATCH","DELETE"];new Set(Jm);var ag=["GET",...Jm];new Set(ag);var Qa=v.createContext(null);Qa.displayName="DataRouter";var Ou=v.createContext(null);Ou.displayName="DataRouterState";var Wm=v.createContext({isTransitioning:!1});Wm.displayName="ViewTransition";var sg=v.createContext(new Map);sg.displayName="Fetchers";var ig=v.createContext(null);ig.displayName="Await";var Un=v.createContext(null);Un.displayName="Navigation";var ti=v.createContext(null);ti.displayName="Location";var kn=v.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Xo=v.createContext(null);Xo.displayName="RouteError";function ug(i,{relative:o}={}){rt(ni(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:r}=v.useContext(Un),{hash:m,pathname:f,search:g}=ai(i,{relative:o}),S=f;return d!=="/"&&(S=f==="/"?d:il([d,f])),r.createHref({pathname:S,search:g,hash:m})}function ni(){return v.useContext(ti)!=null}function zl(){return rt(ni(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(ti).location}var Fm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eh(i){v.useContext(Un).static||v.useLayoutEffect(i)}function li(){let{isDataRoute:i}=v.useContext(kn);return i?Ng():rg()}function rg(){rt(ni(),"useNavigate() may be used only in the context of a <Router> component.");let i=v.useContext(Qa),{basename:o,navigator:d}=v.useContext(Un),{matches:r}=v.useContext(kn),{pathname:m}=zl(),f=JSON.stringify(Qm(r)),g=v.useRef(!1);return eh(()=>{g.current=!0}),v.useCallback((x,h={})=>{if(Tn(g.current,Fm),!g.current)return;if(typeof x=="number"){d.go(x);return}let b=Km(x,JSON.parse(f),m,h.relative==="path");i==null&&o!=="/"&&(b.pathname=b.pathname==="/"?o:il([o,b.pathname])),(h.replace?d.replace:d.push)(b,h.state,h)},[o,d,f,m,i])}v.createContext(null);function og(){let{matches:i}=v.useContext(kn),o=i[i.length-1];return o?o.params:{}}function ai(i,{relative:o}={}){let{matches:d}=v.useContext(kn),{pathname:r}=zl(),m=JSON.stringify(Qm(d));return v.useMemo(()=>Km(i,JSON.parse(m),r,o==="path"),[i,m,r,o])}function cg(i,o){return th(i,o)}function th(i,o,d,r){var V;rt(ni(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=v.useContext(Un),{matches:f}=v.useContext(kn),g=f[f.length-1],S=g?g.params:{},x=g?g.pathname:"/",h=g?g.pathnameBase:"/",b=g&&g.route;{let I=b&&b.path||"";nh(x,!b||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let T=zl(),E;if(o){let I=typeof o=="string"?pa(o):o;rt(h==="/"||((V=I.pathname)==null?void 0:V.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),E=I}else E=T;let A=E.pathname||"/",y=A;if(h!=="/"){let I=h.replace(/^\//,"").split("/");y="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let w=Xm(i,{pathname:y});Tn(b||w!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Tn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=pg(w&&w.map(I=>Object.assign({},I,{params:Object.assign({},S,I.params),pathname:il([h,m.encodeLocation?m.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:il([h,m.encodeLocation?m.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),f,d,r);return o&&z?v.createElement(ti.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},z):z}function fg(){let i=vg(),o=lg(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),d=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:r},f={padding:"2px 4px",backgroundColor:r},g=null;return console.error("Error handled by React Router default ErrorBoundary:",i),g=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:f},"ErrorBoundary")," or"," ",v.createElement("code",{style:f},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},o),d?v.createElement("pre",{style:m},d):null,g)}var dg=v.createElement(fg,null),mg=class extends v.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,o){return o.location!==i.location||o.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:o.error,location:o.location,revalidation:i.revalidation||o.revalidation}}componentDidCatch(i,o){console.error("React Router caught the following error during render",i,o)}render(){return this.state.error!==void 0?v.createElement(kn.Provider,{value:this.props.routeContext},v.createElement(Xo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hg({routeContext:i,match:o,children:d}){let r=v.useContext(Qa);return r&&r.static&&r.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=o.route.id),v.createElement(kn.Provider,{value:i},d)}function pg(i,o=[],d=null,r=null){if(i==null){if(!d)return null;if(d.errors)i=d.matches;else if(o.length===0&&!d.initialized&&d.matches.length>0)i=d.matches;else return null}let m=i,f=d==null?void 0:d.errors;if(f!=null){let x=m.findIndex(h=>h.route.id&&(f==null?void 0:f[h.route.id])!==void 0);rt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,x+1))}let g=!1,S=-1;if(d)for(let x=0;x<m.length;x++){let h=m[x];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(S=x),h.route.id){let{loaderData:b,errors:T}=d,E=h.route.loader&&!b.hasOwnProperty(h.route.id)&&(!T||T[h.route.id]===void 0);if(h.route.lazy||E){g=!0,S>=0?m=m.slice(0,S+1):m=[m[0]];break}}}return m.reduceRight((x,h,b)=>{let T,E=!1,A=null,y=null;d&&(T=f&&h.route.id?f[h.route.id]:void 0,A=h.route.errorElement||dg,g&&(S<0&&b===0?(nh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,y=null):S===b&&(E=!0,y=h.route.hydrateFallbackElement||null)));let w=o.concat(m.slice(0,b+1)),z=()=>{let V;return T?V=A:E?V=y:h.route.Component?V=v.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=x,v.createElement(hg,{match:h,routeContext:{outlet:x,matches:w,isDataRoute:d!=null},children:V})};return d&&(h.route.ErrorBoundary||h.route.errorElement||b===0)?v.createElement(mg,{location:d.location,revalidation:d.revalidation,component:A,error:T,children:z(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):z()},null)}function Po(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gg(i){let o=v.useContext(Qa);return rt(o,Po(i)),o}function yg(i){let o=v.useContext(Ou);return rt(o,Po(i)),o}function xg(i){let o=v.useContext(kn);return rt(o,Po(i)),o}function Zo(i){let o=xg(i),d=o.matches[o.matches.length-1];return rt(d.route.id,`${i} can only be used on routes that contain a unique "id"`),d.route.id}function bg(){return Zo("useRouteId")}function vg(){var r;let i=v.useContext(Xo),o=yg("useRouteError"),d=Zo("useRouteError");return i!==void 0?i:(r=o.errors)==null?void 0:r[d]}function Ng(){let{router:i}=gg("useNavigate"),o=Zo("useNavigate"),d=v.useRef(!1);return eh(()=>{d.current=!0}),v.useCallback(async(m,f={})=>{Tn(d.current,Fm),d.current&&(typeof m=="number"?i.navigate(m):await i.navigate(m,{fromRouteId:o,...f}))},[i,o])}var Um={};function nh(i,o,d){!o&&!Um[i]&&(Um[i]=!0,Tn(!1,d))}v.memo(Sg);function Sg({routes:i,future:o,state:d}){return th(i,void 0,d,o)}function Ho(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Eg({basename:i="/",children:o=null,location:d,navigationType:r="POP",navigator:m,static:f=!1}){rt(!ni(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),S=v.useMemo(()=>({basename:g,navigator:m,static:f,future:{}}),[g,m,f]);typeof d=="string"&&(d=pa(d));let{pathname:x="/",search:h="",hash:b="",state:T=null,key:E="default"}=d,A=v.useMemo(()=>{let y=ul(x,g);return y==null?null:{location:{pathname:y,search:h,hash:b,state:T,key:E},navigationType:r}},[g,x,h,b,T,E,r]);return Tn(A!=null,`<Router basename="${g}"> is not able to match the URL "${x}${h}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:v.createElement(Un.Provider,{value:S},v.createElement(ti.Provider,{children:o,value:A}))}function Ag({children:i,location:o}){return cg(Bo(i),o)}function Bo(i,o=[]){let d=[];return v.Children.forEach(i,(r,m)=>{if(!v.isValidElement(r))return;let f=[...o,m];if(r.type===v.Fragment){d.push.apply(d,Bo(r.props.children,f));return}rt(r.type===Ho,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let g={id:r.props.id||f.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(g.children=Bo(r.props.children,f)),d.push(g)}),d}var Nu="get",Su="application/x-www-form-urlencoded";function Cu(i){return i!=null&&typeof i.tagName=="string"}function Tg(i){return Cu(i)&&i.tagName.toLowerCase()==="button"}function Og(i){return Cu(i)&&i.tagName.toLowerCase()==="form"}function Cg(i){return Cu(i)&&i.tagName.toLowerCase()==="input"}function wg(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Rg(i,o){return i.button===0&&(!o||o==="_self")&&!wg(i)}var bu=null;function jg(){if(bu===null)try{new FormData(document.createElement("form"),0),bu=!1}catch{bu=!0}return bu}var Mg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uo(i){return i!=null&&!Mg.has(i)?(Tn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Su}"`),null):i}function _g(i,o){let d,r,m,f,g;if(Og(i)){let S=i.getAttribute("action");r=S?ul(S,o):null,d=i.getAttribute("method")||Nu,m=Uo(i.getAttribute("enctype"))||Su,f=new FormData(i)}else if(Tg(i)||Cg(i)&&(i.type==="submit"||i.type==="image")){let S=i.form;if(S==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=i.getAttribute("formaction")||S.getAttribute("action");if(r=x?ul(x,o):null,d=i.getAttribute("formmethod")||S.getAttribute("method")||Nu,m=Uo(i.getAttribute("formenctype"))||Uo(S.getAttribute("enctype"))||Su,f=new FormData(S,i),!jg()){let{name:h,type:b,value:T}=i;if(b==="image"){let E=h?`${h}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else h&&f.append(h,T)}}else{if(Cu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=Nu,r=null,m=Su,g=i}return f&&m==="text/plain"&&(g=f,f=void 0),{action:r,method:d.toLowerCase(),encType:m,formData:f,body:g}}function Qo(i,o){if(i===!1||i===null||typeof i>"u")throw new Error(o)}async function Lg(i,o){if(i.id in o)return o[i.id];try{let d=await import(i.module);return o[i.id]=d,d}catch(d){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dg(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Ug(i,o,d){let r=await Promise.all(i.map(async m=>{let f=o.routes[m.route.id];if(f){let g=await Lg(f,d);return g.links?g.links():[]}return[]}));return Hg(r.flat(1).filter(Dg).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function km(i,o,d,r,m,f){let g=(x,h)=>d[h]?x.route.id!==d[h].route.id:!0,S=(x,h)=>{var b;return d[h].pathname!==x.pathname||((b=d[h].route.path)==null?void 0:b.endsWith("*"))&&d[h].params["*"]!==x.params["*"]};return f==="assets"?o.filter((x,h)=>g(x,h)||S(x,h)):f==="data"?o.filter((x,h)=>{var T;let b=r.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(g(x,h)||S(x,h))return!0;if(x.route.shouldRevalidate){let E=x.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:((T=d[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function kg(i,o,{includeHydrateFallback:d}={}){return zg(i.map(r=>{let m=o.routes[r.route.id];if(!m)return[];let f=[m.module];return m.clientActionModule&&(f=f.concat(m.clientActionModule)),m.clientLoaderModule&&(f=f.concat(m.clientLoaderModule)),d&&m.hydrateFallbackModule&&(f=f.concat(m.hydrateFallbackModule)),m.imports&&(f=f.concat(m.imports)),f}).flat(1))}function zg(i){return[...new Set(i)]}function Ig(i){let o={},d=Object.keys(i).sort();for(let r of d)o[r]=i[r];return o}function Hg(i,o){let d=new Set;return new Set(o),i.reduce((r,m)=>{let f=JSON.stringify(Ig(m));return d.has(f)||(d.add(f),r.push({key:f,link:m})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bg=new Set([100,101,204,205]);function Yg(i,o){let d=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return d.pathname==="/"?d.pathname="_root.data":o&&ul(d.pathname,o)==="/"?d.pathname=`${o.replace(/\/$/,"")}/_root.data`:d.pathname=`${d.pathname.replace(/\/$/,"")}.data`,d}function lh(){let i=v.useContext(Qa);return Qo(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Gg(){let i=v.useContext(Ou);return Qo(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ko=v.createContext(void 0);Ko.displayName="FrameworkContext";function ah(){let i=v.useContext(Ko);return Qo(i,"You must render this element inside a <HydratedRouter> element"),i}function Vg(i,o){let d=v.useContext(Ko),[r,m]=v.useState(!1),[f,g]=v.useState(!1),{onFocus:S,onBlur:x,onMouseEnter:h,onMouseLeave:b,onTouchStart:T}=o,E=v.useRef(null);v.useEffect(()=>{if(i==="render"&&g(!0),i==="viewport"){let w=V=>{V.forEach(I=>{g(I.isIntersecting)})},z=new IntersectionObserver(w,{threshold:.5});return E.current&&z.observe(E.current),()=>{z.disconnect()}}},[i]),v.useEffect(()=>{if(r){let w=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(w)}}},[r]);let A=()=>{m(!0)},y=()=>{m(!1),g(!1)};return d?i!=="intent"?[f,E,{}]:[f,E,{onFocus:Js(S,A),onBlur:Js(x,y),onMouseEnter:Js(h,A),onMouseLeave:Js(b,y),onTouchStart:Js(T,A)}]:[!1,E,{}]}function Js(i,o){return d=>{i&&i(d),d.defaultPrevented||o(d)}}function qg({page:i,...o}){let{router:d}=lh(),r=v.useMemo(()=>Xm(d.routes,i,d.basename),[d.routes,i,d.basename]);return r?v.createElement(Xg,{page:i,matches:r,...o}):null}function $g(i){let{manifest:o,routeModules:d}=ah(),[r,m]=v.useState([]);return v.useEffect(()=>{let f=!1;return Ug(i,o,d).then(g=>{f||m(g)}),()=>{f=!0}},[i,o,d]),r}function Xg({page:i,matches:o,...d}){let r=zl(),{manifest:m,routeModules:f}=ah(),{basename:g}=lh(),{loaderData:S,matches:x}=Gg(),h=v.useMemo(()=>km(i,o,x,m,r,"data"),[i,o,x,m,r]),b=v.useMemo(()=>km(i,o,x,m,r,"assets"),[i,o,x,m,r]),T=v.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(o.forEach(V=>{var D;let I=m.routes[V.route.id];!I||!I.hasLoader||(!h.some(Q=>Q.route.id===V.route.id)&&V.route.id in S&&((D=f[V.route.id])!=null&&D.shouldRevalidate)||I.hasClientLoader?w=!0:y.add(V.route.id))}),y.size===0)return[];let z=Yg(i,g);return w&&y.size>0&&z.searchParams.set("_routes",o.filter(V=>y.has(V.route.id)).map(V=>V.route.id).join(",")),[z.pathname+z.search]},[g,S,r,m,h,o,i,f]),E=v.useMemo(()=>kg(b,m),[b,m]),A=$g(b);return v.createElement(v.Fragment,null,T.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...d})),E.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...d})),A.map(({key:y,link:w})=>v.createElement("link",{key:y,...w})))}function Pg(...i){return o=>{i.forEach(d=>{typeof d=="function"?d(o):d!=null&&(d.current=o)})}}var sh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sh&&(window.__reactRouterVersion="7.6.2")}catch{}function Zg({basename:i,children:o,window:d}){let r=v.useRef();r.current==null&&(r.current=D0({window:d,v5Compat:!0}));let m=r.current,[f,g]=v.useState({action:m.action,location:m.location}),S=v.useCallback(x=>{v.startTransition(()=>g(x))},[g]);return v.useLayoutEffect(()=>m.listen(S),[m,S]),v.createElement(Eg,{basename:i,children:o,location:f.location,navigationType:f.action,navigator:m})}var ih=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,si=v.forwardRef(function({onClick:o,discover:d="render",prefetch:r="none",relative:m,reloadDocument:f,replace:g,state:S,target:x,to:h,preventScrollReset:b,viewTransition:T,...E},A){let{basename:y}=v.useContext(Un),w=typeof h=="string"&&ih.test(h),z,V=!1;if(typeof h=="string"&&w&&(z=h,sh))try{let X=new URL(window.location.href),H=h.startsWith("//")?new URL(X.protocol+h):new URL(h),ie=ul(H.pathname,y);H.origin===X.origin&&ie!=null?h=ie+H.search+H.hash:V=!0}catch{Tn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=ug(h,{relative:m}),[D,Q,Z]=Vg(r,E),ne=Wg(h,{replace:g,state:S,target:x,preventScrollReset:b,relative:m,viewTransition:T});function te(X){o&&o(X),X.defaultPrevented||ne(X)}let le=v.createElement("a",{...E,...Z,href:z||I,onClick:V||f?o:te,ref:Pg(A,Q),target:x,"data-discover":!w&&d==="render"?"true":void 0});return D&&!w?v.createElement(v.Fragment,null,le,v.createElement(qg,{page:I})):le});si.displayName="Link";var Qg=v.forwardRef(function({"aria-current":o="page",caseSensitive:d=!1,className:r="",end:m=!1,style:f,to:g,viewTransition:S,children:x,...h},b){let T=ai(g,{relative:h.relative}),E=zl(),A=v.useContext(Ou),{navigator:y,basename:w}=v.useContext(Un),z=A!=null&&ly(T)&&S===!0,V=y.encodeLocation?y.encodeLocation(T).pathname:T.pathname,I=E.pathname,D=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;d||(I=I.toLowerCase(),D=D?D.toLowerCase():null,V=V.toLowerCase()),D&&w&&(D=ul(D,w)||D);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let Z=I===V||!m&&I.startsWith(V)&&I.charAt(Q)==="/",ne=D!=null&&(D===V||!m&&D.startsWith(V)&&D.charAt(V.length)==="/"),te={isActive:Z,isPending:ne,isTransitioning:z},le=Z?o:void 0,X;typeof r=="function"?X=r(te):X=[r,Z?"active":null,ne?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let H=typeof f=="function"?f(te):f;return v.createElement(si,{...h,"aria-current":le,className:X,ref:b,style:H,to:g,viewTransition:S},typeof x=="function"?x(te):x)});Qg.displayName="NavLink";var Kg=v.forwardRef(({discover:i="render",fetcherKey:o,navigate:d,reloadDocument:r,replace:m,state:f,method:g=Nu,action:S,onSubmit:x,relative:h,preventScrollReset:b,viewTransition:T,...E},A)=>{let y=ty(),w=ny(S,{relative:h}),z=g.toLowerCase()==="get"?"get":"post",V=typeof S=="string"&&ih.test(S),I=D=>{if(x&&x(D),D.defaultPrevented)return;D.preventDefault();let Q=D.nativeEvent.submitter,Z=(Q==null?void 0:Q.getAttribute("formmethod"))||g;y(Q||D.currentTarget,{fetcherKey:o,method:Z,navigate:d,replace:m,state:f,relative:h,preventScrollReset:b,viewTransition:T})};return v.createElement("form",{ref:A,method:z,action:w,onSubmit:r?x:I,...E,"data-discover":!V&&i==="render"?"true":void 0})});Kg.displayName="Form";function Jg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uh(i){let o=v.useContext(Qa);return rt(o,Jg(i)),o}function Wg(i,{target:o,replace:d,state:r,preventScrollReset:m,relative:f,viewTransition:g}={}){let S=li(),x=zl(),h=ai(i,{relative:f});return v.useCallback(b=>{if(Rg(b,o)){b.preventDefault();let T=d!==void 0?d:Ws(x)===Ws(h);S(i,{replace:T,state:r,preventScrollReset:m,relative:f,viewTransition:g})}},[x,S,h,d,r,o,i,m,f,g])}var Fg=0,ey=()=>`__${String(++Fg)}__`;function ty(){let{router:i}=uh("useSubmit"),{basename:o}=v.useContext(Un),d=bg();return v.useCallback(async(r,m={})=>{let{action:f,method:g,encType:S,formData:x,body:h}=_g(r,o);if(m.navigate===!1){let b=m.fetcherKey||ey();await i.fetch(b,d,m.action||f,{preventScrollReset:m.preventScrollReset,formData:x,body:h,formMethod:m.method||g,formEncType:m.encType||S,flushSync:m.flushSync})}else await i.navigate(m.action||f,{preventScrollReset:m.preventScrollReset,formData:x,body:h,formMethod:m.method||g,formEncType:m.encType||S,replace:m.replace,state:m.state,fromRouteId:d,flushSync:m.flushSync,viewTransition:m.viewTransition})},[i,o,d])}function ny(i,{relative:o}={}){let{basename:d}=v.useContext(Un),r=v.useContext(kn);rt(r,"useFormAction must be used inside a RouteContext");let[m]=r.matches.slice(-1),f={...ai(i||".",{relative:o})},g=zl();if(i==null){f.search=g.search;let S=new URLSearchParams(f.search),x=S.getAll("index");if(x.some(b=>b==="")){S.delete("index"),x.filter(T=>T).forEach(T=>S.append("index",T));let b=S.toString();f.search=b?`?${b}`:""}}return(!i||i===".")&&m.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(f.pathname=f.pathname==="/"?d:il([d,f.pathname])),Ws(f)}function ly(i,o={}){let d=v.useContext(Wm);rt(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uh("useViewTransitionState"),m=ai(i,{relative:o.relative});if(!d.isTransitioning)return!1;let f=ul(d.currentLocation.pathname,r)||d.currentLocation.pathname,g=ul(d.nextLocation.pathname,r)||d.nextLocation.pathname;return Eu(m.pathname,g)!=null||Eu(m.pathname,f)!=null}[...Bg];const rh=v.createContext(void 0),oh=v.createContext(void 0);var j=(i=>(i.START="START",i.PROMPT="PROMPT",i.CONDITIONAL="CONDITIONAL",i.CONCLUSION="CONCLUSION",i.VARIABLE="VARIABLE",i.QUESTION="QUESTION",i.JAVASCRIPT="JAVASCRIPT",i.PARALLEL="PARALLEL",i.SYNCHRONIZE="SYNCHRONIZE",i))(j||{}),bt=(i=>(i.CHATGPT="chatgpt",i.OLLAMA="ollama",i))(bt||{});const Fs={llmProvider:bt.OLLAMA,temperature:.7,topK:40,topP:.95,chatGptModel:"gpt-3.5-turbo",chatGptApiKey:"",ollamaBaseUrl:"https://development.test",ollamaModel:"gemma3:4b",ollamaKeepAlive:"1h"},ay=["gpt-4","gpt-4-turbo-preview","gpt-3.5-turbo","gpt-4o"],da=200,ma=120,Dn=20,sy=5,zm=4,Im="llmWorkflowProjects",Hm="llmWorkflowAppSettings",Bm={[j.START]:"bg-green-600 hover:bg-green-700",[j.PROMPT]:"bg-sky-600 hover:bg-sky-700",[j.CONDITIONAL]:"bg-amber-600 hover:bg-amber-700",[j.CONCLUSION]:"bg-indigo-600 hover:bg-indigo-700",[j.VARIABLE]:"bg-teal-600 hover:bg-teal-700",[j.QUESTION]:"bg-cyan-600 hover:bg-cyan-700",[j.JAVASCRIPT]:"bg-purple-600 hover:bg-purple-700",[j.PARALLEL]:"bg-rose-600 hover:bg-rose-700",[j.SYNCHRONIZE]:"bg-lime-600 hover:bg-lime-700",ERROR:"bg-red-700",RUNNING:"bg-purple-600 animate-pulse"},ch="",iy="",uy="",ei="Final Output",ry="myVariable",Yo="Please provide your input:",oy="JavaScript Function",fh=`// Available variables:
// - previousOutput (string): Output from the previous node.
// - nodeVariables (object): Key-value pairs from Variable Nodes.
// - projectVariables (object): Key-value pairs from Project Settings.
// Your function must be an async function body.
// Example:
// const combinedOutput = \`Prev: \${previousOutput}, MyVar: \${nodeVariables.my_var || 'N/A'}\`;
// return combinedOutput;

return previousOutput;`,cy="Parallel Split",Au="Executes multiple downstream paths concurrently.",fy="Synchronize Paths",Go="Waits for parallel paths to complete before continuing.",Se=()=>Math.random().toString(36).substr(2,9),ln=(i,o="$")=>{if(i===null||typeof i!="object")return i;if(i instanceof Date)return new Date(i.getTime());if(i instanceof HTMLElement||typeof i=="function")return console.warn(`[deepClone] Attempted to clone a non-serializable type (${Object.prototype.toString.call(i)}) at path '${o}'. Replacing with placeholder string. Object:`,i),`[Non-Serializable Data: ${Object.prototype.toString.call(i)}]`;if(typeof window<"u"&&i===window)return console.warn(`[deepClone] Attempted to clone window object at path '${o}'. Replacing with placeholder.`),"[Non-Serializable Data: Window Object]";if(typeof document<"u"&&i===document)return console.warn(`[deepClone] Attempted to clone document object at path '${o}'. Replacing with placeholder.`),"[Non-Serializable Data: Document Object]";if(Array.isArray(i)){const d=[];for(let r=0;r<i.length;r++){const m=i[r];m instanceof HTMLElement||typeof m=="function"||typeof window<"u"&&m===window||typeof document<"u"&&m===document?(console.warn(`[deepClone] Attempted to clone a non-serializable array element (${Object.prototype.toString.call(m)}) at path '${o}[${r}]'. Replacing with placeholder string. Element:`,m),d[r]=`[Non-Serializable Data: ${Object.prototype.toString.call(m)}]`):d[r]=ln(m,`${o}[${r}]`)}return d}if(typeof i=="object"){const d={};for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)){const m=i[r];m instanceof HTMLElement||typeof m=="function"||typeof window<"u"&&m===window||typeof document<"u"&&m===document?(console.warn(`[deepClone] Attempted to clone a non-serializable property value (${Object.prototype.toString.call(m)}) at path '${o}.${r}'. Replacing with placeholder string. Value:`,m),d[r]=`[Non-Serializable Data: ${Object.prototype.toString.call(m)}]`):d[r]=ln(m,`${o}.${r}`)}return d}return console.warn(`[deepClone] Unhandled type at path '${o}'. Object:`,i,`Type: ${Object.prototype.toString.call(i)}`),`[Uncloneable Data Type: ${Object.prototype.toString.call(i)}]`},ft=i=>Array.isArray(i)?i.filter(o=>o!=null):[],zt=i=>typeof i!="string"?"":i.replace(/[^a-zA-Z0-9_]/g,""),dy=i=>!i||!i.nodes?!1:ft(i.nodes).some(d=>d.type===j.QUESTION),my=()=>{const i=new Date().toISOString(),o=Se(),d=Se(),r=Se(),m=Se(),f=Se(),g={id:Se(),name:"Number Range Game",description:"An LLM picks a number between 1-100. A conditional node then directs to a conclusion based on whether the number is less than 50 or not.",author:"App Examples",nodes:[{id:o,type:j.START,name:"Number Oracle",prompt:"Pick a number between 1 and 100 (inclusive) and reply with ONLY the number.",position:{x:50,y:150},nextNodeId:d},{id:d,type:j.CONDITIONAL,name:"Check Range",prompt:`If '{PREVIOUS_OUTPUT}' is less than 50 you must reply with "less than 50" but if it is greater than 50 or equal to 50 then you must reply "greater than or equal to 50". If it is not a number or something is confusing, reply only with the word "default"`,position:{x:300,y:150},branches:[{id:Se(),condition:"less than 50",nextNodeId:r},{id:Se(),condition:"greater than or equal to 50",nextNodeId:m},{id:Se(),condition:"default",nextNodeId:f}]},{id:r,type:j.CONCLUSION,name:"Result: < 50",prompt:"The Oracle's number was less than 50.",position:{x:650,y:50}},{id:m,type:j.CONCLUSION,name:"Result: >= 50",prompt:"The Oracle's number was 50 or greater.",position:{x:650,y:200}},{id:f,type:j.CONCLUSION,name:"Result: Unclear",prompt:"The Oracle's response about the number's range was unclear.",position:{x:650,y:350}}],links:[{id:Se(),sourceId:o,targetId:d},{id:Se(),sourceId:d,targetId:r,condition:"less than 50"},{id:Se(),sourceId:d,targetId:m,condition:"greater than or equal to 50"},{id:Se(),sourceId:d,targetId:f,condition:"default"}],runHistory:[],projectVariables:[],createdAt:i,updatedAt:i},S=Se(),x=Se(),h=Se(),b=Se(),T=Se(),E=Se(),A=Se(),y={id:Se(),name:"Escape Room Story Generator",description:"An LLM generates a story, then assesses if it's interesting. If not, it tries to improve it in a loop.",author:"App Examples",nodes:[{id:S,type:j.START,name:"Story Seed",prompt:"Generate a short story (1-2 paragraphs) about two characters trying to solve a difficult puzzle in an escape room. They are close to figuring it out. Use the project variable {setting_description} to set the scene.",position:{x:50,y:200},nextNodeId:x},{id:x,type:j.PROMPT,name:"Add School Detail",prompt:`Take the following story:
{PREVIOUS_OUTPUT}

---
Now, lengthen it by adding a short conversation where the two characters realize they went to the same high school. Make this realization a brief, natural part of their interaction while solving the puzzle. Reply ONLY with the story, no explanation.`,position:{x:300,y:200},nextNodeId:T},{id:T,type:j.VARIABLE,name:"story",prompt:"",position:{x:550,y:200},nextNodeId:h},{id:h,type:j.CONDITIONAL,name:"Story Quality Check",prompt:`Carefully review the following story. Is it interesting and engaging for a reader?

The story:
{story}

---
If the story is interesting, respond only with "Interesting" but if it is not, then respond only with "Not interesting" However, if something has gone wrong and a determination cannot be made, then respond with "Default"`,position:{x:800,y:200},branches:[{id:Se(),condition:"Interesting",nextNodeId:E},{id:Se(),condition:"Not interesting",nextNodeId:b},{id:Se(),condition:"Default",nextNodeId:A}]},{id:b,type:j.PROMPT,name:"Improve Story",prompt:`The story below was deemed 'Not interesting'.
Previous Story:
{story}

---
Rewrite it to be more engaging. You could add a surprising twist, a moment of clever deduction, or deepen the characters' interaction but always be sure to maintain a consistent storyline. Respond ONLY with the story, no explanation.`,position:{x:800,y:600},nextNodeId:T},{id:E,type:j.CONCLUSION,name:"Final Story",prompt:"The interesting escape room story:",outputFormatTemplate:`Here is the final story using project author '{project_author}':

{story}`,position:{x:1050,y:100}},{id:A,type:j.CONCLUSION,name:"Story Assessment Unclear",prompt:"The story assessment was unclear. Displaying last version: {story}",position:{x:1050,y:300}}],links:[{id:Se(),sourceId:S,targetId:x},{id:Se(),sourceId:x,targetId:T},{id:Se(),sourceId:T,targetId:h},{id:Se(),sourceId:h,targetId:E,condition:"Interesting"},{id:Se(),sourceId:h,targetId:b,condition:"Not interesting"},{id:Se(),sourceId:h,targetId:A,condition:"default"},{id:Se(),sourceId:b,targetId:T}],runHistory:[],projectVariables:[{id:Se(),name:"setting_description",value:"a dusty, ancient library filled with arcane texts"},{id:Se(),name:"project_author",value:"AI Storyteller Example"}],createdAt:i,updatedAt:i},w="lzelrwv4l",z="vewgibgpn",V="1ok8dr6kq",I="fqxjna7gx",D="e4nnboq2b",Q="9fk64ucxx",Z="tsqcktm8o",ne="wyf074qat",te="ov2sjuhrb",le={id:"g7ytvl6yy",name:"Parallelism",description:"Example of concurrent execution.",author:"App Examples",nodes:[{id:w,type:j.START,name:"Start Here",prompt:"OK, Google, please tell me a one-line joke.",position:{x:380,y:640},nextNodeId:z},{id:z,type:j.PARALLEL,name:"Parallel Split",prompt:"Executes multiple downstream paths concurrently.",parallelNextNodeIds:[V,I,D],position:{x:640,y:640}},{id:V,type:j.VARIABLE,name:"Joke",prompt:"",position:{x:920,y:460},nextNodeId:Q},{id:I,type:j.PROMPT,name:"Funny?",prompt:"Please decide if this joke is funny:\n```\n{PREVIOUS_OUTPUT}\n```",position:{x:920,y:640},nextNodeId:ne},{id:D,type:j.QUESTION,name:"Question",prompt:"Please provide your input:",position:{x:920,y:820},nextNodeId:te},{id:ne,type:j.VARIABLE,name:"llmAnalysis",prompt:"",position:{x:1160,y:640},nextNodeId:Q},{id:te,type:j.VARIABLE,name:"userInput",prompt:"",position:{x:1160,y:820},nextNodeId:Q},{id:Q,type:j.SYNCHRONIZE,name:"Synchronize Paths",prompt:"Waits for parallel paths to complete before continuing.",position:{x:1440,y:460},nextNodeId:Z},{id:Z,type:j.CONCLUSION,name:"Finish",prompt:"Final Output",outputFormatTemplate:`Joke: {Joke}

LLM Analysis:
{llmAnalysis}

User input:
{userInput}`,position:{x:1720,y:460}}],links:[{id:Se(),sourceId:w,targetId:z},{id:Se(),sourceId:z,targetId:V},{id:Se(),sourceId:z,targetId:I},{id:Se(),sourceId:z,targetId:D},{id:Se(),sourceId:V,targetId:Q},{id:Se(),sourceId:I,targetId:ne},{id:Se(),sourceId:ne,targetId:Q},{id:Se(),sourceId:D,targetId:te},{id:Se(),sourceId:te,targetId:Q},{id:Se(),sourceId:Q,targetId:Z}],runHistory:[],projectVariables:[],createdAt:i,updatedAt:i};return[g,y,le]},ha={getProjects:()=>{const i=localStorage.getItem(Im);if(i)try{const d=JSON.parse(i);if(Array.isArray(d))return d.map(m=>(m&&m.nodes&&Array.isArray(m.nodes)&&(m.nodes=m.nodes.filter(f=>f!=null)),m&&!Array.isArray(m.projectVariables)&&(m.projectVariables=[]),m)).filter(m=>m!=null)}catch(d){console.error("[LocalStorageService] Error parsing projects from localStorage",d)}const o=my();return ha.saveProjects(o),o},saveProjects:i=>{try{const o=JSON.stringify(i);localStorage.setItem(Im,o)}catch(o){console.error("[LocalStorageService] saveProjects error: Could not stringify projects. This may be due to circular references or non-serializable data in the project state. Error message:",o instanceof Error?o.message:String(o)),o instanceof Error&&o.stack&&console.error("[LocalStorageService] saveProjects error stack:",o.stack),o instanceof TypeError&&(o.message.toLowerCase().includes("circular structure")||o.message.toLowerCase().includes("cyclic object value"))&&console.error("[LocalStorageService] CIRCULAR STRUCTURE ERROR detected during saveProjects. The 'projects' object likely contains HTMLElement or other non-serializable data with circular references.")}},getAppSettings:()=>{const i=localStorage.getItem(Hm),o=i?JSON.parse(i):Fs;return{...Fs,...o}},saveAppSettings:i=>{localStorage.setItem(Hm,JSON.stringify(i))}},hy=()=>{const{projectId:i}=og(),{getProjectById:o,updateProject:d}=hh(),r=li(),[m,f]=v.useState(null),[g,S]=v.useState(!1),[x,h]=v.useState(!1),[b,T]=v.useState(!0);v.useEffect(()=>{if(!i){r("/"),T(!1);return}const D=o(i);if(D){const Q=ln(D);Q.nodes=ft(Q.nodes),f(Q),S(!1)}else r("/");T(!1)},[i,o,r]);const E=v.useCallback((D,Q=!1)=>{if(!D)return;const Z=ln(D),ne={...Z,nodes:ft(Z.nodes),updatedAt:new Date().toISOString()};d(ne),Q||f(ne),S(!1)},[d]),A=v.useRef(null),y=v.useCallback(D=>D?Promise.resolve(!1):g?(h(!0),new Promise(Q=>{A.current=Q})):(r("/"),Promise.resolve(!0)),[g,r]),w=v.useCallback(()=>{m&&E(m),h(!1),r("/"),A.current&&(A.current(!0),A.current=null)},[m,E]),z=v.useCallback(()=>{h(!1),r("/"),A.current&&(A.current(!0),A.current=null)},[]),V=v.useCallback(()=>{h(!1),A.current&&(A.current(!1),A.current=null)},[]),I=v.useCallback(D=>{f(Q=>{const Z=Q?ln(Q):null,ne=typeof D=="function"?D(Q):D,te=ne?ln(ne):null;if(te){te.nodes=ft(te.nodes);let le=!1;try{const X=Z?JSON.stringify(Z):"null",H=te?JSON.stringify(te):"null";X!==H&&(le=!0)}catch{le=!0}le&&S(!0)}else Q!==null&&S(!0);return te})},[]);return{projectId:i,currentProject:m,setCurrentProject:I,isLoading:b,hasUnsavedChanges:g,setHasUnsavedChanges:S,saveProjectState:E,isUnsavedChangesModalOpen:x,setIsUnsavedChangesModalOpen:h,handleRequestCloseProject:y,handleSaveAndClose:w,handleCloseWithoutSaving:z,handleCancelClose:V}},py=({currentProject:i,setCurrentProject:o,saveProjectState:d,editorAreaRef:r,scale:m,translate:f})=>{const[g,S]=v.useState(null),[x,h]=v.useState(!1),[b,T]=v.useState({isOpen:!1,nodeId:null,nodeName:null}),[E,A]=v.useState(!1),y=v.useCallback(I=>{if(!i||!r.current)return;const D=r.current.clientWidth,Q=r.current.clientHeight,Z=(D/2-f.x)/m,ne=(Q/2-f.y)/m,te=Z-da/2+(Math.random()-.5)*50,le=ne-ma/2+(Math.random()-.5)*50;let X=iy,H=uy,ie,ce,ue;I===j.START&&(H=ch),I===j.CONCLUSION&&(H=ei,ce="{PREVIOUS_OUTPUT}"),I===j.VARIABLE&&(X=ry,H=""),I===j.QUESTION&&(H=Yo),I===j.JAVASCRIPT&&(X=oy,H="Custom JavaScript function.",ie=fh),I===j.PARALLEL&&(X=cy,H=Au,ue=[]),I===j.SYNCHRONIZE&&(X=fy,H=Go);const he={id:Se(),type:I,name:X,prompt:H,code:ie,outputFormatTemplate:ce,parallelNextNodeIds:ue,position:{x:Math.max(0,te),y:Math.max(0,le)},branches:I===j.CONDITIONAL?[{id:Se(),condition:"default",nextNodeId:null}]:void 0,nextNodeId:I===j.PROMPT||I===j.START||I===j.VARIABLE||I===j.QUESTION||I===j.JAVASCRIPT||I===j.SYNCHRONIZE?null:void 0};I===j.PARALLEL&&delete he.nextNodeId,o(be=>be?{...be,nodes:[...ft(be.nodes),he]}:null)},[i,o,r,m,f]),w=v.useCallback(I=>{if(!i)return;let D={...I};D.type===j.VARIABLE&&D.name&&(D.name=D.name.replace(/[{}]/g,"").trim()),D.type===j.CONCLUSION&&(!D.outputFormatTemplate||D.outputFormatTemplate.trim()==="")&&(D.outputFormatTemplate="{PREVIOUS_OUTPUT}"),D.type===j.PARALLEL&&(D.parallelNextNodeIds=(D.parallelNextNodeIds||[]).filter(te=>te&&te.trim()!==""),D.parallelNextNodeIds.length>0&&delete D.nextNodeId);const Z=ft(i.nodes).map(te=>te.id===D.id?D:te),ne={...i,nodes:Z};d(ne),h(!1),S(null)},[i,d]),z=v.useCallback(()=>{!i||!b.nodeId||o(I=>{if(!I)return null;let Q=ft(I.nodes).filter(Z=>Z.id!==b.nodeId);return Q=Q.map(Z=>{let ne=!1;const te={...Z};if(te.nextNodeId===b.nodeId&&(te.nextNodeId=null,ne=!0),te.branches){const le=JSON.stringify(te.branches);te.branches=te.branches.map(X=>X.nextNodeId===b.nodeId?{...X,nextNodeId:null}:X),JSON.stringify(te.branches)!==le&&(ne=!0)}return te.parallelNextNodeIds&&te.parallelNextNodeIds.includes(b.nodeId)&&(te.parallelNextNodeIds=te.parallelNextNodeIds.filter(le=>le!==b.nodeId),ne=!0),ne?te:Z}),{...I,nodes:Q}})},[i,o,b.nodeId]),V=v.useCallback((I,D)=>{if(D.stopPropagation(),!i)return;const Q=ft(i.nodes).find(Z=>Z.id===I);Q&&(A(!0),T({isOpen:!0,nodeId:I,nodeName:Q.name||Q.type}))},[i]);return{selectedNodeState:g,setSelectedNodeState:S,isNodeModalOpen:x,setIsNodeModalOpen:h,deleteNodeConfirm:b,setDeleteNodeConfirm:T,deleteActionInitiated:E,setDeleteActionInitiated:A,handleAddNode:y,handleSaveNode:w,confirmDeleteNode:z,handleDeleteNodeRequest:V}},gy=500,yy=300,xy=10,by=({currentProject:i,setCurrentProject:o,editorAreaRef:d,setSelectedNodeState:r,setIsNodeModalOpen:m,deleteActionInitiated:f,setDeleteActionInitiated:g,scale:S,translate:x})=>{const[h,b]=v.useState(null),T=v.useRef(null),E=v.useRef(!1),A=v.useRef(null),y=v.useRef(0),w=v.useRef(null),z=v.useRef(null),V=v.useCallback((le,X,H,ie)=>{if(!i||!d.current)return;const ce=ft(i.nodes).find(P=>P.id===le);if(!ce)return;const ue=d.current.getBoundingClientRect(),he=(X-ue.left-x.x)/S,be=(H-ue.top-x.y)/S,Y=he-ce.position.x,q=be-ce.position.y;b({id:le,offset:{x:Y,y:q},method:ie});const R=document.querySelector(`.node-${le}`);R&&R.classList.add("dragging")},[i,d,S,x]),I=v.useCallback((le,X)=>{if(!X.target.closest(".node-delete-button")){if(f){X.preventDefault();return}T.current={x:X.clientX,y:X.clientY},E.current=!1,V(le,X.clientX,X.clientY,"mouse"),X.preventDefault()}},[f,V]),D=v.useCallback(le=>{if(!(!h||h.method!=="mouse"||!i||!d.current)){if(!E.current&&T.current){const X=le.clientX-T.current.x,H=le.clientY-T.current.y;Math.sqrt(X*X+H*H)>sy&&(E.current=!0)}if(E.current){const X=d.current.getBoundingClientRect(),H=(le.clientX-X.left-x.x)/S,ie=(le.clientY-X.top-x.y)/S;let ce=Math.round((H-h.offset.x)/Dn)*Dn,ue=Math.round((ie-h.offset.y)/Dn)*Dn;ce=Math.max(0,ce),ue=Math.max(0,ue),o(he=>{if(!he)return null;const be=ft(he.nodes).map(Y=>Y.id===h.id?{...Y,position:{x:ce,y:ue}}:Y);return{...he,nodes:be}})}}},[h,i,o,d,S,x]),Q=v.useCallback(()=>{if(!h||h.method!=="mouse"||!i)return;const le=document.querySelector(`.node-${h.id}`);if(le&&le.classList.remove("dragging"),f)g(!1);else if(!E.current){const X=ft(i.nodes).find(H=>H.id===h.id);X&&(r(X),m(!0))}b(null),T.current=null,E.current=!1},[h,i,f,g,r,m]);v.useEffect(()=>(h&&h.method==="mouse"?(document.addEventListener("mousemove",D),document.addEventListener("mouseup",Q)):(document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",Q)),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",Q)}),[h,D,Q]);const Z=v.useCallback((le,X)=>{if(X.touches.length!==1)return;const H=X.touches[0];if(z.current=le,X.target.closest(".node-delete-button"))return;if(f){X.preventDefault();return}X.stopPropagation(),w.current={x:H.clientX,y:H.clientY};const ce=Date.now();if(ce-y.current<yy){A.current&&clearTimeout(A.current),y.current=0;const ue=ft(i==null?void 0:i.nodes).find(he=>he.id===le);ue&&(r(ue),m(!0));return}y.current=ce,A.current&&clearTimeout(A.current),A.current=window.setTimeout(()=>{w.current&&V(le,w.current.x,w.current.y,"touch"),A.current=null},gy)},[f,V,i,r,m]),ne=v.useCallback(le=>{if(le.touches.length!==1)return;const X=le.touches[0];if(A.current&&w.current){const H=X.clientX-w.current.x,ie=X.clientY-w.current.y;Math.hypot(H,ie)>xy&&(clearTimeout(A.current),A.current=null)}if(h&&h.method==="touch"&&i&&d.current){le.preventDefault();const H=d.current.getBoundingClientRect(),ie=(X.clientX-H.left-x.x)/S,ce=(X.clientY-H.top-x.y)/S;let ue=Math.round((ie-h.offset.x)/Dn)*Dn,he=Math.round((ce-h.offset.y)/Dn)*Dn;ue=Math.max(0,ue),he=Math.max(0,he),o(be=>{if(!be)return null;const Y=ft(be.nodes).map(q=>q.id===h.id?{...q,position:{x:ue,y:he}}:q);return{...be,nodes:Y}})}},[h,i,o,d,S,x]),te=v.useCallback(le=>{if(!(z.current===null&&!h)){if(A.current&&(clearTimeout(A.current),A.current=null),h&&h.method==="touch"){const X=document.querySelector(`.node-${h.id}`);X&&X.classList.remove("dragging"),f&&g(!1),b(null)}w.current=null,z.current=null}},[f,g,h]);return v.useEffect(()=>(z.current||h&&h.method==="touch"?(document.addEventListener("touchmove",ne,{passive:!1}),document.addEventListener("touchend",te),document.addEventListener("touchcancel",te)):(document.removeEventListener("touchmove",ne),document.removeEventListener("touchend",te),document.removeEventListener("touchcancel",te)),()=>{document.removeEventListener("touchmove",ne),document.removeEventListener("touchend",te),document.removeEventListener("touchcancel",te)}),[z.current,h,ne,te]),{handleNodeMouseDown:I,handleNodeTouchStart:Z}},vy=()=>{const[i,o]=v.useState(!1),d=v.useRef(!1),[r,m]=v.useState(null),[f,g]=v.useState(null),[S,x]=v.useState(null),[h,b]=v.useState(0),[T,E]=v.useState(!0),[A,y]=v.useState(null),[w,z]=v.useState(0),V=v.useRef(w);v.useEffect(()=>{V.current=w},[w]);const[I,D]=v.useState(!1),[Q,Z]=v.useState(null),[ne,te]=v.useState([]),le=v.useCallback(()=>{z(ce=>ce+1)},[]),X=v.useCallback(()=>{z(ce=>Math.max(0,ce-1))},[]),H=v.useCallback(()=>V.current,[]),ie=v.useCallback(()=>{y(null)},[]);return{isWorkflowRunning:i,setIsWorkflowRunning:o,isStopRequestedRef:d,currentExecutingNodeId:r,setCurrentExecutingNodeId:m,runStartTime:f,setRunStartTime:g,runEndTime:S,setRunEndTime:x,totalTokensThisRun:h,setTotalTokensThisRun:b,isExecutionPanelOpen:T,setIsExecutionPanelOpen:E,conclusionModalContent:A,setConclusionModalContent:y,clearConclusionModalContent:ie,activeExecutionCount:w,setActiveExecutionCount:z,incrementActiveExecutionCount:le,decrementActiveExecutionCount:X,getActiveExecutionCount:H,isSteppingActive:I,setIsSteppingActive:D,nextStepInfo:Q,setNextStepInfo:Z,currentRunSteps:ne,setCurrentRunSteps:te}},Ny=()=>{const[i,o]=v.useState([]),d=v.useCallback(r=>{o(m=>{const f=m.findIndex(g=>g.nodeId===r.nodeId&&g.status==="running");if(f!==-1){const g=[...m],S={...g[f],...r};return!r.startTime&&g[f].startTime&&(S.startTime=g[f].startTime),g[f]=S,g}else return[...m,{startTime:new Date().toISOString(),status:"running",...r}]})},[]);return{executionLogs:i,setExecutionLogs:o,addLogEntry:d}},Sy="https://api.openai.com/v1/chat/completions",Ey=async(i,o)=>{if(!o.chatGptApiKey)throw new Error("ChatGPT API Error: API key is not set. Please configure it in Application Settings.");if(!o.chatGptModel)throw new Error("ChatGPT API Error: Model name is not selected. Please select a model in Application Settings.");const d={model:o.chatGptModel,messages:[{role:"user",content:i}],temperature:o.temperature,top_p:o.topP};try{const r=await fetch(Sy,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.chatGptApiKey}`},body:JSON.stringify(d)});if(!r.ok){let S={};try{S=await r.json()}catch{}let x=`ChatGPT API request failed with status ${r.status}`;throw S&&S.error&&S.error.message?x+=`: ${S.error.message}`:x+=`: ${r.statusText}`,r.status===401?new Error(`ChatGPT API Error: API key is invalid or not authorized. Please check your API key in Application Settings. Original: ${x}`):r.status===429?new Error(`ChatGPT API Error: Rate limit exceeded. Please check your OpenAI plan and usage. Original: ${x}`):new Error(x)}const m=await r.json();if(!m.choices||m.choices.length===0||!m.choices[0].message||!m.choices[0].message.content)throw new Error("Received invalid or empty response from ChatGPT API.");const f=m.choices[0].message.content;let g;return m.usage&&(g={promptTokenCount:m.usage.prompt_tokens,candidatesTokenCount:m.usage.completion_tokens,totalTokenCount:m.usage.total_tokens}),{text:f,usageMetadata:g}}catch(r){throw console.error("Error calling ChatGPT API:",r),r instanceof Error?r:new Error("An unknown error occurred while communicating with the ChatGPT API.")}},Ay=async(i,o)=>{const{ollamaBaseUrl:d,ollamaModel:r,ollamaKeepAlive:m,temperature:f,topK:g,topP:S}=o,x=`${d.replace(/\/$/,"")}/api/generate`;if(!r)throw new Error("Ollama API Error: Model name is not selected. Please select a model in Application Settings.");const h={model:r,prompt:i,stream:!1,keep_alive:m,options:{temperature:f,top_k:g,top_p:S}};try{const b=await fetch(x,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(!b.ok){let A=b.statusText;try{const y=await b.json();y.error&&(A=y.error)}catch{A=await b.text().catch(()=>b.statusText)||b.statusText}throw new Error(`Ollama API request failed with status ${b.status}: ${A}`)}const T=await b.json();if(T.error)throw new Error(`Ollama API Error: ${T.error}`);if(!T.response||typeof T.response!="string")throw new Error("Received invalid or empty response from Ollama API.");const E={promptTokenCount:T.prompt_eval_count,candidatesTokenCount:T.eval_count,totalTokenCount:(T.prompt_eval_count||0)+(T.eval_count||0)};return{text:T.response,usageMetadata:E}}catch(b){throw console.error("Error calling Ollama API:",b),b instanceof Error?b.message.includes("Failed to fetch")?new Error(`Ollama Network Error: Could not connect to Ollama server at ${d}. Ensure it's running and the URL is correct.`):new Error(`Ollama API Error: ${b.message}`):new Error("An unknown error occurred while communicating with the Ollama API.")}},Ty=async(i,o)=>{if(o.llmProvider===bt.CHATGPT)return Ey(i,o);if(o.llmProvider===bt.OLLAMA)return Ay(i,o);{const d=o.llmProvider;throw new Error(`Unsupported LLM provider: ${d}`)}},ko=(i,o,d,r,m,f)=>{let g=i;const S=new Map([...m,...r,...d]),x=/{(\w+)}/g;return g=g.replace(x,(h,b)=>{if(b==="PREVIOUS_OUTPUT")return o;if(S.has(b))return S.get(b);if(f){const T=f.find(E=>E.type===j.VARIABLE&&E.name===b);if(T&&typeof T.lastRunOutput=="string")return T.lastRunOutput}return h}),g},Vo=async({node:i,previousOutput:o,settings:d,nodeVariables:r,projectVariablesMap:m,systemVariablesMap:f,callbacks:g,pathId:S,projectNodes:x,onPathCounterManagedByNode:h})=>{var A,y;if(g.isStopRequested())throw new Error("Workflow stopped by user.");i.isRunning=!0,i.hasError=!1,g.onNodeStatusUpdate(i.id,{isRunning:!0,hasError:!1}),g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"running",startTime:new Date().toISOString(),pathId:S});let b=o,T=`Input: ${o}`,E=0;try{if(i.type===j.START||i.type===j.PROMPT||i.type===j.CONDITIONAL){T=ko(i.prompt,o,r,m,f,x);const w=await Ty(T,d);b=w.text,E=((A=w.usageMetadata)==null?void 0:A.totalTokenCount)||0}else if(i.type===j.VARIABLE){const w=zt(i.name);if(!w)throw new Error(`Variable node "${i.name}" has invalid name.`);r.set(w,o),b=o,T=`Stored input as '${w}'`,g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"variable_set",output:b,endTime:new Date().toISOString(),pathId:S})}else if(i.type===j.QUESTION){T=ko(i.prompt,o,r,m,f,x),g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"awaiting_input",output:"Waiting for user...",pathId:S});const w=await g.onRequestUserInput(T,i.id);if(g.isStopRequested())throw new Error("Workflow stopped by user during question input.");b=w}else if(i.type===j.JAVASCRIPT){const w=i.code||fh;T=`Executing JavaScript: ${i.prompt||i.name}`;const z=Object.fromEntries(r.entries()),V=Object.fromEntries(m.entries()),D=await new Function("previousOutput","nodeVariables","projectVariables",`return (async (previousOutput, nodeVariables, projectVariables) => { ${w} })(previousOutput, nodeVariables, projectVariables);`)(o,z,V);b=typeof D=="string"?D:D==null?"":JSON.stringify(D),g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"javascript_executed",output:b,endTime:new Date().toISOString(),pathId:S})}else if(i.type===j.PARALLEL){T=`Forking execution from: ${i.prompt||Au}`,b=o;const w=((y=i.parallelNextNodeIds)==null?void 0:y.length)||0;w>0?(g.incrementParallelPathCounter(w),g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"parallel_executed",output:`Incremented parallel counter by ${w}. PARALLEL_COUNTER_IS_NOW: ${g.getParallelPathCounter()}`,endTime:new Date().toISOString(),pathId:S})):g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"parallel_executed",output:"No branches to fork. Parallel counter unchanged.",endTime:new Date().toISOString(),pathId:S}),h()}else if(i.type===j.SYNCHRONIZE){g.decrementParallelPathCounter(),h();const w=g.getParallelPathCounter();g.decrementActiveExecutionCount();const z=`PATH ${S.split("-").pop()}: Arrived. PARALLEL_COUNTER_IS_NOW: ${w}. Waiting for other paths. ActiveExec: ${g.getActiveExecutionCount()}`;for(g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"synchronize_awaiting",output:z,pathId:S});g.getParallelPathCounter()>0&&!g.isStopRequested();)await new Promise(I=>setTimeout(I,150));if(g.isStopRequested())throw g.incrementActiveExecutionCount(),new Error("Workflow stopped by user while at synchronize node.");g.incrementActiveExecutionCount(),b="continue",T=`All parallel paths globally completed (counter from CB: ${g.getParallelPathCounter()}). Path ${S.split("-").pop()} resuming. Outputting "${b}". Active executions: ${g.getActiveExecutionCount()}`,g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"synchronize_resumed",output:T,endTime:new Date().toISOString(),pathId:S})}else if(i.type===j.CONCLUSION){g.decrementParallelPathCounter(),h();const w=g.getParallelPathCounter(),z=i.outputFormatTemplate||"{PREVIOUS_OUTPUT}";b=ko(z,o,r,m,f,x),T=`Displaying output for: ${i.prompt||ei}`,g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"completed",output:`Conclusion reached. PARALLEL_COUNTER_IS_NOW: ${w}. Output: ${b.substring(0,100)}${b.length>100?"...":""}`,endTime:new Date().toISOString(),pathId:S}),g.onConclusion({title:i.prompt||ei,content:b})}else{const w=i.type;throw new Error(`Unknown or unhandled node type ${w}`)}return g.onTokenUpdate(E),i.type!==j.VARIABLE&&i.type!==j.JAVASCRIPT&&i.type!==j.PARALLEL&&i.type!==j.SYNCHRONIZE&&i.type!==j.CONCLUSION&&g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"completed",output:b,tokensUsed:E,endTime:new Date().toISOString(),pathId:S}),i.lastRunOutput=b,i.isRunning=!1,i.hasError=!1,g.onNodeStatusUpdate(i.id,{isRunning:!1,hasError:!1,lastRunOutput:b}),{output:b,tokensUsed:E,promptSent:T}}catch(w){const z=w instanceof Error?w.message:String(w);throw g.onLogEntry({nodeId:i.id,nodeName:i.name,status:"failed",error:z,endTime:new Date().toISOString(),pathId:S}),i.lastRunOutput=`Error: ${z}`,i.isRunning=!1,i.hasError=!0,g.onNodeStatusUpdate(i.id,{isRunning:!1,hasError:!0,lastRunOutput:`Error: ${z}`}),w}},dh=async({initialNode:i,initialInput:o,projectNodes:d,settings:r,baseNodeVariables:m,projectVariablesMap:f,systemVariablesMap:g,callbacks:S,pathId:x})=>{S.incrementActiveExecutionCount();const h=new Map(m),b=[];let T=0,E=o,A=i;const y=new Map,w=10;let z,V=!1;try{for(;A;){if(S.isStopRequested())throw new Error("Workflow stopped by user.");const I=(y.get(A.id)||0)+1;if(I>w)throw new Error(`Loop detected or node "${A.name}" (Path: ${x}) executed > ${w} times.`);y.set(A.id,I),z=A,V=!1;const D=await Vo({node:A,previousOutput:E,settings:r,nodeVariables:h,projectVariablesMap:f,systemVariablesMap:g,callbacks:S,pathId:x,projectNodes:d,onPathCounterManagedByNode:()=>{V=!0}});E=D.output,T+=D.tokensUsed,b.push({nodeId:A.id,nodeName:A.name,promptSent:D.promptSent,responseReceived:E,timestamp:new Date().toISOString(),tokensUsed:D.tokensUsed,pathId:x});let Q=null;if(A.type===j.PARALLEL){const Z=A.parallelNextNodeIds||[],ne=[];for(const le of Z){const X=d.find(H=>H.id===le);X&&ne.push(dh({initialNode:X,initialInput:E,projectNodes:d,settings:r,baseNodeVariables:new Map(h),projectVariablesMap:f,systemVariablesMap:g,callbacks:S,pathId:`${x}-branch-${le.substring(0,4)}`}))}(await Promise.allSettled(ne)).forEach(le=>{le.status==="fulfilled"?(b.push(...le.value.steps),T+=le.value.tokens):S.onLogEntry({nodeId:(A==null?void 0:A.id)||"parallel_node",nodeName:(A==null?void 0:A.name)||"Parallel Node",status:"failed",error:`A parallel branch failed: ${le.reason instanceof Error?le.reason.message:String(le.reason)}`,pathId:x})}),A=void 0}else if(A.type===j.CONDITIONAL){const Z=A.branches||[];let ne=Z.find(te=>{const le=te.condition.toLowerCase(),X=E.toLowerCase().trim();return le.startsWith("contains ")?X.includes(le.substring(9).trim()):le.startsWith("starts with ")?X.startsWith(le.substring(12).trim()):X===le});ne||(ne=Z.find(te=>te.condition.toLowerCase()==="default")),Q=ne==null?void 0:ne.nextNodeId}else A.type!==j.CONCLUSION&&(Q=A.nextNodeId);if(Q){const Z=d.find(ne=>ne.id===Q);Z?A=Z:(S.onLogEntry({nodeId:Q,nodeName:"Unknown Node",status:"skipped",error:"Next node ID not found.",pathId:x,endTime:new Date().toISOString()}),A=void 0)}else A=void 0}return{finalOutput:E,steps:b,tokens:T,status:"completed"}}catch(I){const D=I instanceof Error?I.message:String(I);return{finalOutput:E,steps:b,tokens:T,status:D==="Workflow stopped by user."?"stopped":"failed"}}finally{!V&&z&&z.type!==j.PARALLEL&&(z.type===j.CONCLUSION||(z.type,j.SYNCHRONIZE)),S.decrementActiveExecutionCount()}},mh=async(i,o,d)=>{var A;const r=ln(i);r.nodes=ft(r.nodes).map(y=>({...y,isRunning:!1,hasError:!1,lastRunOutput:void 0}));const m=r.nodes,f=new Map,g=new Map(((A=r.projectVariables)==null?void 0:A.map(y=>[zt(y.name),y.value]))||[]),S=new Map,x=new Date;S.set("CurrentDateTime",x.toLocaleString()),S.set("LLMProvider",o.llmProvider);let h="N/A";switch(o.llmProvider){case bt.CHATGPT:h=o.chatGptModel||"Not Set";break;case bt.OLLAMA:h=o.ollamaModel||"Not Set";break;default:const y=o.llmProvider;h=`Unknown (${String(y)})`;break}S.set("LLMModel",h);const b=m.find(y=>y.type===j.START);if(!b){const y="No Start Node found.";return d.onLogEntry({nodeId:"workflow_error",nodeName:"Workflow Error",status:"failed",error:y,endTime:new Date().toISOString(),pathId:"main"}),{status:"failed",error:y,steps:[],totalTokensUsed:0,updatedNodes:m}}for(;d.getParallelPathCounter()>0;)d.decrementParallelPathCounter();if(d.getActiveExecutionCount()>0){let y=0;for(;d.getActiveExecutionCount()>0&&y<100;)d.decrementActiveExecutionCount(),y++}let T=0,E=[];try{const y=await dh({initialNode:b,initialInput:"",projectNodes:m,settings:o,baseNodeVariables:f,projectVariablesMap:g,systemVariablesMap:S,callbacks:d,pathId:`main-${b.id.substring(0,4)}`});if(E.push(...y.steps),T+=y.tokens,y.status!=="stopped"&&y.status!=="failed"){let z=0;for(;d.getParallelPathCounter()>0&&z<m.length*2&&!d.isStopRequested();)d.onLogEntry({nodeId:"workflow_cleanup",nodeName:"Workflow Cleanup",status:"skipped",error:`Path counter was ${d.getParallelPathCounter()} at end of run, decrementing. This might indicate an unjoined parallel branch.`,pathId:"cleanup"}),d.decrementParallelPathCounter(),z++}const w=m.map(z=>({...z,isRunning:!1}));return{status:y.status,finalOutput:y.finalOutput,error:y.status==="failed"?"Workflow path failed.":y.status==="stopped"?"Workflow stopped.":void 0,steps:E,totalTokensUsed:T,updatedNodes:w}}catch(y){const w=y instanceof Error?y.message:"Unknown workflow execution error.",z=m.map(V=>({...V,isRunning:!1}));return{status:"failed",error:w,steps:E,totalTokensUsed:T,updatedNodes:z}}},Oy=({currentProject:i,saveProjectState:o,setCurrentProject:d,hasUnsavedChanges:r,requestUserInput:m})=>{const{appSettings:f}=Jo(),{isWorkflowRunning:g,setIsWorkflowRunning:S,isStopRequestedRef:x,currentExecutingNodeId:h,setCurrentExecutingNodeId:b,runStartTime:T,setRunStartTime:E,runEndTime:A,setRunEndTime:y,totalTokensThisRun:w,setTotalTokensThisRun:z,isExecutionPanelOpen:V,setIsExecutionPanelOpen:I,conclusionModalContent:D,setConclusionModalContent:Q,clearConclusionModalContent:Z,getActiveExecutionCount:ne,incrementActiveExecutionCount:te,decrementActiveExecutionCount:le,isSteppingActive:X,setIsSteppingActive:H,nextStepInfo:ie,setNextStepInfo:ce,currentRunSteps:ue,setCurrentRunSteps:he}=vy(),{executionLogs:be,setExecutionLogs:Y,addLogEntry:q}=Ny(),R=v.useMemo(()=>ie!==null,[ie]),P=v.useRef(0);v.useEffect(()=>{g||(x.current=!1,X||ce(null))},[g,X,x,ce]);const N=v.useMemo(()=>({onLogEntry:ge=>{q(ge),ge.status==="running"&&ge.nodeId&&b(ge.nodeId)},onNodeStatusUpdate:(ge,me)=>{d(Xe=>Xe?{...Xe,nodes:ft(Xe.nodes).map(Ue=>Ue.id===ge?{...Ue,...me}:Ue)}:null)},onConclusion:Q,onRequestUserInput:m,onTokenUpdate:ge=>z(me=>me+ge),getActiveExecutionCount:ne,incrementActiveExecutionCount:te,decrementActiveExecutionCount:le,getParallelPathCounter:()=>P.current,incrementParallelPathCounter:ge=>{P.current+=ge},decrementParallelPathCounter:()=>{P.current=Math.max(0,P.current-1)},isStopRequested:()=>x.current}),[q,d,Q,m,z,ne,te,le,x,b]),U=v.useCallback(()=>{r&&i&&o(i,!0),d(ge=>ge?{...ge,nodes:ft(ge.nodes).map(me=>({...me,isRunning:!1,hasError:!1,lastRunOutput:void 0}))}:null),Y([]),b(null),E(Date.now()),y(null),z(0),I(!0),x.current=!1,Q(null),he([]),P.current=0},[i,r,o,d,Y,b,E,y,z,I,x,Q,he]),L=v.useCallback(ge=>{const me=Date.now();y(me),S(!1),H(!1),b(null),d(Xe=>{if(!Xe)return null;let Ue=Xe.nodes;ge.updatedNodes&&Array.isArray(ge.updatedNodes)&&ge.updatedNodes.every(dt=>dt&&dt.id)&&(Ue=ge.updatedNodes);const _t=ft(Ue).map(dt=>({...dt,isRunning:!1})),Ct={id:Se(),timestamp:new Date(T).toISOString(),status:ge.status,steps:ge.steps,finalOutput:ge.finalOutput,error:ge.error,totalTokensUsed:ge.totalTokensUsed,durationMs:T?me-T:0},Be=[...Xe.runHistory||[],Ct].slice(-20),Le={...Xe,nodes:_t,runHistory:Be};return o(Le,!1),Le}),x.current=!1,ce(null)},[T,o,d,S,H,b,y,ce]),K=v.useCallback(async()=>{if(!!!i||g||X)return Promise.reject(new Error("Workflow already running or in stepping mode, or no project."));U(),S(!0);let me;try{if(!i)throw new Error("Current project is null immediately before calling executor service.");me=await mh(i,f,N)}catch(Xe){const Ue=Xe instanceof Error?Xe.message:"Unknown critical error from executor service call",_t=i?i.nodes:[];me={status:"failed",error:Ue,steps:ue,totalTokensUsed:w,updatedNodes:_t}}return z(me.totalTokensUsed),he(me.steps),L(me),me.status==="failed"||me.status==="stopped"?Promise.reject(new Error(me.error||me.status)):Promise.resolve()},[i,g,X,f,U,N,L,S,ue,w,he,z]),de=v.useCallback(async()=>{var Be;if(!i||g){console.warn("Cannot start step-through: project not loaded or workflow already running/stepping.");return}U(),S(!0),H(!0);const ge=ln(i),me=ft(ge.nodes).find(Le=>Le.type===j.START);if(!me){const Le="No Start Node found for stepping.";N.onLogEntry({nodeId:"workflow_error",nodeName:"Workflow Error",status:"failed",error:Le,pathId:"main-step",endTime:new Date().toISOString()}),L({status:"failed",error:Le,steps:[],totalTokensUsed:0,updatedNodes:ge.nodes});return}const Xe=new Map,Ue=new Map(((Be=ge.projectVariables)==null?void 0:Be.map(Le=>[zt(Le.name),Le.value]))||[]),_t=new Map([["CurrentDateTime",new Date().toLocaleString()]]),Ct=`step-main-${me.id.substring(0,4)}`;try{const Le=await Vo({node:me,previousOutput:"",settings:f,nodeVariables:Xe,projectVariablesMap:Ue,systemVariablesMap:_t,callbacks:N,pathId:Ct,projectNodes:ge.nodes,onPathCounterManagedByNode:()=>{}});he(dt=>[...dt,{nodeId:me.id,nodeName:me.name,promptSent:Le.promptSent,responseReceived:Le.output,timestamp:new Date().toISOString(),tokensUsed:Le.tokensUsed,pathId:Ct}]),me.nextNodeId?ce({nodeId:me.nextNodeId,input:Le.output,nodeVariables:new Map(Xe),pathId:Ct}):(ce(null),L({status:"completed",finalOutput:Le.output,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes}))}catch(Le){const dt=Le instanceof Error?Le.message:"Error processing START node for stepping.";L({status:"failed",error:dt,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes})}},[i,g,f,U,N,L,S,H,ce,ue,w,he]),je=v.useCallback(async()=>{var Ct;if(!X||!ie||!i){if(X&&!ie){const Be={status:"completed",finalOutput:ue.length>0?ue[ue.length-1].responseReceived:void 0,steps:ue,totalTokensUsed:w,updatedNodes:(i==null?void 0:i.nodes)||[]};L(Be)}return}const ge=ln(i),me=ft(ge.nodes).find(Be=>Be.id===ie.nodeId);if(!me){const Be=`Node to step (ID: ${ie.nodeId}) not found.`;N.onLogEntry({nodeId:ie.nodeId,nodeName:"Unknown Node",status:"failed",error:Be,pathId:ie.pathId,endTime:new Date().toISOString()}),L({status:"failed",error:Be,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes});return}const Xe=new Map(ie.nodeVariables),Ue=new Map(((Ct=ge.projectVariables)==null?void 0:Ct.map(Be=>[zt(Be.name),Be.value]))||[]),_t=new Map([["CurrentDateTime",new Date().toLocaleString()]]);try{const Be=await Vo({node:me,previousOutput:ie.input,settings:f,nodeVariables:Xe,projectVariablesMap:Ue,systemVariablesMap:_t,callbacks:N,pathId:ie.pathId,projectNodes:ge.nodes,onPathCounterManagedByNode:()=>{}});he(dt=>[...dt,{nodeId:me.id,nodeName:me.name,promptSent:Be.promptSent,responseReceived:Be.output,timestamp:new Date().toISOString(),tokensUsed:Be.tokensUsed,pathId:ie.pathId}]);let Le=null;if(me.type===j.CONDITIONAL){const dt=me.branches||[];let Xt=dt.find(Et=>{const an=Et.condition.toLowerCase(),On=Be.output.toLowerCase();return an.startsWith("contains ")?On.includes(an.substring(9).trim()):an.startsWith("starts with ")?On.startsWith(an.substring(12).trim()):On===an});Xt||(Xt=dt.find(Et=>Et.condition.toLowerCase()==="default")),Le=Xt==null?void 0:Xt.nextNodeId}else me.type===j.PARALLEL?(Le=null,N.onLogEntry({nodeId:me.id,nodeName:me.name,status:"completed",output:"Parallel node processed. Stepping pauses here. Run full workflow to execute branches.",pathId:ie.pathId,endTime:new Date().toISOString()})):(me.type===j.SYNCHRONIZE||me.type!==j.CONCLUSION)&&(Le=me.nextNodeId);me.type===j.CONCLUSION||!Le?(ce(null),L({status:"completed",finalOutput:Be.output,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes})):ft(ge.nodes).find(Xt=>Xt.id===Le)?ce({nodeId:Le,input:Be.output,nodeVariables:new Map(Xe),pathId:ie.pathId}):(N.onLogEntry({nodeId:Le,nodeName:"Unknown Node",status:"skipped",error:"Next node for step not found in project.",pathId:ie.pathId,endTime:new Date().toISOString()}),ce(null),L({status:"completed",finalOutput:Be.output,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes}))}catch(Be){const Le=Be instanceof Error?Be.message:"Error processing step.";L({status:"failed",error:Le,steps:ue,totalTokensUsed:w,updatedNodes:ge.nodes})}},[X,ie,i,f,N,L,ue,w,he]),Ee=v.useCallback(()=>{if(x.current=!0,X){const me={status:"stopped",finalOutput:ue.length>0?ue[ue.length-1].responseReceived:void 0,error:"Run stopped by user during stepping.",steps:ue,totalTokensUsed:w,updatedNodes:(i==null?void 0:i.nodes)||[]};L(me)}else g&&N.onLogEntry({nodeId:"workflow_control",nodeName:"Workflow Control",status:"failed",error:"Stop request issued for full run.",endTime:new Date().toISOString(),pathId:"main"})},[X,g,x,ue,w,i,L,N]);return{isWorkflowRunning:g,executionLogs:be,currentExecutingNodeId:h,runStartTime:T,runEndTime:A,totalTokensThisRun:w,runWorkflow:K,handleStopWorkflow:Ee,isExecutionPanelOpen:V,setIsExecutionPanelOpen:I,conclusionModalContent:D,clearConclusionModalContent:Z,isSteppingActive:X,hasNextStep:R,startStepThrough:de,processAndAdvanceStep:je}},Cy=()=>{const[i,o]=v.useState(!1),[d,r]=v.useState(!1),[m,f]=v.useState(!1),[g,S]=v.useState(!1),[x,h]=v.useState(""),b=v.useCallback(()=>o(!0),[]),T=v.useCallback(()=>o(!1),[]),E=v.useCallback(()=>r(!0),[]),A=v.useCallback(()=>r(!1),[]),y=v.useCallback(()=>f(!0),[]),w=v.useCallback(()=>f(!1),[]),z=v.useCallback(I=>{h(I),S(!0)},[]),V=v.useCallback(()=>S(!1),[]);return{isProjectSettingsModalOpen:i,openProjectSettingsModal:b,closeProjectSettingsModal:T,isRunHistoryModalOpen:d,openRunHistoryModal:E,closeRunHistoryModal:A,isHelpModalOpen:m,openHelpModal:y,closeHelpModal:w,isLlmErrorModalOpen:g,llmErrorMessage:x,openLlmErrorModal:z,closeLlmErrorModal:V}},wy=(i,o,d)=>{const{x:r,y:m,width:f,height:g}=d,S=[{p3:{x:r,y:m},p4:{x:r+f,y:m}},{p3:{x:r+f,y:m},p4:{x:r+f,y:m+g}},{p3:{x:r,y:m+g},p4:{x:r+f,y:m+g}},{p3:{x:r,y:m},p4:{x:r,y:m+g}}];let x=o,h=1/0;for(const b of S){const{p3:T,p4:E}=b,A=(i.x-o.x)*(T.y-E.y)-(i.y-o.y)*(T.x-E.x);if(A===0)continue;const y=(i.x-T.x)*(T.y-E.y)-(i.y-T.y)*(T.x-E.x),w=-((i.x-o.x)*(i.y-T.y)-(i.y-o.y)*(i.x-T.x)),z=y/A,V=w/A;V>=0&&V<=1&&z>=0&&z<=1&&z<h&&(h=z,x={x:i.x+z*(o.x-i.x),y:i.y+z*(o.y-i.y)})}return x},Ry=i=>{const[o,d]=v.useState([]);return v.useEffect(()=>{if(!i||i.length===0){d([]);return}const r=[],m=new Map(i.map(f=>[f.id,f]));i.forEach(f=>{const g=(S,x,h="direct")=>{S&&m.get(S)&&r.push({id:`${f.id}-${S}-${x||h}`,sourceId:f.id,targetId:S,condition:x})};f.type===j.START||f.type===j.PROMPT||f.type===j.VARIABLE||f.type===j.QUESTION||f.type===j.JAVASCRIPT||f.type===j.SYNCHRONIZE?g(f.nextNodeId):f.type===j.CONDITIONAL&&f.branches?f.branches.forEach(S=>{g(S.nextNodeId,S.condition)}):f.type===j.PARALLEL&&f.parallelNextNodeIds&&f.parallelNextNodeIds.forEach((S,x)=>{g(S,void 0,`parallel-${x}`)})}),d(r)},[i]),{visualLinks:o,getLineToRectangleIntersectionPoint:wy}},Ym=.25,Gm=2,jy=.001,My=.005,_y=({editorAreaRef:i})=>{var X;const[o,d]=v.useState(1),[r,m]=v.useState({x:0,y:0}),[f,g]=v.useState(!1),[S,x]=v.useState({x:0,y:0}),[h,b]=v.useState(!1),T=v.useRef(null),E=v.useRef(null),A=v.useRef(null),y=v.useCallback((H,ie,ce)=>{if(!i.current)return;const ue=Math.max(Ym,Math.min(Gm,o+H)),he=i.current.getBoundingClientRect(),be=ie-he.left,Y=ce-he.top;m(q=>({x:be-(be-q.x)*(ue/o),y:Y-(Y-q.y)*(ue/o)})),d(ue)},[o,i]),w=v.useCallback(H=>{H.preventDefault();const ie=H.deltaY*jy*-1;y(ie,H.clientX,H.clientY)},[y]),z=v.useCallback(H=>{i.current&&(H.target===i.current||H.target.parentElement===i.current)&&(g(!0),x({x:H.clientX-r.x,y:H.clientY-r.y}),i.current.style.cursor="grabbing")},[r.x,r.y,i]),V=v.useCallback(H=>{f&&m({x:H.clientX-S.x,y:H.clientY-S.y})},[f,S.x,S.y]),I=v.useCallback(()=>{f&&(g(!1),i.current&&(i.current.style.cursor="grab"))},[f,i]);v.useEffect(()=>{const H=i.current;if(f&&H)return document.addEventListener("mousemove",V),document.addEventListener("mouseup",I),()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",I),H&&(H.style.cursor="grab")};H&&(H.style.cursor="grab")},[f,V,I,i]);const D=v.useCallback(H=>{if(!(!i.current||!i.current.contains(H.target)))if((H.target===i.current||H.target.parentElement===i.current)&&H.preventDefault(),b(!0),A.current=H.touches,H.touches.length===2){const ie=H.touches[0],ce=H.touches[1];T.current=Math.hypot(ie.clientX-ce.clientX,ie.clientY-ce.clientY),E.current={x:(ie.clientX+ce.clientX)/2,y:(ie.clientY+ce.clientY)/2}}else H.touches.length===1&&x({x:H.touches[0].clientX-r.x,y:H.touches[0].clientY-r.y})},[r.x,r.y,i]),Q=v.useCallback(H=>{if(!(!h||!i.current)){if((H.target===i.current||H.target.parentElement===i.current)&&H.preventDefault(),H.touches.length===2&&T.current&&E.current){const ie=H.touches[0],ce=H.touches[1],ue=Math.hypot(ie.clientX-ce.clientX,ie.clientY-ce.clientY),he=(ue-T.current)*My;y(he,E.current.x,E.current.y),T.current=ue}else H.touches.length===1&&m({x:H.touches[0].clientX-S.x,y:H.touches[0].clientY-S.y});A.current=H.touches}},[h,S,y,i]),Z=v.useCallback(H=>{H.touches.length===0?(b(!1),T.current=null,E.current=null,A.current=null):(H.touches.length===1&&x({x:H.touches[0].clientX-r.x,y:H.touches[0].clientY-r.y}),A.current=H.touches)},[r.x,r.y]);v.useEffect(()=>{const H=i.current;if(H)return H.addEventListener("touchstart",D,{passive:!1}),H.addEventListener("touchmove",Q,{passive:!1}),H.addEventListener("touchend",Z,{passive:!1}),H.addEventListener("touchcancel",Z,{passive:!1}),()=>{H.removeEventListener("touchstart",D),H.removeEventListener("touchmove",Q),H.removeEventListener("touchend",Z),H.removeEventListener("touchcancel",Z)}},[i,D,Q,Z]);const ne=v.useCallback(()=>{if(i.current){const H=i.current.getBoundingClientRect();y(o*.2,H.left+H.width/2,H.top+H.height/2)}},[o,i,y]),te=v.useCallback(()=>{if(i.current){const H=i.current.getBoundingClientRect();y(o*-.2,H.left+H.width/2,H.top+H.height/2)}},[o,i,y]),le=v.useCallback(()=>{d(1),m({x:0,y:0})},[]);return{scale:o,translate:r,isPanning:f||h&&((X=A.current)==null?void 0:X.length)===1,panStartPoint:S,handleWheelOnCanvas:w,handleMouseDownOnCanvas:z,zoomIn:ne,zoomOut:te,resetZoom:le,MIN_SCALE:Ym,MAX_SCALE:Gm}},Vm=640,ii=()=>{const[i,o]=v.useState(()=>typeof window<"u"?window.innerWidth<Vm:!1);return v.useEffect(()=>{if(typeof window>"u")return;const d=()=>{o(window.innerWidth<Vm)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),i},Jo=()=>{const i=v.useContext(rh);if(!i)throw new Error("useAppSettings must be used within an AppSettingsProvider");return i},hh=()=>{const i=v.useContext(oh);if(!i)throw new Error("useProjects must be used within a ProjectsProvider");return i},gn=({isOpen:i,onClose:o,title:d,children:r,widthClass:m="sm:max-w-lg",footerContent:f,isMaximized:g,onToggleMaximize:S})=>{const x=v.useRef(null);if(!i)return null;const h=g?"w-full h-full sm:rounded-none bg-slate-800 text-left shadow-xl flex flex-col":`transform overflow-hidden sm:rounded-lg bg-slate-800 text-left shadow-xl transition-all w-full h-full flex flex-col sm:h-auto sm:my-8 sm:align-middle ${m}`,b=E=>{E.target===E.currentTarget?x.current=E.target:x.current=null},T=E=>{E.target===E.currentTarget&&x.current===E.currentTarget&&o(),x.current=null};return u.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-slate-900 bg-opacity-75 transition-opacity flex flex-col sm:items-center sm:justify-center","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onMouseDown:b,onClick:T,children:u.jsxs("div",{className:h,onMouseDown:E=>E.stopPropagation(),onClick:E=>E.stopPropagation(),children:[u.jsxs("div",{className:"bg-slate-800 px-4 pt-5 pb-4 sm:p-6 sm:pb-4 border-b border-slate-700 relative",children:[u.jsx("div",{className:"sm:flex sm:items-start",children:u.jsx("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:u.jsx("h3",{className:"text-lg font-medium leading-6 text-slate-100",id:"modal-title",children:d})})}),S&&u.jsx("button",{onClick:S,className:"absolute top-3 right-12 sm:top-4 sm:right-14 p-2 text-slate-400 hover:text-slate-200 focus:outline-none rounded-full hover:bg-slate-700","aria-label":g?"Minimize":"Maximize",title:g?"Minimize":"Maximize",children:u.jsx("i",{className:`fas ${g?"fa-compress-alt":"fa-expand-alt"}`})}),u.jsx("button",{onClick:o,className:"absolute top-3 right-3 sm:top-4 sm:right-4 p-2 text-slate-400 hover:text-slate-200 focus:outline-none rounded-full hover:bg-slate-700","aria-label":"Close modal",children:u.jsx("i",{className:"fas fa-times"})})]}),u.jsxs("div",{className:`bg-slate-800 px-4 sm:p-6 flex-grow overflow-y-auto custom-scroll ${g?"h-0":""}`,children:[" ",u.jsx("div",{className:"mt-2 h-full",children:r})]}),u.jsx("div",{className:"bg-slate-700 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:f||u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:o,children:"Close"})})]})})},Ly=({settings:i,isOpen:o,onClose:d,onSave:r})=>{const[m,f]=v.useState(Fs),[g,S]=v.useState([]),[x,h]=v.useState(!1),[b,T]=v.useState(null),[E,A]=v.useState([]),[y,w]=v.useState(!1),[z,V]=v.useState(null);v.useEffect(()=>{const X={...Fs,...i};f(X),o||(S([]),h(!1),T(null),A([]),w(!1),V(null))},[i,o]);const I=X=>{const{name:H,value:ie,type:ce}=X.target;let ue=ie;ce==="number"?(ue=parseFloat(ie),isNaN(ue)&&(H==="temperature"||H==="topP"?ue=0:H==="topK"&&(ue=1))):H==="llmProvider"&&(ue=ie),f(he=>{const be={...he,[H]:ue};if(H==="ollamaBaseUrl"&&he.ollamaBaseUrl!==ue&&(S([]),be.ollamaModel="",T(null)),H==="llmProvider"){const Y=ue;he.llmProvider===bt.OLLAMA&&Y!==bt.OLLAMA&&(S([]),T(null),h(!1)),he.llmProvider===bt.CHATGPT&&Y!==bt.CHATGPT&&(A([]),V(null),w(!1)),Y===bt.CHATGPT?E.length>0&&!E.includes(be.chatGptModel)?be.chatGptModel=E[0]:E.length===0&&(be.chatGptModel=""):Y===bt.OLLAMA&&(g.length>0&&!g.includes(be.ollamaModel)?be.ollamaModel=g[0]:g.length===0&&(be.ollamaModel=""))}return be})},D=v.useCallback(async()=>{w(!0),V(null),A([]),await new Promise(X=>setTimeout(X,300));try{const X=[...ay].sort();A(X),X.length>0?f(H=>{const ie=H.chatGptModel;return!X.includes(ie)||!ie?{...H,chatGptModel:X[0]}:H}):(V("No predefined ChatGPT models found."),f(H=>({...H,chatGptModel:""})))}catch(X){console.error("Error 'fetching' ChatGPT models:",X),V(X instanceof Error?X.message:"An unknown error occurred."),f(H=>({...H,chatGptModel:""}))}finally{w(!1)}},[]),Q=v.useCallback(async X=>{const H=X||m.ollamaBaseUrl;if(!H){T("Ollama Base URL is not set.");return}h(!0),T(null),S([]);try{const ie=await fetch(`${H.replace(/\/$/,"")}/api/tags`);if(!ie.ok){const he=await ie.text();throw new Error(`Failed to fetch Ollama models: ${ie.status} ${ie.statusText}. ${he}`)}const ue=(await ie.json()).models.map(he=>he.name).sort();S(ue),ue.length>0?f(he=>{const be=he.ollamaModel;return!ue.includes(be)||!be?{...he,ollamaModel:ue[0]}:he}):(T("No models found at this Ollama instance."),f(he=>({...he,ollamaModel:""})))}catch(ie){console.error("Error fetching Ollama models:",ie),T(ie instanceof Error?ie.message:"An unknown error occurred while fetching models."),f(ce=>({...ce,ollamaModel:""}))}finally{h(!1)}},[m.ollamaBaseUrl]),Z=()=>{r(m),d()};if(!o)return null;const ne=m.llmProvider;let te="1";ne===bt.CHATGPT&&(te="2");const le=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:Z,className:"inline-flex w-full justify-center rounded-md bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Save App Settings"}),u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:d,children:"Close"})]});return u.jsx(gn,{isOpen:o,onClose:d,title:"Application Settings",footerContent:le,children:u.jsxs("div",{className:"space-y-4 text-slate-300",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"llmProvider",className:"block text-sm font-medium",children:"LLM Provider"}),u.jsxs("select",{name:"llmProvider",id:"llmProvider",value:m.llmProvider,onChange:I,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[u.jsx("option",{value:bt.CHATGPT,children:"ChatGPT (OpenAI)"}),u.jsx("option",{value:bt.OLLAMA,children:"Ollama (Local)"})]})]}),m.llmProvider===bt.CHATGPT&&u.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[u.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"ChatGPT Configuration"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chatGptApiKey",className:"block text-sm font-medium",children:"ChatGPT API Key"}),u.jsx("input",{type:"password",name:"chatGptApiKey",id:"chatGptApiKey",value:m.chatGptApiKey,onChange:I,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"Enter your OpenAI API Key (sk-...)"}),u.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Your API key is stored in your browser's local storage. Refer to the ",u.jsx("a",{href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"OpenAI API Keys page"})," for how to get an API key."]}),u.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:[u.jsx("strong",{children:"Warning:"})," Check the ",u.jsx("a",{href:"https://openai.com/api/pricing/",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"cost of tokens"})," for the model you want to use."]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"chatGptModel",className:"block text-sm font-medium",children:"ChatGPT Model"}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs("select",{name:"chatGptModel",id:"chatGptModel",value:m.chatGptModel,onChange:I,className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-describedby":"chatgpt-model-description",disabled:y||E.length===0&&!z,children:[y&&u.jsx("option",{value:"",children:"Loading models..."}),!y&&E.length===0&&!z&&u.jsx("option",{value:"",children:'Click "Fetch" to load models'}),!y&&E.length===0&&z&&u.jsx("option",{value:"",children:"No models found or error"}),E.map(X=>u.jsx("option",{value:X,children:X},X))]}),u.jsxs("button",{type:"button",onClick:D,disabled:y,className:"rounded-md bg-sky-600 px-3 py-2 text-sm text-white hover:bg-sky-700 disabled:bg-slate-500 disabled:cursor-not-allowed flex-shrink-0",children:[y?u.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}):u.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Fetch"]})]}),z&&u.jsx("p",{className:"mt-1 text-xs text-red-400",children:z}),u.jsx("p",{id:"chatgpt-model-description",className:"mt-1 text-xs text-slate-400",children:'Click "Fetch" to load available ChatGPT models.'})]})]}),m.llmProvider===bt.OLLAMA&&u.jsxs("div",{className:"space-y-4 p-4 border border-slate-700 rounded-md",children:[u.jsx("h4",{className:"text-md font-semibold text-sky-400",children:"Ollama Configuration"}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ollamaBaseUrl",className:"block text-sm font-medium",children:"Ollama Base URL"}),u.jsx("input",{type:"text",name:"ollamaBaseUrl",id:"ollamaBaseUrl",value:m.ollamaBaseUrl,onChange:I,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., http://localhost:11434"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ollamaModel",className:"block text-sm font-medium",children:"Ollama Model Name"}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsxs("select",{name:"ollamaModel",id:"ollamaModel",value:m.ollamaModel,onChange:I,className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",disabled:x||g.length===0&&!b,children:[x&&u.jsx("option",{value:"",children:"Loading models..."}),!x&&g.length===0&&!b&&u.jsx("option",{value:"",children:'Click "Fetch" to load models'}),!x&&g.length===0&&b&&u.jsx("option",{value:"",children:"No models found or error"}),g.map(X=>u.jsx("option",{value:X,children:X},X))]}),u.jsxs("button",{type:"button",onClick:()=>Q(),disabled:x||!m.ollamaBaseUrl,className:"rounded-md bg-sky-600 px-3 py-2 text-sm text-white hover:bg-sky-700 disabled:bg-slate-500 disabled:cursor-not-allowed flex-shrink-0",children:[x?u.jsx("i",{className:"fas fa-spinner fa-spin mr-1"}):u.jsx("i",{className:"fas fa-sync-alt mr-1"}),"Fetch"]})]}),b&&u.jsx("p",{className:"mt-1 text-xs text-red-400",children:b}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Ensure Ollama is running and accessible at the Base URL. Then, fetch available models."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ollamaKeepAlive",className:"block text-sm font-medium",children:"Keep Alive Duration"}),u.jsx("input",{type:"text",name:"ollamaKeepAlive",id:"ollamaKeepAlive",value:m.ollamaKeepAlive,onChange:I,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",placeholder:"e.g., 5m, 1h, -1 (unlimited)"}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"How long Ollama keeps the model loaded. Use '5m' for 5 minutes, '1h' for 1 hour, '-1' for indefinitely."})]})]}),u.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[u.jsx("h4",{className:"text-md font-semibold text-slate-200",children:"Common LLM Parameters"}),u.jsx("p",{className:"text-xs text-slate-400 -mt-2",children:"These settings apply to the selected LLM provider where applicable."}),u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"temperature",className:"block text-sm font-medium",children:["Temperature (0.0 - ",te,")"]}),u.jsx("input",{type:"number",name:"temperature",id:"temperature",value:m.temperature,onChange:I,step:"0.1",min:"0",max:te,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Controls randomness. Lower is more deterministic. OpenAI uses 0-2, Ollama typically 0-1."})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"topP",className:"block text-sm font-medium",children:"Top P (0.0 - 1.0)"}),u.jsx("input",{type:"number",name:"topP",id:"topP",value:m.topP,onChange:I,step:"0.01",min:"0",max:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Nucleus sampling: considers tokens with top_p probability mass."})]}),m.llmProvider===bt.OLLAMA&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"topK",className:"block text-sm font-medium",children:"Top K"}),u.jsx("input",{type:"number",name:"topK",id:"topK",value:m.topK,onChange:I,step:"1",min:"1",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),u.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Limit the selection pool to a fixed number of most likely options (Ollama)."})]})]})]})})},ph=({onRunProject:i,onStopProject:o,onStartStepThrough:d,onProcessNextStep:r,currentProjectName:m,isWorkflowRunning:f,isSteppingActive:g,hasNextStep:S,onToggleSidebar:x,onNavigateHome:h,onToggleExecutionPanel:b,isExecutionPanelOpen:T,onCloseProject:E})=>{const[A,y]=v.useState(!1),[w,z]=v.useState(!1),{appSettings:V,setAppSettings:I}=Jo(),D=ii(),Q=v.useRef(null);li();const Z=window.matchMedia("(display-mode: standalone)").matches,ne=q=>{I(q),y(!1)},te=()=>z(q=>!q);v.useEffect(()=>{const q=R=>{Q.current&&!Q.current.contains(R.target)&&z(!1)};return w&&document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[w]);const le=q=>{h&&(q.preventDefault(),h())},{providerName:X,modelName:H}=v.useMemo(()=>{if(!V)return{providerName:"N/A",modelName:"N/A"};let q="",R="Not Selected";switch(V.llmProvider){case bt.CHATGPT:q="ChatGPT",R=V.chatGptModel||"Not Selected";break;case bt.OLLAMA:q="Ollama",R=V.ollamaModel||"Not Selected";break;default:q=`Unknown (${V.llmProvider})`,R="Error"}return{providerName:q,modelName:R}},[V]),ie=`${X}: ${H}`,ce=`${X}: ${D&&H.length>10?H.substring(0,7)+"...":H}`,ue=g?S?"Next Step":"Stepping Done":"Step",he=g?S?"fas fa-shoe-prints":"fas fa-check-circle":"fas fa-step-forward",be=f&&!g||g&&!S,Y=g||f&&!g;return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:"bg-slate-800 p-3 sm:p-4 shadow-md flex justify-between items-center z-30 relative",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[D&&x&&u.jsx("button",{onClick:x,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500","aria-label":"Toggle sidebar",children:u.jsx("i",{className:"fas fa-bars fa-lg"})}),u.jsxs(si,{to:"/",className:"text-xl sm:text-2xl font-bold text-sky-400 hover:text-sky-300 flex items-center",onClick:le,children:[u.jsx("i",{className:"fas fa-microchip mr-2"}),u.jsx("span",{className:D?"hidden sm:inline":"inline",children:"LLM Workflow"})]}),m&&u.jsxs("span",{className:"text-slate-400 text-sm sm:text-lg hidden md:inline",children:["| ",m]})]}),u.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[u.jsx("span",{className:"text-xs text-slate-400 truncate hidden sm:block",title:ie,style:{maxWidth:"150px"},"aria-label":`Current LLM: ${ie}`,children:ce}),u.jsx("span",{className:"text-xs text-slate-400 truncate sm:hidden",title:ie,style:{maxWidth:"100px"},"aria-label":`Current LLM: ${ie}`,children:ce}),i&&o&&(f?u.jsxs("button",{onClick:o,className:"rounded-md bg-red-600 px-2 py-1.5 sm:px-3 sm:py-2 text-white hover:bg-red-700 flex items-center text-xs sm:text-sm","aria-label":"Stop Project Run",children:[u.jsx("i",{className:"fas fa-stop sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Stop"})]}):u.jsxs("button",{onClick:i,disabled:Y,className:`rounded-md px-2 py-1.5 sm:px-3 sm:py-2 text-white flex items-center text-xs sm:text-sm ${Y?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,"aria-label":"Run Project",children:[u.jsx("i",{className:"fas fa-play sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:"Run"})]})),d&&r&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:g?r:d,disabled:be,className:`rounded-md px-2 py-1.5 sm:px-3 sm:py-2 text-white flex items-center text-xs sm:text-sm ${be?"bg-slate-500 cursor-not-allowed":"bg-sky-600 hover:bg-sky-700"}`,"aria-label":ue,title:ue,children:[u.jsx("i",{className:`${he} ${D&&ue!=="Step"?"":"sm:mr-1"}`}),u.jsx("span",{className:`hidden ${D&&ue!=="Step"?"":"sm:inline"}`,children:ue})]}),b&&u.jsxs("button",{onClick:b,className:`rounded-md px-2 py-1.5 sm:px-3 sm:py-2 text-white flex items-center text-xs sm:text-sm ${T?"bg-sky-800":"bg-slate-700 hover:bg-sky-600"}`,"aria-label":T?"Hide Execution Log":"Show Execution Log",title:T?"Hide Execution Log":"Show Execution Log",children:[u.jsx("i",{className:"fas fa-terminal sm:mr-1"}),u.jsx("span",{className:"hidden sm:inline",children:T?"Hide Log":"Show Log"})]})]}),D?u.jsxs("div",{className:"relative",ref:Q,children:[u.jsx("button",{onClick:te,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500","aria-label":"More options",children:u.jsx("i",{className:"fas fa-ellipsis-v fa-lg"})}),w&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-slate-700 rounded-md shadow-lg py-1 z-40",children:[u.jsxs("button",{onClick:()=>{y(!0),z(!1)},className:"block w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-600",children:[u.jsx("i",{className:"fas fa-cog mr-2"}),"App Settings"]}),Z&&u.jsxs("button",{onClick:async()=>{E?await E(!!f)&&window.close():window.close()},className:"block w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-600",children:[u.jsx("i",{className:"fas fa-power-off mr-2"}),"Exit"]})]})]}):u.jsxs("button",{onClick:()=>y(!0),className:"rounded-md bg-slate-700 px-3 py-2 sm:px-4 text-slate-200 hover:bg-slate-600 flex items-center text-sm","aria-label":"Application Settings",children:[u.jsx("i",{className:"fas fa-cog mr-1 sm:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]})]}),u.jsx(Ly,{settings:V,isOpen:A,onClose:()=>y(!1),onSave:ne})]})},Tu=({isOpen:i,onClose:o,onConfirm:d,title:r,message:m,confirmText:f="Confirm",cancelText:g="Cancel",confirmButtonClass:S="bg-red-600 hover:bg-red-700"})=>{if(!i)return null;const x=()=>{d(),o()},h=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:x,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${S} ${S.includes("red")?"focus:ring-red-500":"focus:ring-sky-500"}`,children:f}),u.jsx("button",{onClick:o,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:g})]});return u.jsx(gn,{isOpen:i,onClose:o,title:r,footerContent:h,children:u.jsx("div",{className:"text-slate-300",children:m})})},Dy=({isOpen:i,onClose:o,projectJson:d,projectName:r})=>{const[m,f]=v.useState("idle"),g=async()=>{try{await navigator.clipboard.writeText(d),f("copied"),setTimeout(()=>f("idle"),2e3)}catch(x){console.error("Failed to copy project JSON:",x),f("failed"),setTimeout(()=>f("idle"),2e3)}},S=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:g,children:m==="copied"?"Copied!":m==="failed"?"Copy Failed":"Copy to Clipboard"}),u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:o,children:"Close"})]});return u.jsx(gn,{isOpen:i,onClose:o,title:`Export Project: ${r}`,footerContent:S,widthClass:"sm:max-w-2xl",children:u.jsxs("div",{className:"space-y-4 text-slate-300",children:[u.jsx("p",{children:"Copy the JSON below to export your project. You can then import it back into this application or store it externally."}),u.jsx("textarea",{readOnly:!0,value:d,className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON content"}),m==="failed"&&u.jsx("p",{className:"text-xs text-red-400 text-center",children:"Could not copy to clipboard. Please copy manually."})]})})},Uy=({isOpen:i,onClose:o,onImport:d,errorMessage:r})=>{const[m,f]=v.useState(""),g=()=>{m.trim()&&d(m)},S=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:g,disabled:!m.trim(),children:"Import Project"}),u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:()=>{f(""),o()},children:"Cancel"})]});return u.jsx(gn,{isOpen:i,onClose:()=>{f(""),o()},title:"Import Project",footerContent:S,widthClass:"sm:max-w-2xl",children:u.jsxs("div",{className:"space-y-4 text-slate-300",children:[u.jsx("p",{children:"Paste the JSON data for the project you want to import below."}),u.jsx("textarea",{value:m,onChange:x=>f(x.target.value),placeholder:"Paste project JSON here...",className:"w-full h-64 p-2 rounded-md bg-slate-700 border border-slate-600 text-slate-200 text-xs font-mono custom-scroll","aria-label":"Project JSON input area"}),r&&u.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md border border-red-700",children:r})]})})},gh=({isOpen:i,data:o,onClose:d})=>{if(!i||!o)return null;const r=u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:mt-0 sm:w-auto sm:text-sm",onClick:d,children:"Close"});return u.jsx(gn,{isOpen:i,onClose:d,title:o.title,footerContent:r,widthClass:"sm:max-w-xl",children:u.jsx("div",{className:"text-slate-300 max-h-[60vh] overflow-y-auto custom-scroll",children:u.jsx("pre",{className:"whitespace-pre-wrap break-all text-sm bg-slate-700 p-3 rounded-md",children:o.content})})})},ky=()=>{const{projects:i,addProject:o,deleteProject:d,getProjectById:r,updateProject:m}=hh(),{appSettings:f}=Jo(),g=li(),[S,x]=v.useState({isOpen:!1,projectId:null,projectName:null}),[h,b]=v.useState({isOpen:!1,projectJson:"",projectName:""}),[T,E]=v.useState(!1),[A,y]=v.useState(null),[w,z]=v.useState(null),[V,I]=v.useState(null),[D,Q]=v.useState(!1),[Z,ne]=v.useState(null),te=vu.useRef(!1),le=vu.useRef(0),X=vu.useRef(0),H=()=>{const q=Se(),P={id:Se(),name:"New Project",description:"A new LLM workflow project.",author:"User",nodes:[{id:q,type:j.START,name:"Start Here",prompt:ch,position:{x:50,y:250},nextNodeId:null}],links:[],runHistory:[],projectVariables:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};o(P),g(`/project/${P.id}`)},ie=()=>{S.projectId&&d(S.projectId),x({isOpen:!1,projectId:null,projectName:null})},ce=q=>{const R=ln(q);R.runHistory=[],R.nodes=R.nodes.map(P=>{const{lastRunOutput:N,isRunning:U,hasError:L,...K}=P;return K}),b({isOpen:!0,projectJson:JSON.stringify(R,null,2),projectName:q.name})},ue=v.useCallback(q=>{y(null);try{const R=JSON.parse(q);if(!R||typeof R!="object"||!R.name||!Array.isArray(R.nodes))throw new Error("Invalid project structure. Ensure it's a valid project JSON with name and nodes array.");const P=ln(R);P.id=Se();const N={};P.nodes=ft(P.nodes).map(L=>{const K=L.id,de=Se();return N[K]=de,L.id=de,delete L.lastRunOutput,delete L.isRunning,delete L.hasError,L.type===j.VARIABLE&&(L.name=zt(L.name||`var_${de.substring(0,4)}`)),L.branches&&Array.isArray(L.branches)&&(L.branches=L.branches.map(je=>({...je,id:Se()}))),L}),P.nodes=P.nodes.map(L=>(L.nextNodeId&&N[L.nextNodeId]?L.nextNodeId=N[L.nextNodeId]:L.nextNodeId&&(L.nextNodeId=null),L.branches&&Array.isArray(L.branches)&&(L.branches=L.branches.map(K=>K.nextNodeId&&N[K.nextNodeId]?{...K,nextNodeId:N[K.nextNodeId]}:K.nextNodeId?{...K,nextNodeId:null}:K)),L.parallelNextNodeIds&&Array.isArray(L.parallelNextNodeIds)&&(L.parallelNextNodeIds=L.parallelNextNodeIds.map(K=>N[K]||null).filter(K=>K!==null)),L)),Array.isArray(P.links)?P.links=P.links.map(L=>({id:Se(),sourceId:N[L.sourceId]||L.sourceId,targetId:N[L.targetId]||L.targetId,condition:L.condition})).filter(L=>N[L.sourceId]&&N[L.targetId]):P.links=[],Array.isArray(P.projectVariables)?P.projectVariables=P.projectVariables.map((L,K)=>({id:Se(),name:zt(L.name||`proj_var_${K}`),value:L.value||""})).filter(L=>L.name.trim()!==""):P.projectVariables=[],P.runHistory=[];const U=new Date().toISOString();P.createdAt=U,P.updatedAt=U,P.name=P.name||"Imported Project",P.description=P.description||"Imported workflow.",P.author=P.author||"User",o(P),E(!1)}catch(R){console.error("Import failed:",R),y(R instanceof Error?R.message:"Failed to import project. Ensure JSON is valid.")}},[o]),he=async q=>{if(w)return;te.current=!1,le.current=0,X.current=0,ne(null);const R=ln(q),P=window.setInterval(()=>{z(L=>L?{...L,elapsedTime:L.elapsedTime+1}:null)},1e3);z({id:q.id,name:q.name,statusText:"Initializing...",elapsedTime:0,intervalId:P,stopRequested:!1});const N={onLogEntry:L=>{L.status==="running"&&z(K=>K?{...K,statusText:`Processing: ${L.nodeName}...`}:null)},onNodeStatusUpdate:(L,K)=>{const de=R.nodes.find(je=>je.id===L);de&&(K.isRunning!==void 0&&(de.isRunning=K.isRunning),K.hasError!==void 0&&(de.hasError=K.hasError),K.lastRunOutput!==void 0&&(de.lastRunOutput=K.lastRunOutput))},onConclusion:L=>{I(L),Q(!0)},onRequestUserInput:(L,K)=>(ne(`Project "${q.name}" requires user input, which is not supported for runs started from the home page. Please open the project to run it.`),te.current=!0,Promise.reject(new Error("User input required, not supported in this mode."))),onTokenUpdate:L=>{},getActiveExecutionCount:()=>le.current,incrementActiveExecutionCount:()=>{le.current++},decrementActiveExecutionCount:()=>{le.current=Math.max(0,le.current-1)},getParallelPathCounter:()=>X.current,incrementParallelPathCounter:L=>{X.current+=L},decrementParallelPathCounter:()=>{X.current=Math.max(0,X.current-1)},isStopRequested:()=>te.current};let U=null;try{U=await mh(R,f,N)}catch(L){U={status:"failed",error:L instanceof Error?L.message:"Unknown error during workflow execution.",steps:[],totalTokensUsed:0,updatedNodes:R.nodes}}if(w!=null&&w.intervalId&&clearInterval(w.intervalId),z(L=>(L&&L.intervalId&&clearInterval(L.intervalId),null)),U){const L=r(q.id);if(L){const K={id:Se(),timestamp:new Date().toISOString(),status:U.status,steps:U.steps,finalOutput:U.finalOutput,error:U.error||Z,totalTokensUsed:U.totalTokensUsed,durationMs:w!=null&&w.elapsedTime?w.elapsedTime*1e3:0},de=[...L.runHistory||[],K].slice(-20),je=L.nodes.map(Ee=>{const ge=U.updatedNodes.find(me=>me.id===Ee.id);return ge?{...Ee,lastRunOutput:ge.lastRunOutput,isRunning:!1,hasError:ge.hasError}:Ee});m({...L,nodes:je,runHistory:de,updatedAt:new Date().toISOString()})}U.status==="failed"&&(U.error||Z)&&(ne(K=>K||(U==null?void 0:U.error)||"Workflow failed."),setTimeout(()=>ne(null),7e3))}},be=()=>{w&&(te.current=!0,z(q=>q?{...q,statusText:"Stopping...",stopRequested:!0}:null))},Y=q=>{const R=Math.floor(q/60),P=q%60;return`${R.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`};return u.jsxs("div",{className:"container mx-auto p-4 sm:p-8",children:[u.jsx(ph,{}),u.jsxs("div",{className:"my-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[u.jsx("h1",{className:"text-3xl font-semibold text-slate-100 text-center sm:text-left",children:"My Projects"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsxs("button",{onClick:H,className:"rounded-md bg-sky-600 px-6 py-3 text-white hover:bg-sky-700 text-lg font-medium flex items-center justify-center",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Create New Project"]}),u.jsxs("button",{onClick:()=>{E(!0),y(null)},className:"rounded-md bg-teal-600 px-6 py-3 text-white hover:bg-teal-700 text-lg font-medium flex items-center justify-center",children:[u.jsx("i",{className:"fas fa-upload mr-2"}),"Import Project"]})]})]}),i.length===0?u.jsx("p",{className:"text-center text-slate-400 text-xl mt-10",children:"No projects yet. Create one to get started!"}):u.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(q=>{const R=dy(q),P=(w==null?void 0:w.id)===q.id,N=!!w;return u.jsxs("div",{className:`rounded-xl bg-slate-800 p-6 shadow-lg hover:shadow-sky-500/30 transition-all duration-300 flex flex-col justify-between relative ${P?"ring-2 ring-sky-500":""}`,children:[P&&u.jsx("div",{className:"absolute inset-0 bg-slate-900 bg-opacity-50 backdrop-blur-sm rounded-xl z-10 flex flex-col items-center justify-center p-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("i",{className:"fas fa-spinner fa-spin fa-2x text-sky-400 mb-3"}),u.jsxs("p",{className:"text-lg font-semibold text-sky-300",children:["Running: ",w.name]}),u.jsx("p",{className:"text-sm text-slate-300 truncate max-w-xs",children:w.statusText}),u.jsx("p",{className:"text-2xl font-mono text-slate-100 mt-2",children:Y(w.elapsedTime)}),u.jsx("button",{onClick:be,disabled:w.stopRequested,className:"mt-4 rounded-md bg-red-600 px-4 py-2 text-sm text-white hover:bg-red-700 disabled:bg-red-800 disabled:text-slate-400",children:w.stopRequested?"Stopping...":"Stop Run"})]})}),u.jsxs("div",{className:`${P?"opacity-30":""}`,children:[u.jsx("h2",{className:"text-2xl font-semibold text-sky-400 mb-2 truncate",children:q.name}),u.jsxs("p",{className:"text-slate-400 mb-1 text-sm",children:["Author: ",q.author]}),u.jsx("p",{className:"text-slate-300 mb-4 line-clamp-3 h-16",children:q.description}),q.projectVariables&&q.projectVariables.length>0&&u.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Project Variables: ",q.projectVariables.length]}),Z&&q.id===(w==null?void 0:w.id)&&u.jsx("p",{className:"text-xs text-red-400 mt-1 mb-2 animate-pulse",children:Z})]}),u.jsxs("div",{className:`mt-auto ${P?"opacity-30":""}`,children:[u.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:["Last updated: ",new Date(q.updatedAt).toLocaleDateString()]}),u.jsxs("div",{className:"flex space-x-3",children:[u.jsxs("button",{onClick:()=>he(q),disabled:R||N,title:R?"Run unavailable for projects with Question nodes":N&&!P?"Another project is running":`Run project ${q.name}`,className:`flex-1 rounded-md px-4 py-2 text-center text-white flex items-center justify-center ${R||N&&!P?"bg-green-800 text-slate-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,"aria-label":R?"Run disabled for this project":`Run project ${q.name}`,children:[u.jsx("i",{className:"fas fa-play mr-2"}),"Run"]}),u.jsx(si,{to:`/project/${q.id}`,className:`flex-1 rounded-md bg-sky-600 px-4 py-2 text-center text-white hover:bg-sky-700 ${N?"opacity-50 cursor-not-allowed pointer-events-none":""}`,onClick:U=>{N&&U.preventDefault()},children:"Open"}),u.jsx("button",{onClick:U=>{U.stopPropagation(),ce(q)},disabled:N,className:`rounded-md bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 ${N?"opacity-50 cursor-not-allowed":""}`,"aria-label":`Export project ${q.name}`,children:u.jsx("i",{className:"fas fa-download"})}),u.jsx("button",{onClick:U=>{U.stopPropagation(),x({isOpen:!0,projectId:q.id,projectName:q.name})},disabled:N,className:`rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700 ${N?"opacity-50 cursor-not-allowed":""}`,"aria-label":`Delete project ${q.name}`,children:u.jsx("i",{className:"fas fa-trash"})})]})]})]},q.id)})}),u.jsx(Tu,{isOpen:S.isOpen,onClose:()=>x({isOpen:!1,projectId:null,projectName:null}),onConfirm:ie,title:"Confirm Delete Project",message:u.jsxs(u.Fragment,{children:['Are you sure you want to delete project "',u.jsx("strong",{children:S.projectName}),'"? This cannot be undone.']}),confirmText:"Delete"}),u.jsx(Dy,{isOpen:h.isOpen,onClose:()=>b({isOpen:!1,projectJson:"",projectName:""}),projectJson:h.projectJson,projectName:h.projectName}),u.jsx(Uy,{isOpen:T,onClose:()=>{E(!1),y(null)},onImport:ue,errorMessage:A}),u.jsx(gh,{isOpen:D,data:V,onClose:()=>{Q(!1),I(null)}}),Z&&!w&&u.jsx(Tu,{isOpen:!!Z,onClose:()=>ne(null),onConfirm:()=>ne(null),title:"Run Error",message:Z,confirmText:"OK",confirmButtonClass:"bg-sky-600 hover:bg-sky-700"})]})};var zo,qm;function zy(){if(qm)return zo;qm=1;function i(C){return C instanceof Map?C.clear=C.delete=C.set=function(){throw new Error("map is read-only")}:C instanceof Set&&(C.add=C.clear=C.delete=function(){throw new Error("set is read-only")}),Object.freeze(C),Object.getOwnPropertyNames(C).forEach(W=>{const oe=C[W],Te=typeof oe;(Te==="object"||Te==="function")&&!Object.isFrozen(oe)&&i(oe)}),C}class o{constructor(W){W.data===void 0&&(W.data={}),this.data=W.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function d(C){return C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(C,...W){const oe=Object.create(null);for(const Te in C)oe[Te]=C[Te];return W.forEach(function(Te){for(const et in Te)oe[et]=Te[et]}),oe}const m="</span>",f=C=>!!C.scope,g=(C,{prefix:W})=>{if(C.startsWith("language:"))return C.replace("language:","language-");if(C.includes(".")){const oe=C.split(".");return[`${W}${oe.shift()}`,...oe.map((Te,et)=>`${Te}${"_".repeat(et+1)}`)].join(" ")}return`${W}${C}`};class S{constructor(W,oe){this.buffer="",this.classPrefix=oe.classPrefix,W.walk(this)}addText(W){this.buffer+=d(W)}openNode(W){if(!f(W))return;const oe=g(W.scope,{prefix:this.classPrefix});this.span(oe)}closeNode(W){f(W)&&(this.buffer+=m)}value(){return this.buffer}span(W){this.buffer+=`<span class="${W}">`}}const x=(C={})=>{const W={children:[]};return Object.assign(W,C),W};class h{constructor(){this.rootNode=x(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(W){this.top.children.push(W)}openNode(W){const oe=x({scope:W});this.add(oe),this.stack.push(oe)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(W){return this.constructor._walk(W,this.rootNode)}static _walk(W,oe){return typeof oe=="string"?W.addText(oe):oe.children&&(W.openNode(oe),oe.children.forEach(Te=>this._walk(W,Te)),W.closeNode(oe)),W}static _collapse(W){typeof W!="string"&&W.children&&(W.children.every(oe=>typeof oe=="string")?W.children=[W.children.join("")]:W.children.forEach(oe=>{h._collapse(oe)}))}}class b extends h{constructor(W){super(),this.options=W}addText(W){W!==""&&this.add(W)}startScope(W){this.openNode(W)}endScope(){this.closeNode()}__addSublanguage(W,oe){const Te=W.root;oe&&(Te.scope=`language:${oe}`),this.add(Te)}toHTML(){return new S(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function T(C){return C?typeof C=="string"?C:C.source:null}function E(C){return w("(?=",C,")")}function A(C){return w("(?:",C,")*")}function y(C){return w("(?:",C,")?")}function w(...C){return C.map(oe=>T(oe)).join("")}function z(C){const W=C[C.length-1];return typeof W=="object"&&W.constructor===Object?(C.splice(C.length-1,1),W):{}}function V(...C){return"("+(z(C).capture?"":"?:")+C.map(Te=>T(Te)).join("|")+")"}function I(C){return new RegExp(C.toString()+"|").exec("").length-1}function D(C,W){const oe=C&&C.exec(W);return oe&&oe.index===0}const Q=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Z(C,{joinWith:W}){let oe=0;return C.map(Te=>{oe+=1;const et=oe;let lt=T(Te),re="";for(;lt.length>0;){const ae=Q.exec(lt);if(!ae){re+=lt;break}re+=lt.substring(0,ae.index),lt=lt.substring(ae.index+ae[0].length),ae[0][0]==="\\"&&ae[1]?re+="\\"+String(Number(ae[1])+et):(re+=ae[0],ae[0]==="("&&oe++)}return re}).map(Te=>`(${Te})`).join(W)}const ne=/\b\B/,te="[a-zA-Z]\\w*",le="[a-zA-Z_]\\w*",X="\\b\\d+(\\.\\d+)?",H="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ie="\\b(0b[01]+)",ce="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ue=(C={})=>{const W=/^#![ ]*\//;return C.binary&&(C.begin=w(W,/.*\b/,C.binary,/\b.*/)),r({scope:"meta",begin:W,end:/$/,relevance:0,"on:begin":(oe,Te)=>{oe.index!==0&&Te.ignoreMatch()}},C)},he={begin:"\\\\[\\s\\S]",relevance:0},be={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[he]},Y={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[he]},q={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},R=function(C,W,oe={}){const Te=r({scope:"comment",begin:C,end:W,contains:[]},oe);Te.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const et=V("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return Te.contains.push({begin:w(/[ ]+/,"(",et,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),Te},P=R("//","$"),N=R("/\\*","\\*/"),U=R("#","$"),L={scope:"number",begin:X,relevance:0},K={scope:"number",begin:H,relevance:0},de={scope:"number",begin:ie,relevance:0},je={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[he,{begin:/\[/,end:/\]/,relevance:0,contains:[he]}]},Ee={scope:"title",begin:te,relevance:0},ge={scope:"title",begin:le,relevance:0},me={begin:"\\.\\s*"+le,relevance:0};var Ue=Object.freeze({__proto__:null,APOS_STRING_MODE:be,BACKSLASH_ESCAPE:he,BINARY_NUMBER_MODE:de,BINARY_NUMBER_RE:ie,COMMENT:R,C_BLOCK_COMMENT_MODE:N,C_LINE_COMMENT_MODE:P,C_NUMBER_MODE:K,C_NUMBER_RE:H,END_SAME_AS_BEGIN:function(C){return Object.assign(C,{"on:begin":(W,oe)=>{oe.data._beginMatch=W[1]},"on:end":(W,oe)=>{oe.data._beginMatch!==W[1]&&oe.ignoreMatch()}})},HASH_COMMENT_MODE:U,IDENT_RE:te,MATCH_NOTHING_RE:ne,METHOD_GUARD:me,NUMBER_MODE:L,NUMBER_RE:X,PHRASAL_WORDS_MODE:q,QUOTE_STRING_MODE:Y,REGEXP_MODE:je,RE_STARTERS_RE:ce,SHEBANG:ue,TITLE_MODE:Ee,UNDERSCORE_IDENT_RE:le,UNDERSCORE_TITLE_MODE:ge});function _t(C,W){C.input[C.index-1]==="."&&W.ignoreMatch()}function Ct(C,W){C.className!==void 0&&(C.scope=C.className,delete C.className)}function Be(C,W){W&&C.beginKeywords&&(C.begin="\\b("+C.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",C.__beforeBegin=_t,C.keywords=C.keywords||C.beginKeywords,delete C.beginKeywords,C.relevance===void 0&&(C.relevance=0))}function Le(C,W){Array.isArray(C.illegal)&&(C.illegal=V(...C.illegal))}function dt(C,W){if(C.match){if(C.begin||C.end)throw new Error("begin & end are not supported with match");C.begin=C.match,delete C.match}}function Xt(C,W){C.relevance===void 0&&(C.relevance=1)}const Et=(C,W)=>{if(!C.beforeMatch)return;if(C.starts)throw new Error("beforeMatch cannot be used with starts");const oe=Object.assign({},C);Object.keys(C).forEach(Te=>{delete C[Te]}),C.keywords=oe.keywords,C.begin=w(oe.beforeMatch,E(oe.begin)),C.starts={relevance:0,contains:[Object.assign(oe,{endsParent:!0})]},C.relevance=0,delete oe.beforeMatch},an=["of","and","for","in","not","or","if","then","parent","list","value"],On="keyword";function Il(C,W,oe=On){const Te=Object.create(null);return typeof C=="string"?et(oe,C.split(" ")):Array.isArray(C)?et(oe,C):Object.keys(C).forEach(function(lt){Object.assign(Te,Il(C[lt],W,lt))}),Te;function et(lt,re){W&&(re=re.map(ae=>ae.toLowerCase())),re.forEach(function(ae){const pe=ae.split("|");Te[pe[0]]=[lt,rl(pe[0],pe[1])]})}}function rl(C,W){return W?Number(W):Ka(C)?0:1}function Ka(C){return an.includes(C.toLowerCase())}const Hl={},yn=C=>{console.error(C)},zn=(C,...W)=>{console.log(`WARN: ${C}`,...W)},Pt=(C,W)=>{Hl[`${C}/${W}`]||(console.log(`Deprecated as of ${C}. ${W}`),Hl[`${C}/${W}`]=!0)},vt=new Error;function sn(C,W,{key:oe}){let Te=0;const et=C[oe],lt={},re={};for(let ae=1;ae<=W.length;ae++)re[ae+Te]=et[ae],lt[ae+Te]=!0,Te+=I(W[ae-1]);C[oe]=re,C[oe]._emit=lt,C[oe]._multi=!0}function Lt(C){if(Array.isArray(C.begin)){if(C.skip||C.excludeBegin||C.returnBegin)throw yn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),vt;if(typeof C.beginScope!="object"||C.beginScope===null)throw yn("beginScope must be object"),vt;sn(C,C.begin,{key:"beginScope"}),C.begin=Z(C.begin,{joinWith:""})}}function ui(C){if(Array.isArray(C.end)){if(C.skip||C.excludeEnd||C.returnEnd)throw yn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),vt;if(typeof C.endScope!="object"||C.endScope===null)throw yn("endScope must be object"),vt;sn(C,C.end,{key:"endScope"}),C.end=Z(C.end,{joinWith:""})}}function Ja(C){C.scope&&typeof C.scope=="object"&&C.scope!==null&&(C.beginScope=C.scope,delete C.scope)}function ga(C){Ja(C),typeof C.beginScope=="string"&&(C.beginScope={_wrap:C.beginScope}),typeof C.endScope=="string"&&(C.endScope={_wrap:C.endScope}),Lt(C),ui(C)}function ol(C){function W(re,ae){return new RegExp(T(re),"m"+(C.case_insensitive?"i":"")+(C.unicodeRegex?"u":"")+(ae?"g":""))}class oe{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ae,pe){pe.position=this.position++,this.matchIndexes[this.matchAt]=pe,this.regexes.push([pe,ae]),this.matchAt+=I(ae)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ae=this.regexes.map(pe=>pe[1]);this.matcherRe=W(Z(ae,{joinWith:"|"}),!0),this.lastIndex=0}exec(ae){this.matcherRe.lastIndex=this.lastIndex;const pe=this.matcherRe.exec(ae);if(!pe)return null;const Pe=pe.findIndex((Gl,Wa)=>Wa>0&&Gl!==void 0),tt=this.matchIndexes[Pe];return pe.splice(0,Pe),Object.assign(pe,tt)}}class Te{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ae){if(this.multiRegexes[ae])return this.multiRegexes[ae];const pe=new oe;return this.rules.slice(ae).forEach(([Pe,tt])=>pe.addRule(Pe,tt)),pe.compile(),this.multiRegexes[ae]=pe,pe}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ae,pe){this.rules.push([ae,pe]),pe.type==="begin"&&this.count++}exec(ae){const pe=this.getMatcher(this.regexIndex);pe.lastIndex=this.lastIndex;let Pe=pe.exec(ae);if(this.resumingScanAtSamePosition()&&!(Pe&&Pe.index===this.lastIndex)){const tt=this.getMatcher(0);tt.lastIndex=this.lastIndex+1,Pe=tt.exec(ae)}return Pe&&(this.regexIndex+=Pe.position+1,this.regexIndex===this.count&&this.considerAll()),Pe}}function et(re){const ae=new Te;return re.contains.forEach(pe=>ae.addRule(pe.begin,{rule:pe,type:"begin"})),re.terminatorEnd&&ae.addRule(re.terminatorEnd,{type:"end"}),re.illegal&&ae.addRule(re.illegal,{type:"illegal"}),ae}function lt(re,ae){const pe=re;if(re.isCompiled)return pe;[Ct,dt,ga,Et].forEach(tt=>tt(re,ae)),C.compilerExtensions.forEach(tt=>tt(re,ae)),re.__beforeBegin=null,[Be,Le,Xt].forEach(tt=>tt(re,ae)),re.isCompiled=!0;let Pe=null;return typeof re.keywords=="object"&&re.keywords.$pattern&&(re.keywords=Object.assign({},re.keywords),Pe=re.keywords.$pattern,delete re.keywords.$pattern),Pe=Pe||/\w+/,re.keywords&&(re.keywords=Il(re.keywords,C.case_insensitive)),pe.keywordPatternRe=W(Pe,!0),ae&&(re.begin||(re.begin=/\B|\b/),pe.beginRe=W(pe.begin),!re.end&&!re.endsWithParent&&(re.end=/\B|\b/),re.end&&(pe.endRe=W(pe.end)),pe.terminatorEnd=T(pe.end)||"",re.endsWithParent&&ae.terminatorEnd&&(pe.terminatorEnd+=(re.end?"|":"")+ae.terminatorEnd)),re.illegal&&(pe.illegalRe=W(re.illegal)),re.contains||(re.contains=[]),re.contains=[].concat(...re.contains.map(function(tt){return xn(tt==="self"?re:tt)})),re.contains.forEach(function(tt){lt(tt,pe)}),re.starts&&lt(re.starts,ae),pe.matcher=et(pe),pe}if(C.compilerExtensions||(C.compilerExtensions=[]),C.contains&&C.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return C.classNameAliases=r(C.classNameAliases||{}),lt(C)}function In(C){return C?C.endsWithParent||In(C.starts):!1}function xn(C){return C.variants&&!C.cachedVariants&&(C.cachedVariants=C.variants.map(function(W){return r(C,{variants:null},W)})),C.cachedVariants?C.cachedVariants:In(C)?r(C,{starts:C.starts?r(C.starts):null}):Object.isFrozen(C)?r(C):C}var cl="11.11.1";class Hn extends Error{constructor(W,oe){super(W),this.name="HTMLInjectionError",this.html=oe}}const Bn=d,Bl=r,Yl=Symbol("nomatch"),Yn=7,Cn=function(C){const W=Object.create(null),oe=Object.create(null),Te=[];let et=!0;const lt="Could not find the language '{}', did you forget to load/include a language module?",re={disableAutodetect:!0,name:"Plain text",contains:[]};let ae={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:b};function pe(se){return ae.noHighlightRe.test(se)}function Pe(se){let ve=se.className+" ";ve+=se.parentNode?se.parentNode.className:"";const Me=ae.languageDetectRe.exec(ve);if(Me){const qe=It(Me[1]);return qe||(zn(lt.replace("{}",Me[1])),zn("Falling back to no-highlight mode for this block.",se)),qe?Me[1]:"no-highlight"}return ve.split(/\s+/).find(qe=>pe(qe)||It(qe))}function tt(se,ve,Me){let qe="",it="";typeof ve=="object"?(qe=se,Me=ve.ignoreIllegals,it=ve.language):(Pt("10.7.0","highlight(lang, code, ...args) has been deprecated."),Pt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),it=se,qe=ve),Me===void 0&&(Me=!0);const Zt={code:qe,language:it};qn("before:highlight",Zt);const vn=Zt.result?Zt.result:Gl(Zt.language,Zt.code,Me);return vn.code=Zt.code,qn("after:highlight",vn),vn}function Gl(se,ve,Me,qe){const it=Object.create(null);function Zt(fe,ye){return fe.keywords[ye]}function vn(){if(!Re.keywords){pt.addText($e);return}let fe=0;Re.keywordPatternRe.lastIndex=0;let ye=Re.keywordPatternRe.exec($e),we="";for(;ye;){we+=$e.substring(fe,ye.index);const Ye=Qt.case_insensitive?ye[0].toLowerCase():ye[0],gt=Zt(Re,Ye);if(gt){const[rn,Ql]=gt;if(pt.addText(we),we="",it[Ye]=(it[Ye]||0)+1,it[Ye]<=Yn&&(ba+=Ql),rn.startsWith("_"))we+=ye[0];else{const Nn=Qt.classNameAliases[rn]||rn;un(ye[0],Nn)}}else we+=ye[0];fe=Re.keywordPatternRe.lastIndex,ye=Re.keywordPatternRe.exec($e)}we+=$e.substring(fe),pt.addText(we)}function wt(){if($e==="")return;let fe=null;if(typeof Re.subLanguage=="string"){if(!W[Re.subLanguage]){pt.addText($e);return}fe=Gl(Re.subLanguage,$e,!0,ns[Re.subLanguage]),ns[Re.subLanguage]=fe._top}else fe=ya($e,Re.subLanguage.length?Re.subLanguage:null);Re.relevance>0&&(ba+=fe.relevance),pt.__addSublanguage(fe._emitter,fe.language)}function Dt(){Re.subLanguage!=null?wt():vn(),$e=""}function un(fe,ye){fe!==""&&(pt.startScope(ye),pt.addText(fe),pt.endScope())}function Xl(fe,ye){let we=1;const Ye=ye.length-1;for(;we<=Ye;){if(!fe._emit[we]){we++;continue}const gt=Qt.classNameAliases[fe[we]]||fe[we],rn=ye[we];gt?un(rn,gt):($e=rn,vn(),$e=""),we++}}function es(fe,ye){return fe.scope&&typeof fe.scope=="string"&&pt.openNode(Qt.classNameAliases[fe.scope]||fe.scope),fe.beginScope&&(fe.beginScope._wrap?(un($e,Qt.classNameAliases[fe.beginScope._wrap]||fe.beginScope._wrap),$e=""):fe.beginScope._multi&&(Xl(fe.beginScope,ye),$e="")),Re=Object.create(fe,{parent:{value:Re}}),Re}function Pl(fe,ye,we){let Ye=D(fe.endRe,we);if(Ye){if(fe["on:end"]){const gt=new o(fe);fe["on:end"](ye,gt),gt.isMatchIgnored&&(Ye=!1)}if(Ye){for(;fe.endsParent&&fe.parent;)fe=fe.parent;return fe}}if(fe.endsWithParent)return Pl(fe.parent,ye,we)}function Ru(fe){return Re.matcher.regexIndex===0?($e+=fe[0],1):(Zl=!0,0)}function Yt(fe){const ye=fe[0],we=fe.rule,Ye=new o(we),gt=[we.__beforeBegin,we["on:begin"]];for(const rn of gt)if(rn&&(rn(fe,Ye),Ye.isMatchIgnored))return Ru(ye);return we.skip?$e+=ye:(we.excludeBegin&&($e+=ye),Dt(),!we.returnBegin&&!we.excludeBegin&&($e=ye)),es(we,fe),we.returnBegin?0:ye.length}function ts(fe){const ye=fe[0],we=ve.substring(fe.index),Ye=Pl(Re,fe,we);if(!Ye)return Yl;const gt=Re;Re.endScope&&Re.endScope._wrap?(Dt(),un(ye,Re.endScope._wrap)):Re.endScope&&Re.endScope._multi?(Dt(),Xl(Re.endScope,fe)):gt.skip?$e+=ye:(gt.returnEnd||gt.excludeEnd||($e+=ye),Dt(),gt.excludeEnd&&($e=ye));do Re.scope&&pt.closeNode(),!Re.skip&&!Re.subLanguage&&(ba+=Re.relevance),Re=Re.parent;while(Re!==Ye.parent);return Ye.starts&&es(Ye.starts,fe),gt.returnEnd?0:ye.length}function di(){const fe=[];for(let ye=Re;ye!==Qt;ye=ye.parent)ye.scope&&fe.unshift(ye.scope);fe.forEach(ye=>pt.openNode(ye))}let ml={};function $n(fe,ye){const we=ye&&ye[0];if($e+=fe,we==null)return Dt(),0;if(ml.type==="begin"&&ye.type==="end"&&ml.index===ye.index&&we===""){if($e+=ve.slice(ye.index,ye.index+1),!et){const Ye=new Error(`0 width match regex (${se})`);throw Ye.languageName=se,Ye.badRule=ml.rule,Ye}return 1}if(ml=ye,ye.type==="begin")return Yt(ye);if(ye.type==="illegal"&&!Me){const Ye=new Error('Illegal lexeme "'+we+'" for mode "'+(Re.scope||"<unnamed>")+'"');throw Ye.mode=Re,Ye}else if(ye.type==="end"){const Ye=ts(ye);if(Ye!==Yl)return Ye}if(ye.type==="illegal"&&we==="")return $e+=`
`,1;if(hl>1e5&&hl>ye.index*3)throw new Error("potential infinite loop, way more iterations than matches");return $e+=we,we.length}const Qt=It(se);if(!Qt)throw yn(lt.replace("{}",se)),new Error('Unknown language: "'+se+'"');const mi=ol(Qt);let wn="",Re=qe||mi;const ns={},pt=new ae.__emitter(ae);di();let $e="",ba=0,Xn=0,hl=0,Zl=!1;try{if(Qt.__emitTokens)Qt.__emitTokens(ve,pt);else{for(Re.matcher.considerAll();;){hl++,Zl?Zl=!1:Re.matcher.considerAll(),Re.matcher.lastIndex=Xn;const fe=Re.matcher.exec(ve);if(!fe)break;const ye=ve.substring(Xn,fe.index),we=$n(ye,fe);Xn=fe.index+we}$n(ve.substring(Xn))}return pt.finalize(),wn=pt.toHTML(),{language:se,value:wn,relevance:ba,illegal:!1,_emitter:pt,_top:Re}}catch(fe){if(fe.message&&fe.message.includes("Illegal"))return{language:se,value:Bn(ve),illegal:!0,relevance:0,_illegalBy:{message:fe.message,index:Xn,context:ve.slice(Xn-100,Xn+100),mode:fe.mode,resultSoFar:wn},_emitter:pt};if(et)return{language:se,value:Bn(ve),illegal:!1,relevance:0,errorRaised:fe,_emitter:pt,_top:Re};throw fe}}function Wa(se){const ve={value:Bn(se),illegal:!1,relevance:0,_top:re,_emitter:new ae.__emitter(ae)};return ve._emitter.addText(se),ve}function ya(se,ve){ve=ve||ae.languages||Object.keys(W);const Me=Wa(se),qe=ve.filter(It).filter(Fa).map(Dt=>Gl(Dt,se,!1));qe.unshift(Me);const it=qe.sort((Dt,un)=>{if(Dt.relevance!==un.relevance)return un.relevance-Dt.relevance;if(Dt.language&&un.language){if(It(Dt.language).supersetOf===un.language)return 1;if(It(un.language).supersetOf===Dt.language)return-1}return 0}),[Zt,vn]=it,wt=Zt;return wt.secondBest=vn,wt}function Vl(se,ve,Me){const qe=ve&&oe[ve]||Me;se.classList.add("hljs"),se.classList.add(`language-${qe}`)}function ql(se){let ve=null;const Me=Pe(se);if(pe(Me))return;if(qn("before:highlightElement",{el:se,language:Me}),se.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",se);return}if(se.children.length>0&&(ae.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(se)),ae.throwUnescapedHTML))throw new Hn("One of your code blocks includes unescaped HTML.",se.innerHTML);ve=se;const qe=ve.textContent,it=Me?tt(qe,{language:Me,ignoreIllegals:!0}):ya(qe);se.innerHTML=it.value,se.dataset.highlighted="yes",Vl(se,Me,it.language),se.result={language:it.language,re:it.relevance,relevance:it.relevance},it.secondBest&&(se.secondBest={language:it.secondBest.language,relevance:it.secondBest.relevance}),qn("after:highlightElement",{el:se,result:it,text:qe})}function fl(se){ae=Bl(ae,se)}const dl=()=>{st(),Pt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function $l(){st(),Pt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Gn=!1;function st(){function se(){st()}if(document.readyState==="loading"){Gn||window.addEventListener("DOMContentLoaded",se,!1),Gn=!0;return}document.querySelectorAll(ae.cssSelector).forEach(ql)}function ri(se,ve){let Me=null;try{Me=ve(C)}catch(qe){if(yn("Language definition for '{}' could not be registered.".replace("{}",se)),et)yn(qe);else throw qe;Me=re}Me.name||(Me.name=se),W[se]=Me,Me.rawDefinition=ve.bind(null,C),Me.aliases&&ci(Me.aliases,{languageName:se})}function oi(se){delete W[se];for(const ve of Object.keys(oe))oe[ve]===se&&delete oe[ve]}function Vn(){return Object.keys(W)}function It(se){return se=(se||"").toLowerCase(),W[se]||W[oe[se]]}function ci(se,{languageName:ve}){typeof se=="string"&&(se=[se]),se.forEach(Me=>{oe[Me.toLowerCase()]=ve})}function Fa(se){const ve=It(se);return ve&&!ve.disableAutodetect}function fi(se){se["before:highlightBlock"]&&!se["before:highlightElement"]&&(se["before:highlightElement"]=ve=>{se["before:highlightBlock"](Object.assign({block:ve.el},ve))}),se["after:highlightBlock"]&&!se["after:highlightElement"]&&(se["after:highlightElement"]=ve=>{se["after:highlightBlock"](Object.assign({block:ve.el},ve))})}function wu(se){fi(se),Te.push(se)}function xa(se){const ve=Te.indexOf(se);ve!==-1&&Te.splice(ve,1)}function qn(se,ve){const Me=se;Te.forEach(function(qe){qe[Me]&&qe[Me](ve)})}function bn(se){return Pt("10.7.0","highlightBlock will be removed entirely in v12.0"),Pt("10.7.0","Please use highlightElement now."),ql(se)}Object.assign(C,{highlight:tt,highlightAuto:ya,highlightAll:st,highlightElement:ql,highlightBlock:bn,configure:fl,initHighlighting:dl,initHighlightingOnLoad:$l,registerLanguage:ri,unregisterLanguage:oi,listLanguages:Vn,getLanguage:It,registerAliases:ci,autoDetection:Fa,inherit:Bl,addPlugin:wu,removePlugin:xa}),C.debugMode=function(){et=!1},C.safeMode=function(){et=!0},C.versionString=cl,C.regex={concat:w,lookahead:E,either:V,optional:y,anyNumberOfTimes:A};for(const se in Ue)typeof Ue[se]=="object"&&i(Ue[se]);return Object.assign(C,Ue),C},Bt=Cn({});return Bt.newInstance=()=>Cn({}),zo=Bt,Bt.HighlightJS=Bt,Bt.default=Bt,zo}var Iy=zy();const yh=qo(Iy),$m="[A-Za-z$_][0-9A-Za-z$_]*",Hy=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],By=["true","false","null","undefined","NaN","Infinity"],xh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],bh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],vh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Yy=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Gy=[].concat(vh,xh,bh);function Vy(i){const o=i.regex,d=(R,{after:P})=>{const N="</"+R[0].slice(1);return R.input.indexOf(N,P)!==-1},r=$m,m={begin:"<>",end:"</>"},f=/<[A-Za-z0-9\\._:-]+\s*\/>/,g={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(R,P)=>{const N=R[0].length+R.index,U=R.input[N];if(U==="<"||U===","){P.ignoreMatch();return}U===">"&&(d(R,{after:N})||P.ignoreMatch());let L;const K=R.input.substring(N);if(L=K.match(/^\s*=/)){P.ignoreMatch();return}if((L=K.match(/^\s+extends\s+/))&&L.index===0){P.ignoreMatch();return}}},S={$pattern:$m,keyword:Hy,literal:By,built_in:Gy,"variable.language":Yy},x="[0-9](_?[0-9])*",h=`\\.(${x})`,b="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",T={className:"number",variants:[{begin:`(\\b(${b})((${h})|\\.)?|(${h}))[eE][+-]?(${x})\\b`},{begin:`\\b(${b})\\b((${h})\\b|\\.)?|(${h})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},E={className:"subst",begin:"\\$\\{",end:"\\}",keywords:S,contains:[]},A={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[i.BACKSLASH_ESCAPE,E],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[i.BACKSLASH_ESCAPE,E],subLanguage:"css"}},w={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[i.BACKSLASH_ESCAPE,E],subLanguage:"graphql"}},z={className:"string",begin:"`",end:"`",contains:[i.BACKSLASH_ESCAPE,E]},I={className:"comment",variants:[i.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),i.C_BLOCK_COMMENT_MODE,i.C_LINE_COMMENT_MODE]},D=[i.APOS_STRING_MODE,i.QUOTE_STRING_MODE,A,y,w,z,{match:/\$\d+/},T];E.contains=D.concat({begin:/\{/,end:/\}/,keywords:S,contains:["self"].concat(D)});const Q=[].concat(I,E.contains),Z=Q.concat([{begin:/(\s*)\(/,end:/\)/,keywords:S,contains:["self"].concat(Q)}]),ne={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:S,contains:Z},te={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,o.concat(r,"(",o.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},le={relevance:0,match:o.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...xh,...bh]}},X={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},H={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[ne],illegal:/%/},ie={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ce(R){return o.concat("(?!",R.join("|"),")")}const ue={match:o.concat(/\b/,ce([...vh,"super","import"].map(R=>`${R}\\s*\\(`)),r,o.lookahead(/\s*\(/)),className:"title.function",relevance:0},he={begin:o.concat(/\./,o.lookahead(o.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},be={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},ne]},Y="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+i.UNDERSCORE_IDENT_RE+")\\s*=>",q={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,o.lookahead(Y)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[ne]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:S,exports:{PARAMS_CONTAINS:Z,CLASS_REFERENCE:le},illegal:/#(?![$_A-z])/,contains:[i.SHEBANG({label:"shebang",binary:"node",relevance:5}),X,i.APOS_STRING_MODE,i.QUOTE_STRING_MODE,A,y,w,z,I,{match:/\$\d+/},T,le,{scope:"attr",match:r+o.lookahead(":"),relevance:0},q,{begin:"("+i.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[I,i.REGEXP_MODE,{className:"function",begin:Y,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:i.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:S,contains:Z}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:m.begin,end:m.end},{match:f},{begin:g.begin,"on:begin":g.isTrulyOpeningTag,end:g.end}],subLanguage:"xml",contains:[{begin:g.begin,end:g.end,skip:!0,contains:["self"]}]}]},H,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+i.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[ne,i.inherit(i.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},he,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[ne]},ue,ie,te,be,{match:/\$[(.]/}]}}yh.registerLanguage("javascript",Vy);const qy=({value:i,onChange:o,isMaximized:d,placeholder:r,textareaId:m="code"})=>{const f=v.useRef(null),g=v.useRef(null),[S,x]=v.useState("100%"),h=v.useMemo(()=>{const A=`<span style="visibility:hidden;white-space:pre;display:block;width:100%;min-height:1em;font:inherit;pointer-events:none;">${(i||" ").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>`;return yh.highlight(i||"",{language:"javascript"}).value+A},[i]);v.useEffect(()=>{f.current&&x(f.current.scrollWidth+"px")},[i]);const b=A=>{g.current&&f.current&&(g.current.scrollTop=A.currentTarget.scrollTop,g.current.scrollLeft=A.currentTarget.scrollLeft)},T=A=>{o(A.target.value)},E={fontFamily:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:"0.875rem",lineHeight:"1.25rem",padding:"0.5rem",boxSizing:"border-box",whiteSpace:"pre",wordWrap:"normal",tabSize:2,width:"100%",height:"100%"};return u.jsxs("div",{className:`js-editor-container mt-1 shadow-sm ${d?"flex-grow min-h-[200px]":"min-h-[150px] max-h-96"}`,style:{position:"relative",width:"100%",height:"100%"},children:[u.jsx("pre",{ref:g,className:"js-editor-highlight-layer custom-scroll hide-scrollbar","aria-hidden":"true",style:{...E,position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",margin:0,background:"transparent",color:"#e2e8f0",overflow:"auto",pointerEvents:"none",zIndex:1},children:u.jsx("code",{className:"language-javascript hljs",style:{padding:0,background:"none",color:"inherit",display:"block",width:"100%",minWidth:S,maxWidth:"none",boxSizing:"border-box",whiteSpace:"pre",overflow:"hidden",position:"relative"},dangerouslySetInnerHTML:{__html:h}})}),u.jsx("textarea",{ref:f,name:m,id:m,value:i,onChange:T,placeholder:r,className:"js-editor-input-layer custom-scroll",spellCheck:"false",onScroll:b,style:{...E,position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",background:"transparent",color:"transparent",caretColor:"#f1f5f9",border:"none",outline:"none",resize:"none",zIndex:2,overflow:"auto",whiteSpace:"pre"}})]})},$y=({branches:i,allNodes:o,onBranchChange:d,onAddBranch:r,onRemoveBranch:m})=>{const f=o;return u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-md font-medium",children:"Branches (Conditions & Next Nodes)"}),i.map((g,S)=>u.jsxs("div",{className:"rounded-md border border-slate-600 p-3 space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",placeholder:"Condition (e.g., contains 'YES', default)",value:g.condition,onChange:x=>d(S,"condition",x.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Condition for branch ${S+1}`}),u.jsx("button",{onClick:()=>m(S),className:"text-red-500 hover:text-red-400 p-1 rounded-full hover:bg-slate-700","aria-label":`Remove branch ${S+1}`,title:`Remove branch ${S+1}`,children:u.jsx("i",{className:"fas fa-trash"})})]}),u.jsxs("select",{value:g.nextNodeId||"",onChange:x=>d(S,"nextNodeId",x.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Next node for branch ${S+1}`,children:[u.jsx("option",{value:"",children:"None (End branch)"}),f.map(x=>u.jsx("option",{value:x.id,children:x.name||`${x.type} (${x.id.substring(0,4)})`},x.id))]})]},g.id)),u.jsxs("button",{onClick:r,className:"rounded bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[u.jsx("i",{className:"fas fa-plus mr-2"})," Add Branch"]})]})},Xy=({parallelNextNodeIds:i,allNodes:o,onNodeIdChange:d,onAddPath:r,onRemovePath:m,maxPaths:f})=>{const g=o,S=Math.min(f,i.length+(i.length<f?1:0)),x=i.filter(h=>h&&h.trim()!=="");return u.jsxs("div",{className:"space-y-3",children:[u.jsxs("h4",{className:"text-md font-medium",children:["Parallel Next Nodes (up to ",f,")"]}),u.jsx("p",{className:"text-xs text-slate-400 -mt-2 mb-2",children:"The output of this Parallel node will be sent to each selected node simultaneously."}),Array.from({length:S}).map((h,b)=>{const T=i[b]||"";return b>=i.length&&b>=f?null:u.jsx("div",{className:"rounded-md border border-slate-600 p-3 space-y-2",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:T,onChange:E=>d(b,E.target.value||null),className:"block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm","aria-label":`Next node for parallel path ${b+1}`,children:[u.jsx("option",{value:"",children:"None (Remove/End Path)"}),g.map(E=>{const A=x.includes(E.id)&&T!==E.id;return u.jsxs("option",{value:E.id,disabled:A,title:A?"Already selected in another path":"",children:[E.name||`${E.type} (${E.id.substring(0,4)})`," ",A?"(Selected)":""]},E.id)})]}),(T||b<i.length)&&(b<i.length||T===""&&b<S)&&u.jsx("button",{onClick:()=>m(b),className:"text-red-500 hover:text-red-400 p-1 rounded-full hover:bg-slate-700","aria-label":`Remove parallel path ${b+1}`,title:`Remove parallel path ${b+1}`,children:u.jsx("i",{className:"fas fa-trash"})})]})},`parallel-path-${b}`)}),i.length<f&&S<=i.length&&u.jsxs("button",{onClick:r,className:"rounded bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[u.jsx("i",{className:"fas fa-plus mr-2"})," Add Path"]}),i.length>=f&&u.jsxs("p",{className:"text-xs text-slate-400",children:["Maximum ",f," parallel paths reached."]})]})},Py=({node:i,isOpen:o,onClose:d,onSave:r,allNodes:m})=>{const[f,g]=v.useState(null),[S,x]=v.useState(!0),[h,b]=v.useState(!1),T=ii();v.useEffect(()=>{if(i){const R=ln(i);R.type===j.CONCLUSION&&(!R.outputFormatTemplate||R.outputFormatTemplate.trim()==="")&&(R.outputFormatTemplate="{PREVIOUS_OUTPUT}"),R.type===j.VARIABLE&&(R.name=zt(R.name)),R.type===j.JAVASCRIPT&&R.code===void 0&&(R.code=""),R.type===j.PARALLEL&&!Array.isArray(R.parallelNextNodeIds)&&(R.parallelNextNodeIds=[]),g(R),E(R)}else g(null),x(!0);b(!1)},[i,o]);const E=R=>{var N,U,L,K,de;if(!R){x(!0);return}let P=!((N=R.name)!=null&&N.trim());R.type===j.VARIABLE?P=P||R.name!==zt(R.name)||!R.name.trim():R.type===j.CONCLUSION?P=P||!((U=R.prompt)!=null&&U.trim())||!((L=R.outputFormatTemplate)!=null&&L.trim()):R.type===j.JAVASCRIPT?P=P||!((K=R.code)!=null&&K.trim()):R.type===j.PARALLEL||R.type===j.SYNCHRONIZE||(P=P||!((de=R.prompt)!=null&&de.trim())),x(P)},A=R=>{const{name:P,value:N}=R.target;g(U=>{if(!U)return null;let L=N;P==="name"&&U.type===j.VARIABLE&&(L=zt(N));const K={...U,[P]:L};return E(K),K})},y=R=>{g(P=>{if(!P||P.type!==j.JAVASCRIPT)return P;const N={...P,code:R};return E(N),N})},w=()=>{if(f&&!S){let R={...f};if(R.type===j.VARIABLE&&R.name&&(R.name=zt(R.name),!R.name.trim())||(R.type===j.CONCLUSION&&(!R.outputFormatTemplate||R.outputFormatTemplate.trim()==="")&&(R.outputFormatTemplate="{PREVIOUS_OUTPUT}"),R.type===j.JAVASCRIPT&&(R.code===void 0||!R.code.trim())))return;R.type===j.PARALLEL&&(R.parallelNextNodeIds=(R.parallelNextNodeIds||[]).filter(P=>P&&P.trim()!=="")),r(R),b(!1),d()}},z=(R,P,N)=>{g(U=>{if(!U||!U.branches)return U;const L=[...U.branches];L[R]={...L[R],[P]:N||null};const K={...U,branches:L};return E(K),K})},V=()=>{g(R=>{if(!R)return R;const P=[...R.branches||[],{id:Se(),condition:"",nextNodeId:null}],N={...R,branches:P};return E(N),N})},I=R=>{g(P=>{if(!P||!P.branches)return P;const N=P.branches.filter((L,K)=>K!==R),U={...P,branches:N};return E(U),U})},D=(R,P)=>{g(N=>{if(!N||N.type!==j.PARALLEL)return N;const U=[...N.parallelNextNodeIds||[]];P===null||P===""?R<U.length&&U.splice(R,1):R<U.length?U[R]=P:U.push(P);const L=Array.from(new Set(U.filter(de=>de&&de.trim()!==""))),K={...N,parallelNextNodeIds:L};return E(K),K})},Q=()=>{g(R=>{if(!R||R.type!==j.PARALLEL)return R;const P=R.parallelNextNodeIds||[];if(P.length>=zm)return R;const N={...R,parallelNextNodeIds:[...P,""]};return E(N),N})},Z=R=>{g(P=>{if(!P||P.type!==j.PARALLEL||!P.parallelNextNodeIds)return P;const N=P.parallelNextNodeIds.filter((L,K)=>K!==R),U={...P,parallelNextNodeIds:N};return E(U),U})},ne=()=>{(f==null?void 0:f.type)===j.JAVASCRIPT&&!T&&b(R=>!R)};if(!o||!f)return null;const te=m.filter(R=>R.id!==f.id&&R.type!==j.START),le=f.type===j.START||f.type===j.PROMPT||f.type===j.CONDITIONAL||f.type===j.CONCLUSION||f.type===j.QUESTION,X=f.type===j.VARIABLE||f.type===j.JAVASCRIPT||f.type===j.PARALLEL||f.type===j.SYNCHRONIZE,H=f.type===j.CONCLUSION?"Display Title":f.type===j.QUESTION?"Question for User (use {PREVIOUS_OUTPUT} or {varName} for context)":"Prompt (use {PREVIOUS_OUTPUT} or {varName})",ie=f.type===j.VARIABLE?"Variable Description (Optional)":f.type===j.JAVASCRIPT?"Function Description (Optional)":f.type===j.PARALLEL?"Parallel Node Description (Optional)":f.type===j.SYNCHRONIZE?"Synchronize Node Description (Optional)":"Description",ce=f.type===j.CONCLUSION?"Enter a title for the displayed output":f.type===j.QUESTION?"Enter the question to ask the user":"Enter the LLM prompt here...",ue=f.type===j.VARIABLE?"Describe what this variable represents":f.type===j.JAVASCRIPT?"Describe what this JavaScript function does":f.type===j.PARALLEL?"Describe the purpose of this parallel split":f.type===j.SYNCHRONIZE?"Describe when this synchronization occurs":"Enter a description...",he=f.type===j.JAVASCRIPT&&!T,be=f.type===j.VARIABLE?"Variable Name":f.type===j.JAVASCRIPT?"Function Name":f.type===j.PARALLEL?"Parallel Node Name":f.type===j.SYNCHRONIZE?"Synchronize Node Name":"Node Name",Y=f.type===j.VARIABLE?"e.g., customer_name":f.type===j.JAVASCRIPT?"e.g., processUserData":f.type===j.PARALLEL?"e.g., ProcessInParallel":f.type===j.SYNCHRONIZE?"e.g., WaitForAllTasks":"Enter a descriptive name",q=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:w,disabled:S,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${S?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:"Save Node"}),u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>{d(),b(!1)},children:"Close"})]});return u.jsx(gn,{isOpen:o,onClose:()=>{d(),b(!1)},title:`Edit Node: ${f.name||f.type}`,isMaximized:h,onToggleMaximize:he?ne:void 0,footerContent:q,children:u.jsxs("div",{className:`space-y-4 text-slate-300 ${h&&f.type===j.JAVASCRIPT?"flex flex-col h-full":""}`,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium",children:be}),u.jsx("input",{type:"text",name:"name",id:"name",value:f.name,onChange:A,placeholder:Y,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"}),f.type===j.VARIABLE&&u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Use only letters, numbers, and underscores (e.g., my_variable_1)."}),u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["This name will be used in curly braces, like ","{"+(zt(f.name)||"variableName")+"}",", in other nodes' prompts."]})]})]}),le&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium",children:H}),u.jsx("textarea",{name:"prompt",id:"prompt",rows:f.type===j.CONCLUSION||f.type===j.QUESTION?2:4,value:f.prompt,onChange:A,placeholder:ce,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),f.type===j.CONCLUSION&&u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This title will appear above the final output displayed by this node."}),f.type===j.QUESTION&&u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This question will be shown to the user during the run. Their input becomes the output of this node."})]}),X&&u.jsxs("div",{children:[u.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium",children:ie}),u.jsx("textarea",{name:"prompt",id:"description",rows:2,value:f.prompt,onChange:A,placeholder:ue,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This description is for your reference only."})]}),f.type===j.JAVASCRIPT&&u.jsxs("div",{className:`mt-2 ${h?"flex-grow flex flex-col":""}`,children:[u.jsx("label",{htmlFor:"code",className:"block text-sm font-medium",children:"JavaScript Code (Async Function Body)"}),u.jsx(qy,{value:f.code||"",onChange:y,isMaximized:h,placeholder:`// async function(previousOutput, nodeVariables, projectVariables) { 
//  Write your JS code here...
//  return "some value";
// }`,textareaId:"code"}),u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Access ",u.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"previousOutput"}),", ",u.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"nodeVariables"})," (object), ",u.jsx("code",{className:"text-xs bg-slate-600 px-1 rounded",children:"projectVariables"})," (object). Return a string."]})]}),f.type===j.CONCLUSION&&u.jsxs("div",{children:[u.jsxs("label",{htmlFor:"outputFormatTemplate",className:"block text-sm font-medium",children:["Output Formatting (use ","{PREVIOUS_OUTPUT}",")"]}),u.jsx("textarea",{name:"outputFormatTemplate",id:"outputFormatTemplate",rows:2,value:f.outputFormatTemplate||"",onChange:A,placeholder:"Default: {PREVIOUS_OUTPUT}",className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"}),u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Define how the final output is displayed. ","{PREVIOUS_OUTPUT}"," will be replaced by the input to this node. You can also use project variables (e.g., ","{project_var}","), node variables (e.g., ","{node_var}","), and system variables (e.g., ","{CurrentDateTime}",")."]})]}),(f.type===j.PROMPT||f.type===j.START||f.type===j.VARIABLE||f.type===j.QUESTION||f.type===j.JAVASCRIPT||f.type===j.SYNCHRONIZE)&&u.jsxs("div",{className:`${h&&f.type===j.JAVASCRIPT?"mt-auto pt-4":""}`,children:[u.jsx("label",{htmlFor:"nextNodeId",className:"block text-sm font-medium",children:"Next Node"}),u.jsxs("select",{name:"nextNodeId",id:"nextNodeId",value:f.nextNodeId||"",onChange:A,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm",children:[u.jsx("option",{value:"",children:"None (End of workflow path)"}),te.map(R=>u.jsx("option",{value:R.id,children:R.name||`${R.type} (${R.id.substring(0,4)})`},R.id))]})]}),f.type===j.PARALLEL&&u.jsx(Xy,{parallelNextNodeIds:f.parallelNextNodeIds||[],allNodes:te,onNodeIdChange:D,onAddPath:Q,onRemovePath:Z,maxPaths:zm}),f.type===j.CONDITIONAL&&f.branches&&u.jsx($y,{branches:f.branches,allNodes:te,onBranchChange:z,onAddBranch:V,onRemoveBranch:I}),f.lastRunOutput&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Last Run Output:"}),u.jsx("pre",{className:"mt-1 block w-full rounded-md bg-slate-600 p-2 text-xs text-slate-200 custom-scroll whitespace-pre-wrap break-all max-h-32 overflow-y-auto",children:f.lastRunOutput})]})]})})},Zy=({project:i,isOpen:o,onClose:d,onSave:r})=>{const[m,f]=v.useState(""),[g,S]=v.useState(""),[x,h]=v.useState(""),[b,T]=v.useState([]),[E,A]=v.useState(!1);v.useEffect(()=>{i&&o&&(f(i.name),S(i.description),h(i.author),T(i.projectVariables?[...i.projectVariables.map(D=>({...D,name:zt(D.name)}))]:[]))},[i,o]),v.useEffect(()=>{let D=!m.trim();b.forEach(Q=>{(!Q.name.trim()||Q.name!==zt(Q.name))&&(D=!0)}),A(D)},[m,b]);const y=(D,Q,Z)=>{T(ne=>{const te=[...ne];return Q==="name"?te[D]={...te[D],[Q]:zt(Z)}:te[D]={...te[D],[Q]:Z},te})},w=()=>{T(D=>[...D,{id:Se(),name:"",value:""}])},z=D=>{T(Q=>Q.filter(Z=>Z.id!==D))},V=()=>{if(E)return;const D=b.map(Q=>({...Q,name:zt(Q.name)})).filter(Q=>Q.name.trim()!=="");r({name:m,description:g,author:x,projectVariables:D}),d()};if(!o||!i)return null;const I=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:V,disabled:E,className:`inline-flex w-full justify-center rounded-md px-4 py-2 text-base font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm ${E?"bg-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:E?"Cannot Save (Check Fields)":"Save Settings"}),u.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:d,children:"Close"})]});return u.jsx(gn,{isOpen:o,onClose:d,title:"Project Settings",widthClass:"sm:max-w-xl",footerContent:I,children:u.jsxs("div",{className:"space-y-6 text-slate-300",children:[u.jsxs("section",{children:[u.jsx("h4",{className:"text-md font-semibold text-sky-400 mb-2",children:"Basic Information"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium",children:"Project Name *"}),u.jsx("input",{type:"text",id:"projectName",value:m,onChange:D=>f(D.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"projectDescription",className:"block text-sm font-medium",children:"Description"}),u.jsx("textarea",{id:"projectDescription",value:g,onChange:D=>S(D.target.value),rows:3,className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"projectAuthor",className:"block text-sm font-medium",children:"Author"}),u.jsx("input",{type:"text",id:"projectAuthor",value:x,onChange:D=>h(D.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm"})]})]})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-md font-semibold text-sky-400 mb-2",children:"Project-Wide Variables"}),u.jsxs("p",{className:"text-xs text-slate-400 mb-1",children:["Define variables accessible throughout your project (e.g., ",u.jsx("code",{className:"bg-slate-700 p-0.5 rounded text-xs",children:"{my_project_var}"}),")."]}),u.jsx("p",{className:"text-xs text-slate-400 mb-3",children:"Use only letters, numbers, and underscores for names. Node-specific variables will override these if names conflict."}),u.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scroll pr-2",children:b.map((D,Q)=>u.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-slate-700 rounded-md",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:`varName-${D.id}`,className:"sr-only",children:"Variable Name"}),u.jsx("input",{type:"text",id:`varName-${D.id}`,placeholder:"Variable Name (e.g., api_version)",value:D.name,onChange:Z=>y(Q,"name",Z.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-650 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm placeholder-slate-400"}),(D.name!==zt(D.name)||!D.name.trim())&&o&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Name must be alphanumeric (plus underscore) and cannot be empty."})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{htmlFor:`varValue-${D.id}`,className:"sr-only",children:"Variable Value"}),u.jsx("input",{type:"text",id:`varValue-${D.id}`,placeholder:"Variable Value",value:D.value,onChange:Z=>y(Q,"value",Z.target.value),className:"block w-full rounded-md border-slate-600 bg-slate-650 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm placeholder-slate-400"})]}),u.jsx("button",{onClick:()=>z(D.id),className:"p-2 text-red-500 hover:text-red-400 rounded-md hover:bg-slate-600","aria-label":"Delete variable",children:u.jsx("i",{className:"fas fa-trash"})})]},D.id))}),u.jsxs("button",{onClick:w,className:"mt-3 rounded-md bg-sky-600 px-3 py-1.5 text-sm text-white hover:bg-sky-700 flex items-center",children:[u.jsx("i",{className:"fas fa-plus mr-2"}),"Add Variable"]})]})]})})},Qy=({runHistory:i,isOpen:o,onClose:d,onClearHistory:r})=>{const m=[...i].sort((f,g)=>new Date(g.timestamp).getTime()-new Date(f.timestamp).getTime());return u.jsx(gn,{isOpen:o,onClose:d,title:"Project Run History",widthClass:"sm:max-w-4xl",footerContent:u.jsxs("button",{onClick:r,className:"rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700 text-sm font-medium mt-2",children:[u.jsx("i",{className:"fas fa-trash mr-2"}),"Clear History"]}),children:u.jsxs("div",{className:"max-h-[70vh] overflow-y-auto space-y-4 custom-scroll",children:[m.length===0&&u.jsx("p",{className:"text-slate-400",children:"No runs recorded yet."}),m.map(f=>u.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[u.jsxs("div",{className:"mb-2 flex flex-wrap justify-between items-center text-sm text-slate-400 gap-x-4 gap-y-1",children:[u.jsxs("span",{children:["Run ID: ",f.id.substring(0,6)]}),u.jsxs("span",{children:["Status: ",u.jsx("span",{className:`font-semibold ${f.status==="completed"?"text-green-400":f.status==="running"?"text-yellow-400":f.status==="stopped"?"text-orange-400":"text-red-400"}`,children:f.status})]}),u.jsx("span",{children:new Date(f.timestamp).toLocaleString()}),f.durationMs!==void 0&&u.jsxs("span",{children:["Duration: ",(f.durationMs/1e3).toFixed(2),"s"]}),f.totalTokensUsed!==void 0&&u.jsxs("span",{children:["Tokens: ",f.totalTokensUsed]})]}),f.steps.map(g=>u.jsxs("details",{className:"mb-2 rounded bg-slate-700 p-2",children:[u.jsxs("summary",{className:"cursor-pointer font-medium text-slate-200",children:["Node: ",g.nodeName||g.nodeId," ",g.error?u.jsx("span",{className:"text-red-400",children:"(Error)"}):"",g.tokensUsed!==void 0&&u.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["(",g.tokensUsed," tokens)"]})]}),u.jsxs("div",{className:"mt-2 space-y-1 pl-4 text-xs text-slate-300",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Prompt:"})," ",u.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:g.promptSent})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Response:"})," ",u.jsx("pre",{className:"whitespace-pre-wrap break-all bg-slate-600 p-1 rounded",children:g.responseReceived})]}),g.error&&u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",u.jsx("span",{className:"text-red-300",children:g.error})]})]})]},g.nodeId+g.timestamp)),f.finalOutput&&!f.error&&u.jsxs("p",{className:"mt-2 text-sm",children:[u.jsx("strong",{children:"Final Output:"})," ",f.finalOutput]}),f.error&&u.jsxs("p",{className:"mt-2 text-sm text-red-400",children:[u.jsx("strong",{children:"Run Error:"})," ",f.error]})]},f.id))]})})},Ky=({isOpen:i,onClose:o})=>u.jsx(gn,{isOpen:i,onClose:o,title:"Help & Instructions",widthClass:"sm:max-w-2xl",children:u.jsxs("div",{className:"space-y-4 text-slate-300 max-h-[70vh] overflow-y-auto custom-scroll pr-2",children:[u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Getting Started"}),u.jsx("p",{children:"This application allows you to create interactive workflows for Large Language Models (LLMs) like OpenAI's ChatGPT or local models via Ollama."}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-1",children:[u.jsx("li",{children:"Create a new project or open an existing one."}),u.jsx("li",{children:'In "Project Settings", you can define **Project-Wide Variables**.'}),u.jsx("li",{children:"Add nodes (Start, Prompt, Conditional, Variable, Question, JavaScript, Parallel, Synchronize, Conclusion) to the canvas."}),u.jsx("li",{children:'Configure nodes, link them, and set up your LLM provider in "App Settings".'}),u.jsx("li",{children:"Run your project and review results!"})]})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Node Types"}),u.jsxs("ul",{className:"space-y-1.5",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Start Node:"})," Entry point. Its prompt is sent to the LLM."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Prompt Node:"})," Sends a prompt to LLM. Uses ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"})," and ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Conditional Node:"})," Directs flow based on LLM output to its prompt."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Variable Node:"})," Stores input as ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"})," for later use."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Question Node:"})," Asks user for input, which becomes its output."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"JavaScript Node:"})," Executes custom JavaScript code.",u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[u.jsxs("li",{children:[`Provide JavaScript code in the node's "Code" field. This code is the body of an `,u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"async"})," function."]}),u.jsxs("li",{children:["The function signature is effectively: ",u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"async function(previousOutput, nodeVariables, projectVariables)"}),"."]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"previousOutput"}),": (string) The output from the preceding node."]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"nodeVariables"}),": (object) Key-value pairs from `Variable` nodes (e.g., `nodeVariables.myVar`)."]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"projectVariables"}),": (object) Key-value pairs from Project Settings (e.g., `projectVariables.apiKey`)."]}),u.jsxs("li",{children:["Your code must ",u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"return"})," a value. This value will be converted to a string and become the output of this node."]}),u.jsxs("li",{children:["Example: ",u.jsx("code",{className:"bg-slate-700 px-0.5 rounded text-sky-300",children:"return `Processed: ${previousOutput} - User: ${projectVariables.user_name || 'N/A'}`;"})]}),u.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Parallel Node:"})," Splits the workflow into multiple concurrent paths.",u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[u.jsx("li",{children:'Select up to 4 "Next Nodes" in its settings.'}),u.jsx("li",{children:'The input to the Parallel node is passed as input to each of these selected "Next Nodes."'}),u.jsx("li",{children:'When executed, it increments a global "parallel path counter" by the number of its branches.'}),u.jsx("li",{children:'Each selected "Next Node" starts a new execution path that runs concurrently.'}),u.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Synchronize Node:"})," Waits for all globally active parallel branches to complete.",u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[u.jsx("li",{children:'When a path reaches a Synchronize node, it decrements the global "parallel path counter".'}),u.jsx("li",{children:"The path then pauses, waiting for this global counter to become zero."}),u.jsx("li",{children:"Once the counter is zero (indicating all branches initiated by Parallel nodes, and not yet concluded or synchronized, have finished), this path resumes."}),u.jsx("li",{children:'Upon resuming, it outputs the fixed string "continue". Outputs from the arriving branches are logged but not merged into this output.'}),u.jsx("li",{children:'The "Prompt" field for this node type is optional and can be used as a description.'})]})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Conclusion Node:"})," Displays final output and signals the end of a path.",u.jsxs("ul",{className:"list-disc list-inside ml-4 mt-0.5 space-y-0.5 text-sm",children:[u.jsx("li",{children:'When reached, it decrements the global "parallel path counter".'}),u.jsx("li",{children:"It then displays its configured output."})]})]})]})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Using Placeholders & Variables"}),u.jsx("p",{children:"In Start, Prompt, Conditional Node prompts, Question Node questions, and Conclusion Node output templates, you can use placeholders. JavaScript nodes access these differently (see above)."}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[u.jsxs("li",{children:[u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{PREVIOUS_OUTPUT}"}),": Output from the direct predecessor."]}),u.jsxs("li",{children:[u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{variable_name}"}),": Value from a Project-Wide Variable or a Variable Node."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"System Variables"})," (e.g., ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{CurrentDateTime}"}),", ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"{LLMModel}"}),") are also available."]})]})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Conditional Node Branching"}),u.jsxs("p",{children:["Uses LLM output to choose path. Conditions: Exact match, ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"contains 'keyword'"}),", ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"starts with 'prefix'"}),", or ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"default"}),"."]})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"Execution Panel"}),u.jsx("p",{children:"Shows real-time run information: current node, logs (status, output, tokens), total duration, and tokens used. For parallel executions, logs may interleave."})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsxs("section",{children:[u.jsx("h4",{className:"text-lg font-semibold text-sky-400 mb-2",children:"API Keys & Security"}),u.jsx("p",{children:"ChatGPT API keys are stored in browser local storage (insecure for production). JavaScript Node code is executed client-side; be cautious with untrusted code/projects."})]}),u.jsx("hr",{className:"border-slate-700"}),u.jsx("section",{children:u.jsxs("details",{children:[u.jsx("summary",{className:"text-lg font-semibold text-sky-400 mb-2 cursor-pointer hover:text-sky-300",children:"Licenses"}),u.jsxs("div",{className:"space-y-3 mt-1 pl-2 text-sm",children:[u.jsx("p",{children:"This project utilizes the following open-source libraries and resources:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1.5",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"React & React DOM:"}),u.jsx("a",{href:"https://react.dev/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",u.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"React Router DOM:"}),u.jsx("a",{href:"https://reactrouter.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",u.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Tailwind CSS:"}),u.jsx("a",{href:"https://tailwindcss.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",u.jsx("a",{href:"/licenses/MIT.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"MIT License"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Font Awesome:"}),u.jsx("a",{href:"https://fontawesome.com/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - See ",u.jsx("a",{href:"https://fontawesome.com/license/free",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"Font Awesome Free License"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Highlight.js:"}),u.jsx("a",{href:"https://highlightjs.org/",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Homepage"})," - Licensed under the ",u.jsx("a",{href:"/licenses/BSD-3-Clause.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"BSD 3-Clause License"}),"."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"@google/genai (Google Gemini API SDK):"}),u.jsx("a",{href:"https://github.com/google/generative-ai-js",target:"_blank",rel:"noopener noreferrer",className:"ml-1 text-sky-400 hover:text-sky-300 underline",children:"Repository"})," - Licensed under the ",u.jsx("a",{href:"/licenses/Apache-2.0.txt",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:text-sky-300 underline",children:"Apache 2.0 License"}),"."]})]}),u.jsxs("p",{className:"text-xs mt-3",children:["Full license texts are available via the links above. Copies of MIT, BSD 3-Clause, and Apache 2.0 licenses are also included in the application's ",u.jsx("code",{className:"bg-slate-700 px-1 rounded text-sky-300",children:"/licenses"})," directory."]})]})]})})]})}),Jy=({isOpen:i,onClose:o,onSaveAndClose:d,onCloseWithoutSaving:r})=>{if(!i)return null;const m=u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:d,className:"inline-flex w-full justify-center rounded-md bg-green-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Save & Close"}),u.jsx("button",{onClick:r,className:"mt-3 inline-flex w-full justify-center rounded-md bg-yellow-500 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close without Saving"}),u.jsx("button",{onClick:o,className:"mt-3 inline-flex w-full justify-center rounded-md bg-slate-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancel"})]});return u.jsx(gn,{isOpen:i,onClose:o,title:"Unsaved Changes",footerContent:m,children:u.jsx("p",{className:"text-slate-300",children:"You have unsaved changes. What would you like to do?"})})},Wy=({logs:i,currentExecutingNodeId:o,nodes:d=[],runStartTime:r,runEndTime:m,totalTokensThisRun:f,isOpen:g,onClose:S,currentProjectName:x})=>{ii();const h=A=>{if(!A)return"-";try{const y=new Date(A),w=y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),z=y.getMilliseconds().toString().padStart(3,"0");return`${w}.${z}`}catch{const w=new Date(A);return`${w.getHours()}:${w.getMinutes()}:${w.getSeconds()}`}},b=A=>{switch(A){case"running":return"text-yellow-400";case"completed":return"text-green-400";case"failed":return"text-red-400";case"skipped":return"text-slate-500";default:return"text-slate-300"}},T=o&&Array.isArray(d)?d.find(A=>A.id===o):null,E=r&&m?((m-r)/1e3).toFixed(2)+"s":r?"Running...":"-";return u.jsx(gn,{isOpen:g,onClose:S,title:`Execution Log - ${x}`,children:u.jsxs("div",{className:"space-y-2 text-xs sm:text-sm max-h-[60vh] overflow-y-auto custom-scroll",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"font-semibold",children:T?`Running: ${T.name}`:r&&!m?"Running...":m?"Finished":"Idle"}),u.jsxs("span",{className:"truncate",children:["Dur: ",E]}),f>0&&u.jsxs("span",{className:"truncate",children:["Tokens: ",f]})]}),i.length===0&&u.jsx("p",{className:"text-slate-400",children:"No execution data for this run yet."}),i.map((A,y)=>u.jsxs("div",{className:"p-1.5 sm:p-2 bg-slate-700 rounded-md",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:`font-semibold ${b(A.status)}`,children:[A.nodeName||A.nodeId," - ",A.status.toUpperCase()]}),u.jsxs("span",{className:"text-xs text-slate-400",children:[h(A.startTime)," - ",A.endTime?h(A.endTime):"..."]})]}),A.output&&u.jsx("pre",{className:"mt-1 text-xs bg-slate-600 p-1 rounded whitespace-pre-wrap break-all max-h-16 sm:max-h-20 overflow-y-auto custom-scroll",children:A.output}),A.error&&u.jsxs("p",{className:"mt-1 text-xs text-red-300",children:["Error: ",A.error]}),A.tokensUsed!==void 0&&u.jsxs("p",{className:"mt-1 text-xs text-slate-400",children:["Tokens: ",A.tokensUsed]})]},y))]})})},Fy=({isSidebarOpen:i,toggleSidebar:o,onAddNode:d,onOpenProjectSettingsModal:r,onOpenRunHistoryModal:m,projectRunHistoryCount:f,onCloseProject:g,isWorkflowRunning:S,onOpenHelpModal:x})=>{const h=ii(),b="w-full rounded px-3 py-2 text-sm text-white text-left flex items-center",T="mb-2",E="bg-slate-700 hover:bg-slate-600 text-slate-200 mb-2",A="bg-red-700 hover:bg-red-600 text-white",y="mr-2 sm:mr-3";return h?u.jsxs(u.Fragment,{children:[i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 sm:hidden",onClick:o,"aria-hidden":"true"}),u.jsxs("aside",{className:`fixed top-0 left-0 h-full bg-slate-800 shadow-xl flex flex-col overflow-y-auto transition-transform duration-300 ease-in-out z-40
                      ${i?"translate-x-0 w-64 p-4 space-y-3":"-translate-x-full w-64 p-4 space-y-3"}`,children:[u.jsx("button",{onClick:o,className:"p-2 rounded-md text-slate-300 hover:bg-slate-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-sky-500 self-end mb-2","aria-label":"Close sidebar",children:u.jsx("i",{className:"fas fa-times fa-lg"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Node Tools"}),u.jsxs("button",{onClick:()=>{d(j.PROMPT),o()},className:`${b} ${T} bg-sky-600 hover:bg-sky-700`,children:[u.jsx("i",{className:`fas fa-comment-dots ${y}`}),"Add Prompt"]}),u.jsxs("button",{onClick:()=>{d(j.CONDITIONAL),o()},className:`${b} ${T} bg-amber-600 hover:bg-amber-700`,children:[u.jsx("i",{className:`fas fa-code-branch ${y}`}),"Add Conditional"]}),u.jsxs("button",{onClick:()=>{d(j.VARIABLE),o()},className:`${b} ${T} bg-teal-600 hover:bg-teal-700`,children:[u.jsx("i",{className:`fas fa-database ${y}`}),"Add Variable"]}),u.jsxs("button",{onClick:()=>{d(j.QUESTION),o()},className:`${b} ${T} bg-cyan-600 hover:bg-cyan-700`,children:[u.jsx("i",{className:`fas fa-question ${y}`}),"Add Question"]}),u.jsxs("button",{onClick:()=>{d(j.JAVASCRIPT),o()},className:`${b} ${T} bg-purple-600 hover:bg-purple-700`,children:[u.jsx("i",{className:`fas fa-code ${y}`}),"Add JavaScript"]}),u.jsxs("button",{onClick:()=>{d(j.PARALLEL),o()},className:`${b} ${T} bg-rose-600 hover:bg-rose-700`,children:[u.jsx("i",{className:`fas fa-project-diagram ${y}`}),"Add Parallel"]}),u.jsxs("button",{onClick:()=>{d(j.SYNCHRONIZE),o()},className:`${b} ${T} bg-lime-600 hover:bg-lime-700`,children:[u.jsx("i",{className:`fas fa-hourglass-half ${y}`}),"Add Synchronize"]}),u.jsxs("button",{onClick:()=>{d(j.CONCLUSION),o()},className:`${b} ${T} bg-indigo-600 hover:bg-indigo-700`,children:[u.jsx("i",{className:`fas fa-flag-checkered ${y}`}),"Add Conclusion"]}),u.jsx("hr",{className:"border-slate-700 my-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Project Actions"}),u.jsxs("button",{onClick:()=>{r(),o()},className:`${b} ${E}`,children:[u.jsx("i",{className:`fas fa-sliders-h ${y}`}),"Project Settings"]}),u.jsxs("button",{onClick:()=>{m(),o()},className:`${b} ${E}`,children:[u.jsx("i",{className:`fas fa-history ${y}`}),"Run History (",f,")"]})]}),u.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[u.jsxs("button",{onClick:()=>{g(),o()},disabled:S,className:`${b} ${A} disabled:bg-slate-500 disabled:cursor-not-allowed`,children:[u.jsx("i",{className:`fas fa-times-circle ${y}`}),"Close Project"]}),u.jsxs("button",{onClick:()=>{x(),o()},className:`${b} ${E} bg-blue-600 hover:bg-blue-700`,children:[u.jsx("i",{className:`fas fa-question-circle ${y}`}),"Help"]})]})]})]}):u.jsxs("div",{className:"relative bg-slate-800 shadow-xl",children:[u.jsx("aside",{className:`flex flex-col overflow-y-auto transition-all duration-300 ease-in-out
                    ${i?"w-60 p-4 space-y-3":"w-0 p-0 opacity-0"}`,children:i&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-slate-100 mb-3 cursor-pointer select-none",onClick:o,title:"Collapse Sidebar",style:{userSelect:"none"},children:[u.jsx("i",{className:`fas ${i?"fa-chevron-left":"fa-chevron-right"}`})," Node Tools"]}),u.jsxs("button",{onClick:()=>d(j.PROMPT),className:`${b} ${T} bg-sky-600 hover:bg-sky-700`,children:[u.jsx("i",{className:`fas fa-comment-dots ${y}`}),"Add Prompt"]}),u.jsxs("button",{onClick:()=>d(j.CONDITIONAL),className:`${b} ${T} bg-amber-600 hover:bg-amber-700`,children:[u.jsx("i",{className:`fas fa-code-branch ${y}`}),"Add Conditional"]}),u.jsxs("button",{onClick:()=>d(j.VARIABLE),className:`${b} ${T} bg-teal-600 hover:bg-teal-700`,children:[u.jsx("i",{className:`fas fa-database ${y}`}),"Add Variable"]}),u.jsxs("button",{onClick:()=>d(j.QUESTION),className:`${b} ${T} bg-cyan-600 hover:bg-cyan-700`,children:[u.jsx("i",{className:`fas fa-question ${y}`}),"Add Question"]}),u.jsxs("button",{onClick:()=>d(j.JAVASCRIPT),className:`${b} ${T} bg-purple-600 hover:bg-purple-700`,children:[u.jsx("i",{className:`fas fa-code ${y}`}),"Add JavaScript"]}),u.jsxs("button",{onClick:()=>d(j.PARALLEL),className:`${b} ${T} bg-rose-600 hover:bg-rose-700`,children:[u.jsx("i",{className:`fas fa-project-diagram ${y}`}),"Add Parallel"]}),u.jsxs("button",{onClick:()=>d(j.SYNCHRONIZE),className:`${b} ${T} bg-lime-600 hover:bg-lime-700`,children:[u.jsx("i",{className:`fas fa-hourglass-half ${y}`}),"Add Synchronize"]}),u.jsxs("button",{onClick:()=>d(j.CONCLUSION),className:`${b} ${T} bg-indigo-600 hover:bg-indigo-700`,children:[u.jsx("i",{className:`fas fa-flag-checkered ${y}`}),"Add Conclusion"]}),u.jsx("hr",{className:"border-slate-700 my-4"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3",children:"Project Actions"}),u.jsxs("button",{onClick:r,className:`${b} ${E}`,children:[u.jsx("i",{className:`fas fa-sliders-h ${y}`}),"Project Settings"]}),u.jsxs("button",{onClick:m,className:`${b} ${E}`,children:[u.jsx("i",{className:`fas fa-history ${y}`}),"Run History (",f,")"]})]}),u.jsxs("div",{className:"mt-auto pt-4 space-y-2",children:[u.jsxs("button",{onClick:g,disabled:S,className:`${b} ${A} disabled:bg-slate-500 disabled:cursor-not-allowed`,children:[u.jsx("i",{className:`fas fa-times-circle ${y}`}),"Close Project"]}),u.jsxs("button",{onClick:x,className:`${b} ${E} bg-blue-600 hover:bg-blue-700`,children:[u.jsx("i",{className:`fas fa-question-circle ${y}`}),"Help"]})]})]})}),!h&&!i&&u.jsx("button",{onClick:o,className:"absolute top-1/2 left-0 -translate-y-1/2 w-6 h-16 bg-slate-700 hover:bg-slate-600 text-white rounded-r-md flex items-center justify-center focus:outline-none z-50",title:"Expand Sidebar","aria-label":"Expand Sidebar",children:u.jsx("i",{className:"fas fa-chevron-right"})})]})},ex=({scale:i,onZoomIn:o,onZoomOut:d,onReset:r,minScale:m=.25,maxScale:f=2})=>u.jsxs("div",{className:"absolute bottom-4 right-4 z-20 flex flex-col items-center space-y-2 p-2 bg-slate-700 bg-opacity-80 rounded-lg shadow-lg",children:[u.jsx("button",{onClick:o,disabled:i>=f,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom In",title:"Zoom In",children:u.jsx("i",{className:"fas fa-plus"})}),u.jsxs("div",{className:"text-xs text-slate-100 bg-slate-600 px-2 py-1 rounded-md w-full text-center cursor-pointer",onClick:r,title:"Reset Zoom (Current:)",children:[Math.round(i*100),"%"]}),u.jsx("button",{onClick:d,disabled:i<=m,className:"w-8 h-8 flex items-center justify-center rounded-md bg-sky-600 text-white hover:bg-sky-500 disabled:bg-slate-500 disabled:cursor-not-allowed","aria-label":"Zoom Out",title:"Zoom Out",children:u.jsx("i",{className:"fas fa-minus"})})]}),tx={[j.START]:"fas fa-play-circle",[j.PROMPT]:"fas fa-comment-dots",[j.CONDITIONAL]:"fas fa-code-branch",[j.VARIABLE]:"fas fa-database",[j.QUESTION]:"fas fa-question-circle",[j.JAVASCRIPT]:"fas fa-code",[j.PARALLEL]:"fas fa-project-diagram",[j.SYNCHRONIZE]:"fas fa-hourglass-half",[j.CONCLUSION]:"fas fa-flag-checkered"},nx=({nodes:i,visualLinks:o,getLineToRectangleIntersectionPoint:d,scale:r,translate:m,editorAreaRef:f,canvasContentRef:g,onNodeMouseDown:S,onWheel:x,onCanvasMouseDown:h,zoomControls:b,onNodeTouchStart:T,onDeleteNodeRequest:E})=>{const A=y=>i.find(w=>w.id===y);return u.jsxs("main",{ref:f,className:"flex-1 bg-slate-850 p-0 relative overflow-hidden custom-scroll",style:{backgroundImage:`radial-gradient(${getComputedStyle(document.documentElement).getPropertyValue("--tw-colors-slate-700")||"#374151"} 1px, transparent 1px)`,backgroundSize:`${Dn}px ${Dn}px`,cursor:"grab"},onWheel:x,onMouseDown:h,children:[u.jsxs("div",{ref:g,className:"absolute top-0 left-0",style:{transform:`translate(${m.x}px, ${m.y}px) scale(${r})`,transformOrigin:"0 0"},children:[i.map(y=>{var Q,Z;if(!y||typeof y.type!="string"||!Object.values(j).includes(y.type))return u.jsx("div",{className:"absolute rounded-lg shadow-xl p-3 border-2 border-red-700 bg-red-900 text-white flex flex-col justify-center items-center text-xs",style:{left:((Q=y==null?void 0:y.position)==null?void 0:Q.x)||0,top:((Z=y==null?void 0:y.position)==null?void 0:Z.y)||0,width:da,height:ma,boxSizing:"border-box"},children:u.jsx("p",{className:"font-bold mb-1",children:"Error: Invalid Node"})},(y==null?void 0:y.id)||`invalid-node-${Math.random().toString(36).substr(2,9)}`);const w=Bm[y.type]||Bm.PROMPT,z=y.isRunning?"border-purple-500 animate-pulse":y.hasError?"border-red-500":"border-transparent",V=`${w} ${z}`;let I=y.name||y.type;y.type===j.CONCLUSION?I+=`: ${y.prompt||ei}`:y.type===j.VARIABLE?I+=`: Stores as {${y.name}}`:y.type===j.QUESTION?I+=`: ${y.prompt||Yo}`:y.type===j.JAVASCRIPT?I+=`: JS Function (${y.prompt||"No description"})`:y.type===j.PARALLEL?I+=`: ${y.prompt||Au}`:y.type===j.SYNCHRONIZE?I+=`: ${y.prompt||Go}`:I+=`: ${y.prompt||"(No prompt)"}`;const D=tx[y.type]||"fas fa-cog";return u.jsxs("div",{className:`node-${y.id} absolute rounded-lg shadow-xl p-3 border-2 ${V} transition-all duration-150 cursor-grab flex flex-col justify-between items-center`,style:{left:y.position.x,top:y.position.y,width:da,height:ma},onMouseDown:ne=>S(y.id,ne),onTouchStart:ne=>T(y.id,ne),title:I,children:[u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[u.jsxs("div",{className:"flex items-center overflow-hidden",children:[u.jsx("i",{className:`${D} text-white mr-2 text-base`,"aria-hidden":"true"}),u.jsx("h4",{className:"font-bold text-sm text-white truncate",children:y.name||y.type.charAt(0).toUpperCase()+y.type.slice(1).toLowerCase().replace("_"," ")})]}),y.type!==j.START&&u.jsx("button",{className:"node-delete-button text-red-300 hover:text-red-100 text-xs p-0.5 rounded-full hover:bg-red-500/50 z-10","aria-label":`Delete node ${y.name||y.type}`,onMouseDown:ne=>ne.stopPropagation(),onTouchStart:ne=>ne.stopPropagation(),onClick:ne=>E(y.id,ne),children:u.jsx("i",{className:"fas fa-times"})})]}),y.type===j.CONCLUSION?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsx("p",{className:"font-semibold italic",children:y.prompt||ei}),y.isRunning?u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Running...)"}):y.lastRunOutput?u.jsx("p",{className:"mt-1 text-green-300",children:y.lastRunOutput}):u.jsx("p",{className:"mt-1 text-slate-400",children:"(Awaiting output)"})]}):y.type===j.VARIABLE?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsxs("p",{className:"font-semibold italic",children:["Stores as: ","{"+y.name+"}"]}),y.isRunning?u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Processing...)"}):y.lastRunOutput?u.jsxs("p",{className:"mt-1 text-green-300",children:["Last Value: ",y.lastRunOutput]}):u.jsx("p",{className:"mt-1 text-slate-400",children:"(No value captured yet)"})]}):y.type===j.QUESTION?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Q: ",y.prompt||Yo]}),y.isRunning?u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Awaiting user input...)"}):y.lastRunOutput?u.jsxs("p",{className:"mt-1 text-green-300",children:["Last Answer: ",y.lastRunOutput]}):u.jsx("p",{className:"mt-1 text-slate-400",children:"(No answer yet)"})]}):y.type===j.JAVASCRIPT?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["JS: ",y.prompt||"(No description)"]}),y.isRunning?u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Executing JS...)"}):y.lastRunOutput?u.jsxs("p",{className:"mt-1 text-green-300",children:["Output: ",y.lastRunOutput]}):u.jsx("p",{className:"mt-1 text-slate-400",children:"(No output yet)"})]}):y.type===j.PARALLEL?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Parallel: ",y.prompt||Au]}),y.isRunning&&u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Forking paths...)"}),y.parallelNextNodeIds&&y.parallelNextNodeIds.length>0&&u.jsxs("p",{className:"mt-1 text-slate-400 text-xxs",children:["Paths: ",y.parallelNextNodeIds.length]})]}):y.type===j.SYNCHRONIZE?u.jsxs("div",{className:"text-xs text-slate-200 h-14 overflow-y-auto custom-scroll w-full text-center px-1",children:[u.jsxs("p",{className:"font-semibold italic line-clamp-2",children:["Sync: ",y.prompt||Go]}),y.isRunning&&u.jsx("p",{className:"mt-1 text-yellow-300",children:"(Synchronizing...)"}),y.lastRunOutput&&u.jsxs("p",{className:"mt-1 text-green-300",children:["Output: ",y.lastRunOutput]})]}):u.jsx("p",{className:"text-xs text-slate-200 h-10 overflow-y-auto custom-scroll line-clamp-3 w-full text-center px-1",children:y.type===j.CONDITIONAL?`Eval: ${y.prompt||"(No prompt)"}`:y.prompt||"(No prompt configured)"})]}),y.type!==j.CONCLUSION&&y.type!==j.VARIABLE&&y.type!==j.QUESTION&&y.type!==j.JAVASCRIPT&&y.type!==j.PARALLEL&&y.type!==j.SYNCHRONIZE&&y.lastRunOutput&&u.jsx("div",{className:"mt-auto pt-1 border-t border-slate-500/50 w-full overflow-hidden",children:u.jsxs("p",{className:`text-xs ${y.hasError?"text-red-300":"text-green-300"} truncate text-center`,children:["Last Out: ",y.lastRunOutput]})})]},y.id)}),u.jsxs("svg",{className:"absolute top-0 left-0 pointer-events-none",style:{width:"10000px",height:"10000px"},"aria-hidden":"true",children:[u.jsx("defs",{children:u.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9.5",refY:"3.5",orient:"auto",fill:"#0EA5E9",children:u.jsx("polygon",{points:"0 0, 10 3.5, 0 7"})})}),o.map(y=>{const w=A(y.sourceId),z=A(y.targetId);if(!w||!z)return null;const V={x:w.position.x,y:w.position.y,width:da,height:ma},I={x:z.position.x,y:z.position.y,width:da,height:ma},D={x:w.position.x+da/2,y:w.position.y+ma/2},Q={x:z.position.x+da/2,y:z.position.y+ma/2},Z=d(Q,D,V),ne=d(D,Q,I),te=ne.x-Z.x,le=ne.y-Z.y,X=.2;let H=Z.x+te*.5,ie=Z.y+le*.5;const ce=-le*X,ue=te*X;let he=H+ce,be=ie+ue;Math.abs(te)<1&&Math.abs(le)<1&&(he+=(Math.random()-.5)*40+20*Math.sign(ce||1),be+=(Math.random()-.5)*40+20*Math.sign(ue||1));const Y=`M ${Z.x},${Z.y} Q ${he},${be} ${ne.x},${ne.y}`,q=.25*Z.x+.5*he+.25*ne.x,R=.25*Z.y+.5*be+.25*ne.y;return u.jsxs("g",{children:[u.jsx("path",{d:Y,stroke:"#0EA5E9",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)"}),y.condition&&u.jsx("text",{x:q,y:R-5,fill:"#94A3B8",fontSize:"10px",textAnchor:"middle",className:"pointer-events-auto",children:y.condition})]},y.id)})]})]}),u.jsx(ex,{scale:b.scale,onZoomIn:b.onZoomIn,onZoomOut:b.onZoomOut,onReset:b.onReset,minScale:b.minScale,maxScale:b.maxScale})]})},lx=({isOpen:i,questionText:o,onSubmit:d,onEndRun:r})=>{const[m,f]=v.useState("");v.useEffect(()=>{i&&f("")},[i,o]);const g=()=>{d(m)},S=()=>{r()};if(!i)return null;const x=u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:g,className:"inline-flex w-full justify-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:ml-3 sm:w-auto sm:text-sm",children:"Submit"}),u.jsx("button",{type:"button",onClick:S,className:"mt-3 inline-flex w-full justify-center rounded-md bg-red-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-slate-800 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"End Run"})]});return u.jsx(gn,{isOpen:i,onClose:()=>{},title:"User Input Required",footerContent:x,children:u.jsxs("div",{className:"space-y-4 text-slate-300",children:[u.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"userInput",className:"block text-sm font-medium",children:"Your Answer:"}),u.jsx("textarea",{id:"userInput",name:"userInput",rows:3,value:m,onChange:h=>f(h.target.value),className:"mt-1 block w-full rounded-md border-slate-600 bg-slate-700 p-2 shadow-sm focus:border-sky-500 focus:ring-sky-500 sm:text-sm custom-scroll",placeholder:"Enter your response here..."})]})]})})},ax=()=>{const i=v.useRef(null),o=v.useRef(null),d=ii(),[r,m]=v.useState(!1),[f,g]=v.useState(!0),[S,x]=v.useState(!1),[h,b]=v.useState(null),[T,E]=v.useState(!1),{currentProject:A,setCurrentProject:y,isLoading:w,hasUnsavedChanges:z,saveProjectState:V,isUnsavedChangesModalOpen:I,setIsUnsavedChangesModalOpen:D,handleRequestCloseProject:Q,handleSaveAndClose:Z,handleCloseWithoutSaving:ne}=hy(),{isProjectSettingsModalOpen:te,openProjectSettingsModal:le,closeProjectSettingsModal:X,isRunHistoryModalOpen:H,openRunHistoryModal:ie,closeRunHistoryModal:ce,isHelpModalOpen:ue,openHelpModal:he,closeHelpModal:be,isLlmErrorModalOpen:Y,llmErrorMessage:q,openLlmErrorModal:R,closeLlmErrorModal:P}=Cy(),{scale:N,translate:U,handleWheelOnCanvas:L,handleMouseDownOnCanvas:K,zoomIn:de,zoomOut:je,resetZoom:Ee,MIN_SCALE:ge,MAX_SCALE:me}=_y({editorAreaRef:i}),Xe=v.useCallback((re,ae)=>new Promise((pe,Pe)=>{b({questionText:re,onSubmit:tt=>{b(null),pe(tt)},onEndRun:()=>{b(null),Pe(new Error("User ended the run."))},resolve:pe,reject:Pe})}),[]),Ue=Oy({currentProject:A,saveProjectState:V,setCurrentProject:y,hasUnsavedChanges:z,requestUserInput:Xe}),{selectedNodeState:_t,setSelectedNodeState:Ct,isNodeModalOpen:Be,setIsNodeModalOpen:Le,deleteNodeConfirm:dt,setDeleteNodeConfirm:Xt,deleteActionInitiated:Et,setDeleteActionInitiated:an,handleAddNode:On,handleSaveNode:Il,confirmDeleteNode:rl,handleDeleteNodeRequest:Ka}=py({currentProject:A,setCurrentProject:y,saveProjectState:V,editorAreaRef:i,scale:N,translate:U}),{handleNodeMouseDown:Hl,handleNodeTouchStart:yn}=by({currentProject:A,setCurrentProject:y,editorAreaRef:i,setSelectedNodeState:Ct,setIsNodeModalOpen:Le,deleteActionInitiated:Et,setDeleteActionInitiated:an,scale:N,translate:U}),{isWorkflowRunning:zn,executionLogs:Pt,currentExecutingNodeId:vt,runStartTime:sn,runEndTime:Lt,totalTokensThisRun:ui,handleStopWorkflow:Ja,conclusionModalContent:ga,clearConclusionModalContent:ol,isSteppingActive:In,hasNextStep:xn,startStepThrough:cl,processAndAdvanceStep:Hn}=Ue,Bn=v.useMemo(()=>ft(A==null?void 0:A.nodes),[A==null?void 0:A.nodes]),{visualLinks:Bl,getLineToRectangleIntersectionPoint:Yl}=Ry(Bn),Yn=v.useCallback(async()=>{if(!(!A||Ue.isSteppingActive)&&!Ue.isWorkflowRunning)try{typeof Ue.runWorkflow=="function"?await Ue.runWorkflow():R("A critical error occurred: The workflow execution function is not available. Please try reloading the application.")}catch(re){const ae=re instanceof Error?re.message:String(re);ae.includes("User ended the run")||ae.includes("Run stopped")||(ae.toLowerCase().includes("chatgpt api error: api key")?R(u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:"ChatGPT API Error:"}),' The API key may be missing, invalid, or not authorized. Please ensure your ChatGPT API Key is correctly configured in "Application Settings".',u.jsxs("p",{className:"text-xs mt-2",children:["Original error: ",ae.replace("ChatGPT API Error: API key is invalid or not authorized. ","").replace("ChatGPT API Error: API key is not set. ","")]})]})):ae.toLowerCase().includes("chatgpt api error")?R(u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:"ChatGPT API Error:"})," ",ae.replace("ChatGPT API Error: ",""),u.jsx("p",{className:"text-xs mt-2",children:"Please check your OpenAI account status or try again later."})]})):ae.toLowerCase().includes("ollama")?R(u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:"Ollama Error:"})," ",ae.replace("Ollama API Error:","").replace("Ollama Network Error:",""),u.jsx("p",{className:"text-xs mt-2",children:'Please check your Ollama server status and settings in "App Settings".'})]})):ae.toLowerCase().includes("run failed")||R(`An unexpected error occurred during workflow execution: ${ae}`))}},[A,Ue,R,z]),Cn=re=>{if(!A)return;const ae={...A,...re};V(ae),X()},Bt=zl(),C=li();v.useEffect(()=>{if(new URLSearchParams(Bt.search).get("autorun")==="true"&&A&&!w&&!Ue.isWorkflowRunning&&!Ue.isSteppingActive&&!T){E(!0),Yn().catch(Pe=>{});const pe=new URLSearchParams(Bt.search);pe.delete("autorun"),C({pathname:Bt.pathname,search:pe.toString()},{replace:!0,state:Bt.state})}},[A,w,Ue.isWorkflowRunning,Ue.isSteppingActive,Bt,C,Yn,T]);const W=v.useCallback(()=>{x(re=>!re)},[]),oe=v.useCallback(()=>{d?m(re=>!re):g(re=>!re)},[d]),Te=d?r:f,et=v.useCallback(()=>{A&&(y({...A,runHistory:[]}),V({...A,runHistory:[]}))},[A,y,V]);if(w)return u.jsx("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:"Loading project..."});if(!A)return u.jsxs("div",{className:"p-4 text-center text-slate-300 h-screen flex flex-col justify-center items-center bg-slate-900",children:["Project not found. ",u.jsx(si,{to:"/",className:"text-sky-400 hover:text-sky-300 mt-2",children:"Go Home"})]});const lt={nodes:Bn,visualLinks:Bl,getLineToRectangleIntersectionPoint:Yl,scale:N,translate:U,editorAreaRef:i,canvasContentRef:o,onNodeMouseDown:Hl,onWheel:L,onCanvasMouseDown:K,zoomControls:{scale:N,onZoomIn:de,onZoomOut:je,onReset:Ee,minScale:ge,maxScale:me},onNodeTouchStart:yn,onDeleteNodeRequest:Ka};return u.jsxs("div",{className:"flex h-screen flex-col",children:[u.jsx(ph,{onRunProject:Yn,onStopProject:Ja,onStartStepThrough:cl,onProcessNextStep:Hn,currentProjectName:A.name,isWorkflowRunning:zn,onCloseProject:Q,isSteppingActive:In,hasNextStep:xn,onToggleSidebar:d?oe:void 0,onNavigateHome:()=>Q(zn),onToggleExecutionPanel:W,isExecutionPanelOpen:S}),u.jsxs("div",{className:"flex flex-1 overflow-hidden pb-12 sm:pb-0",children:[u.jsx(Fy,{isSidebarOpen:Te,toggleSidebar:oe,onAddNode:On,onOpenProjectSettingsModal:le,onOpenRunHistoryModal:ie,projectRunHistoryCount:A.runHistory.length,onCloseProject:()=>Q(zn),isWorkflowRunning:zn,onOpenHelpModal:he}),u.jsx(nx,{...lt})]}),u.jsx(Wy,{isOpen:S,onClose:W,logs:Ue.executionLogs||[],currentExecutingNodeId:Ue.currentExecutingNodeId,nodes:Ue.nodes,runStartTime:Ue.runStartTime,runEndTime:Ue.runEndTime,totalTokensThisRun:Ue.totalTokensThisRun,currentProjectName:(A==null?void 0:A.name)||""}),u.jsx(Py,{node:_t,isOpen:Be,onClose:()=>{Le(!1),Ct(null)},onSave:Il,allNodes:Bn}),u.jsx(Zy,{project:A,isOpen:te,onClose:X,onSave:Cn}),u.jsx(Qy,{runHistory:A.runHistory,isOpen:H,onClose:ce,onClearHistory:et}),u.jsx(Ky,{isOpen:ue,onClose:be}),h&&u.jsx(lx,{isOpen:!0,questionText:h.questionText,onSubmit:h.onSubmit,onEndRun:h.onEndRun}),u.jsx(gh,{isOpen:ga!==null,data:ga,onClose:ol}),u.jsx(Tu,{isOpen:dt.isOpen,onClose:()=>{Xt({isOpen:!1,nodeId:null,nodeName:null}),an(!1)},onConfirm:rl,title:"Confirm Delete Node",message:u.jsxs(u.Fragment,{children:['Are you sure you want to delete node "',u.jsx("strong",{children:dt.nodeName||"this node"}),'"? This cannot be undone.']}),confirmText:"Delete"}),u.jsx(Tu,{isOpen:Y,onClose:P,onConfirm:P,title:"LLM Configuration / API Error",message:q,confirmText:"OK",confirmButtonClass:"bg-sky-600 hover:bg-sky-700"}),u.jsx(Jy,{isOpen:I,onClose:()=>D(!1),onSaveAndClose:Z,onCloseWithoutSaving:ne})]})},sx=()=>{const[i,o]=v.useState(()=>ha.getAppSettings()),[d,r]=v.useState(()=>ha.getProjects()),m=v.useCallback(h=>{const b={...Fs,...h};o(b),ha.saveAppSettings(b)},[]),f=v.useCallback(h=>{r(b=>{const T=[...b,h];return ha.saveProjects(T),T})},[]),g=v.useCallback(h=>{r(b=>{const T={...h,updatedAt:new Date().toISOString()},E=b.map(A=>A.id===T.id?T:A);return ha.saveProjects(E),E})},[]),S=v.useCallback(h=>{r(b=>{const T=b.filter(E=>E.id!==h);return ha.saveProjects(T),T})},[]),x=v.useCallback(h=>d.find(b=>b.id===h),[d]);return u.jsx(rh.Provider,{value:{appSettings:i,setAppSettings:m},children:u.jsx(oh.Provider,{value:{projects:d,addProject:f,updateProject:g,deleteProject:S,getProjectById:x},children:u.jsx(Zg,{children:u.jsxs(Ag,{children:[u.jsx(Ho,{path:"/",element:u.jsx(ky,{})}),u.jsx(Ho,{path:"/project/:projectId",element:u.jsx(ax,{})})]})})})})},Nh=document.getElementById("root");if(!Nh)throw new Error("Could not find root element to mount to");const ix=_0.createRoot(Nh);ix.render(u.jsx(vu.StrictMode,{children:u.jsx(sx,{})}));
